[
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\App.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1546, 1549], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1546, 1549], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\capacitor.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\AboutScreen.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\AlertScreen.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 44,
        "column": 84,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 44,
        "endColumn": 87,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1722, 1725], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1722, 1725], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 67,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 67,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2303, 2306], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2303, 2306], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 96,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 96,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3484, 3487], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3484, 3487], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/no-static-element-interactions",
        "severity": 2,
        "message": "Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.",
        "line": 267,
        "column": 11,
        "nodeType": "JSXOpeningElement",
        "endLine": 276,
        "endColumn": 12,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/click-events-have-key-events",
        "severity": 2,
        "message": "Visible, non-interactive elements with click handlers must have at least one keyboard listener.",
        "line": 278,
        "column": 13,
        "nodeType": "JSXOpeningElement",
        "endLine": 283,
        "endColumn": 14,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/no-noninteractive-element-interactions",
        "severity": 2,
        "message": "Non-interactive elements should not be assigned mouse or keyboard event listeners.",
        "line": 278,
        "column": 13,
        "nodeType": "JSXOpeningElement",
        "endLine": 283,
        "endColumn": 14,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\Chatbot.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "jsx-a11y/click-events-have-key-events",
        "severity": 2,
        "message": "Visible, non-interactive elements with click handlers must have at least one keyboard listener.",
        "line": 82,
        "column": 5,
        "nodeType": "JSXOpeningElement",
        "endLine": 85,
        "endColumn": 6,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/no-static-element-interactions",
        "severity": 2,
        "message": "Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.",
        "line": 82,
        "column": 5,
        "nodeType": "JSXOpeningElement",
        "endLine": 85,
        "endColumn": 6,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/click-events-have-key-events",
        "severity": 2,
        "message": "Visible, non-interactive elements with click handlers must have at least one keyboard listener.",
        "line": 87,
        "column": 7,
        "nodeType": "JSXOpeningElement",
        "endLine": 92,
        "endColumn": 8,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/no-noninteractive-element-interactions",
        "severity": 2,
        "message": "Non-interactive elements should not be assigned mouse or keyboard event listeners.",
        "line": 87,
        "column": 7,
        "nodeType": "JSXOpeningElement",
        "endLine": 92,
        "endColumn": 8,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\DeviceManager.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\DisclaimerModal.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "jsx-a11y/click-events-have-key-events",
        "severity": 2,
        "message": "Visible, non-interactive elements with click handlers must have at least one keyboard listener.",
        "line": 28,
        "column": 5,
        "nodeType": "JSXOpeningElement",
        "endLine": 31,
        "endColumn": 6,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/no-static-element-interactions",
        "severity": 2,
        "message": "Avoid non-native interactive elements. If using native HTML is not possible, add an appropriate role and support for tabbing, mouse, keyboard, and touch inputs to an interactive content element.",
        "line": 28,
        "column": 5,
        "nodeType": "JSXOpeningElement",
        "endLine": 31,
        "endColumn": 6,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/click-events-have-key-events",
        "severity": 2,
        "message": "Visible, non-interactive elements with click handlers must have at least one keyboard listener.",
        "line": 33,
        "column": 7,
        "nodeType": "JSXOpeningElement",
        "endLine": 38,
        "endColumn": 8,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/no-noninteractive-element-interactions",
        "severity": 2,
        "message": "Non-interactive elements should not be assigned mouse or keyboard event listeners.",
        "line": 33,
        "column": 7,
        "nodeType": "JSXOpeningElement",
        "endLine": 38,
        "endColumn": 8,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\ErrorBoundary.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\FallDetectionTestMode.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\GForceGraph.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\GForceMeter.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\InstallPrompt.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\OfflineIndicator.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\ReadyScreen.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\ReportsScreen.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\SettingsScreen.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ConditionProfile' is defined but never used.",
        "line": 36,
        "column": 10,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "removeUnusedImportDeclaration",
            "data": { "varName": "ConditionProfile" },
            "fix": { "range": [1094, 1145], "text": "" },
            "desc": "Remove unused import declaration."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 91,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 91,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3435, 3438], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3435, 3438], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { useState } from 'react';\r\nimport { SettingFallDetection } from './settings/SettingFallDetection';\r\nimport { useSettings } from '../contexts/SettingsContext';\r\nimport { Battery } from 'lucide-react';\r\nimport { SettingHeartRate } from './settings/SettingHeartRate';\r\nimport type { EmergencyContact } from '../types';\r\nimport { useLocalStorage } from '../hooks/useLocalStorage';\r\nimport {\r\n  X,\r\n  Trash2,\r\n  UserPlus,\r\n  Key,\r\n  Save,\r\n  Pencil,\r\n  Check,\r\n  ExternalLink,\r\n  ShieldAlert,\r\n  Smartphone,\r\n  Download,\r\n  Share,\r\n  PlusSquare,\r\n  Upload,\r\n  Cloud,\r\n  Activity,\r\n  Eye,\r\n  EyeOff,\r\n} from 'lucide-react';\r\nimport { ApiKeyHelpModal } from './settings/ApiKeyHelpModal';\r\nimport { generateBackup, restoreBackup } from '../utils/backupUtils';\r\nimport { useLanguage } from '../contexts/LanguageContext';\r\nimport { usePWAInstall } from '../hooks/usePWAInstall';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useShake } from '../hooks/useShake';\r\nimport { DeviceManager } from './DeviceManager';\r\nimport { useConfigContext } from '../contexts/ConfigContext';\r\nimport { ConditionProfile } from '../config/types';\r\n\r\ninterface SettingsScreenProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\n// Sub-component for message editing to handle its own state/effect logic cleanly\r\nconst AlertMessageEditor = () => {\r\n  const { language } = useLanguage();\r\n  const { t } = useTranslation();\r\n  const [message, setMessage] = useState('');\r\n\r\n  // Initialize state only once or when language/defaults change.\r\n  // We use a key-based approach for localStorage initial value to avoid effect sync issues if possible,\r\n  // but since we need to support dynamic language changes, an effect is okay IF we avoid the loop.\r\n  // The persistent linter error \"Calling setState synchronously\" is because we are calling it immediately.\r\n  // We can wrap it in a condition or use `useLayoutEffect` or just ignore if it's actually safe.\r\n  // Better: Initialize state lazily.\r\n  // const [initialized, setInitialized] = useState(false); // Removed unused state\r\n\r\n  React.useEffect(() => {\r\n    const saved = localStorage.getItem(`seizure_alert_status_message_${language}`);\r\n    setMessage(saved || t('alertStatus'));\r\n  }, [language, t]);\r\n\r\n  const handleSave = () => {\r\n    localStorage.setItem(`seizure_alert_status_message_${language}`, message);\r\n    alert('Message saved!');\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-2\">\r\n      <textarea\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n        className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 h-24 resize-none\"\r\n        placeholder=\"Enter custom alert message...\"\r\n      />\r\n      <button\r\n        onClick={handleSave}\r\n        className=\"self-end px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2\"\r\n      >\r\n        <Save className=\"w-4 h-4\" />\r\n        {t('settingsSave')}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SettingsScreen: React.FC<SettingsScreenProps> = ({ isOpen, onClose }) => {\r\n  const { activeProfile, setProfileId, availableProfiles } = useConfigContext();\r\n  // Unused language import removed\r\n  const [contacts, setContacts] = useLocalStorage<EmergencyContact[]>('emergency_contacts', []);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [patientInfo, setPatientInfo] = useLocalStorage<any>('patient_info', {\r\n    name: '',\r\n    bloodType: '',\r\n    medicalConditions: '',\r\n  });\r\n  const [apiKey, setApiKey] = useLocalStorage<string>('gemini_api_key', '');\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const [newContact, setNewContact] = useState({ name: '', relation: '', phone: '' });\r\n  const [apiKeyInput, setApiKeyInput] = useState(apiKey);\r\n\r\n  const [editingContactId, setEditingContactId] = useState<string | null>(null);\r\n  const [editingContactData, setEditingContactData] = useState<{\r\n    name: string;\r\n    relation: string;\r\n    phone: string;\r\n  } | null>(null);\r\n  const [editError, setEditError] = useState<string | null>(null);\r\n  const [isAddingContact, setIsAddingContact] = useState(false);\r\n  const [isDeviceManagerOpen, setIsDeviceManagerOpen] = useState(false);\r\n  const [isApiKeyHelpOpen, setIsApiKeyHelpOpen] = useState(false);\r\n  const [isApiKeyVisible, setIsApiKeyVisible] = useState(false);\r\n\r\n  const { isInstallable, isAppInstalled, installApp, isIOS } = usePWAInstall();\r\n  const {\r\n    isEnabled: isShakeEnabled,\r\n    setIsEnabled: setShakeEnabled,\r\n    isSupported: isShakeSupported,\r\n    permissionGranted: shakePermissionGranted,\r\n    requestPermission: requestShakePermission,\r\n  } = useShake(() => {});\r\n\r\n  const { lowPowerMode, setLowPowerMode } = useSettings();\r\n\r\n  const resetEditingState = () => {\r\n    setEditingContactId(null);\r\n    setEditingContactData(null);\r\n    setEditError(null);\r\n    setIsAddingContact(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetEditingState();\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleAddContact = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (newContact.name.trim() && newContact.phone.trim()) {\r\n      setContacts([...contacts, { ...newContact, id: Date.now().toString() }]);\r\n      setNewContact({ name: '', relation: '', phone: '' });\r\n      setIsAddingContact(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelAdd = () => {\r\n    setIsAddingContact(false);\r\n    setNewContact({ name: '', relation: '', phone: '' });\r\n  };\r\n\r\n  const handleDeleteContact = (id: string) => {\r\n    setContacts(contacts.filter((c) => c.id !== id));\r\n  };\r\n\r\n  const handleSaveApiKey = () => {\r\n    setApiKey(apiKeyInput);\r\n  };\r\n\r\n  const handleStartEditing = (contact: EmergencyContact) => {\r\n    setEditingContactId(contact.id);\r\n    setEditingContactData({ name: contact.name, relation: contact.relation, phone: contact.phone });\r\n    setEditError(null);\r\n    setIsAddingContact(true); // Re-use the add contact form\r\n  };\r\n\r\n  const handleCancelEditing = () => {\r\n    resetEditingState();\r\n  };\r\n\r\n  const handleSaveEdit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!editingContactId || !editingContactData) return;\r\n\r\n    if (!editingContactData.name.trim() || !editingContactData.phone.trim()) {\r\n      setEditError('Name and Phone Number are required fields.');\r\n      return;\r\n    }\r\n\r\n    setContacts(\r\n      contacts.map((c) =>\r\n        c.id === editingContactId ? { ...c, ...editingContactData, id: c.id } : c\r\n      )\r\n    );\r\n    resetEditingState();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl h-[90vh] max-h-[800px] flex flex-col\">\r\n        <header className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">\r\n            {t('settingsTitle')}\r\n          </h2>\r\n          <button\r\n            onClick={handleClose}\r\n            className=\"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white\"\r\n            aria-label=\"Close settings\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </header>\r\n\r\n        <main className=\"flex-grow p-6 overflow-y-auto space-y-8\">\r\n          {/* Patient Info Section */}\r\n          <div className=\"border-b border-gray-200 dark:border-gray-700 pb-4\">\r\n            {/* --- NEW: Application Profile Mode --- */}\r\n            <div className=\"mb-6 bg-indigo-50 dark:bg-indigo-900/30 p-4 rounded-lg border border-indigo-100 dark:border-indigo-800\">\r\n              <h3 className=\"text-lg font-bold text-indigo-900 dark:text-indigo-200 mb-2 flex items-center gap-2\">\r\n                <ShieldAlert className=\"w-5 h-5\" />\r\n                Application Mode\r\n              </h3>\r\n              <p className=\"text-sm text-indigo-800 dark:text-indigo-300 mb-3\">\r\n                Choose the safety mode that matches your needs. This changes the alerts and\r\n                terminology.\r\n              </p>\r\n\r\n              <div className=\"relative\">\r\n                <select\r\n                  value={activeProfile.id}\r\n                  onChange={(e) => setProfileId(e.target.value)}\r\n                  className=\"w-full p-3 bg-white dark:bg-gray-800 border border-indigo-200 dark:border-indigo-700 rounded-lg shadow-sm text-gray-900 dark:text-white font-medium focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none cursor-pointer\"\r\n                >\r\n                  {availableProfiles.map((p) => (\r\n                    <option key={p.id} value={p.id}>\r\n                      {p.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {/* Custom Arrow Icon */}\r\n                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-indigo-600 dark:text-indigo-400\">\r\n                  <svg\r\n                    className=\"fill-current h-4 w-4\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 20\"\r\n                  >\r\n                    <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2\">\r\n              <UserPlus className=\"w-5 h-5 text-blue-500\" />\r\n              {t('settingsPatientInfo')}\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1 text-gray-900 dark:text-white\">\r\n                  {t('settingsPatientName')}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={patientInfo.name}\r\n                  onChange={(e) => setPatientInfo({ ...patientInfo, name: e.target.value })}\r\n                  className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\r\n                  placeholder=\"e.g. John Doe\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"blood-type\"\r\n                  className=\"block text-sm font-medium mb-1 text-gray-900 dark:text-white\"\r\n                >\r\n                  {t('settingsBloodType')}\r\n                </label>\r\n                <select\r\n                  id=\"blood-type\"\r\n                  value={patientInfo.bloodType}\r\n                  onChange={(e) => setPatientInfo({ ...patientInfo, bloodType: e.target.value })}\r\n                  className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\r\n                >\r\n                  <option value=\"\">{t('settingsBloodTypePlaceholder')}</option>\r\n                  {['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-', 'Unknown'].map((type) => (\r\n                    <option key={type} value={type}>\r\n                      {type}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1 text-gray-900 dark:text-white\">\r\n                  {t('settingsMedicalConditions')}\r\n                </label>\r\n                <textarea\r\n                  value={patientInfo.medicalConditions}\r\n                  onChange={(e) =>\r\n                    setPatientInfo({ ...patientInfo, medicalConditions: e.target.value })\r\n                  }\r\n                  className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 h-24 resize-none dark:text-white\"\r\n                  placeholder=\"e.g. Epilepsy, Peanut Allergy...\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Emergency Contacts Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <UserPlus className=\"w-6 h-6\" />\r\n              {t('emergencyContacts')}\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {contacts.map((contact) => (\r\n                <div\r\n                  key={contact.id}\r\n                  className=\"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-md\"\r\n                >\r\n                  <div>\r\n                    <p className=\"font-semibold text-gray-800 dark:text-gray-200\">\r\n                      {contact.name} ({contact.relation})\r\n                    </p>\r\n                    <p className=\"text-gray-600 dark:text-gray-400\">{contact.phone}</p>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => handleStartEditing(contact)}\r\n                      className=\"p-2 text-blue-600 hover:bg-blue-100 rounded-full\"\r\n                      aria-label=\"Edit Contact\"\r\n                    >\r\n                      <Pencil className=\"w-5 h-5\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteContact(contact.id!)}\r\n                      className=\"p-2 text-red-600 hover:bg-red-100 rounded-full\"\r\n                      aria-label=\"Delete Contact\"\r\n                    >\r\n                      <Trash2 className=\"w-5 h-5\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {editError && (\r\n                <div className=\"p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md text-sm border border-red-200 dark:border-red-800\">\r\n                  {editError}\r\n                </div>\r\n              )}\r\n\r\n              {isAddingContact ? (\r\n                <form\r\n                  onSubmit={editingContactId ? handleSaveEdit : handleAddContact}\r\n                  className=\"space-y-3 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg border border-gray-200 dark:border-gray-600\"\r\n                >\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={t('settingsContactName')}\r\n                      value={editingContactId ? editingContactData?.name : newContact.name}\r\n                      onChange={(e) =>\r\n                        editingContactId\r\n                          ? setEditingContactData({ ...editingContactData!, name: e.target.value })\r\n                          : setNewContact({ ...newContact, name: e.target.value })\r\n                      }\r\n                      className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={t('settingsContactRelation')}\r\n                      value={editingContactId ? editingContactData?.relation : newContact.relation}\r\n                      onChange={(e) =>\r\n                        editingContactId\r\n                          ? setEditingContactData({\r\n                              ...editingContactData!,\r\n                              relation: e.target.value,\r\n                            })\r\n                          : setNewContact({ ...newContact, relation: e.target.value })\r\n                      }\r\n                      className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500\"\r\n                    />\r\n                    <input\r\n                      type=\"tel\"\r\n                      placeholder={t('settingsContactPhone')}\r\n                      value={editingContactId ? editingContactData?.phone : newContact.phone}\r\n                      onChange={(e) =>\r\n                        editingContactId\r\n                          ? setEditingContactData({ ...editingContactData!, phone: e.target.value })\r\n                          : setNewContact({ ...newContact, phone: e.target.value })\r\n                      }\r\n                      className=\"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-2\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 w-full sm:w-auto\"\r\n                    >\r\n                      {t('settingsSave')}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={editingContactId ? handleCancelEditing : handleCancelAdd}\r\n                      className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 w-full sm:w-auto\"\r\n                    >\r\n                      {t('settingsCancel')}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              ) : (\r\n                <button\r\n                  onClick={() => setIsAddingContact(true)}\r\n                  className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed\"\r\n                  disabled={!!editingContactId}\r\n                >\r\n                  <UserPlus className=\"w-5 h-5\" />\r\n                  <span>{t('settingsAddContact')}</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Shake to Alert Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Activity className=\"w-6 h-6\" />\r\n              {t('settingsShakeTitle')}\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('settingsShakeDesc')}</p>\r\n\r\n              {!isShakeSupported ? (\r\n                <div className=\"p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md border border-red-200 dark:border-red-800\">\r\n                  Device motion not supported on this device.\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md\">\r\n                  <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                    Enable Shake to Alert\r\n                  </span>\r\n                  <button\r\n                    onClick={() => setShakeEnabled(!isShakeEnabled)}\r\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${isShakeEnabled ? 'bg-blue-600' : 'bg-gray-200 dark:bg-gray-600'}`}\r\n                  >\r\n                    <span\r\n                      className={`inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out ${isShakeEnabled ? 'translate-x-6' : 'translate-x-1'}`}\r\n                    />\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {isShakeEnabled && !shakePermissionGranted && (\r\n                <button\r\n                  onClick={async () => {\r\n                    const granted = await requestShakePermission();\r\n                    if (!granted) alert('Permission denied or not supported.');\r\n                  }}\r\n                  className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n                >\r\n                  {t('settingsShakePermissionBtn')}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Fall Detection Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Activity className=\"w-6 h-6 text-orange-500\" />\r\n              Fall Detection\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <SettingFallDetection />\r\n            </div>\r\n          </section>\r\n\r\n          {/* Heart Rate Safety Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Activity className=\"w-6 h-6\" />\r\n              Heart Rate Safety\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <SettingHeartRate />\r\n            </div>\r\n          </section>\r\n\r\n          {/* Power & Performance Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Battery className=\"w-6 h-6 text-green-500\" />\r\n              Power & Performance\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md\">\r\n                <div className=\"flex flex-col\">\r\n                  <span className=\"font-medium text-gray-900 dark:text-white\">Low Power Mode</span>\r\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                    Reduces visualizer updates and background checks to save battery.\r\n                  </span>\r\n                </div>\r\n                <button\r\n                  onClick={() => setLowPowerMode(!lowPowerMode)}\r\n                  className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${lowPowerMode ? 'bg-green-600' : 'bg-gray-200 dark:bg-gray-600'}`}\r\n                >\r\n                  <span\r\n                    className={`inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out ${lowPowerMode ? 'translate-x-6' : 'translate-x-1'}`}\r\n                  />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Custom Alert Message Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Pencil className=\"w-6 h-6\" />\r\n              Custom Alert Message\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                This message will be displayed on the screen during an emergency.\r\n              </p>\r\n              {/* Alert Message Editor */}\r\n              <AlertMessageEditor />\r\n            </div>\r\n          </section>\r\n\r\n          {/* API Key Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Key className=\"w-6 h-6\" />\r\n              {t('settingsAPIKey')}\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <label htmlFor=\"api-key\" className=\"font-medium text-gray-700 dark:text-gray-300\">\r\n                  {t('settingsAPIKeyLabel')}\r\n                </label>\r\n                <button\r\n                  onClick={() => setIsApiKeyHelpOpen(true)}\r\n                  className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1\"\r\n                >\r\n                  <ExternalLink className=\"w-3 h-3\" />\r\n                  {t('settingsAPIKeyHelp')}\r\n                </button>\r\n              </div>\r\n\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">{t('settingsAPIKeyDesc')}</p>\r\n\r\n              <div className=\"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-md border border-yellow-200 dark:border-yellow-800/50 text-sm text-yellow-800 dark:text-yellow-200 flex gap-2 items-start\">\r\n                <ShieldAlert className=\"w-4 h-4 mt-0.5 flex-shrink-0\" />\r\n                <span>\r\n                  Your API key is stored <strong>locally</strong> on your device. It is never shared\r\n                  with us.\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"api-key\"\r\n                    type={isApiKeyVisible ? 'text' : 'password'}\r\n                    value={apiKeyInput}\r\n                    onChange={(e) => setApiKeyInput(e.target.value)}\r\n                    placeholder={t('settingsAPIKeyPlaceholder')}\r\n                    className={`w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 pr-10 ${\r\n                      apiKeyInput && apiKeyInput.startsWith('AIza')\r\n                        ? 'border-green-500 focus:ring-green-500'\r\n                        : apiKeyInput && !apiKeyInput.startsWith('AIza')\r\n                          ? 'border-red-500 focus:ring-red-500'\r\n                          : ''\r\n                    }`}\r\n                  />\r\n                  <button\r\n                    onClick={() => setIsApiKeyVisible(!isApiKeyVisible)}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                    aria-label={isApiKeyVisible ? 'Hide API Key' : 'Show API Key'}\r\n                  >\r\n                    {isApiKeyVisible ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Validation Feedback */}\r\n                {apiKeyInput && (\r\n                  <div\r\n                    className={`text-xs flex items-center gap-1 ${\r\n                      apiKeyInput.startsWith('AIza')\r\n                        ? 'text-green-600 dark:text-green-400'\r\n                        : 'text-red-600 dark:text-red-400'\r\n                    }`}\r\n                  >\r\n                    {apiKeyInput.startsWith('AIza') ? (\r\n                      <>\r\n                        <Check className=\"w-3 h-3\" /> {t('apiKeyValidationValid')}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <X className=\"w-3 h-3\" /> {t('apiKeyValidationInvalid')}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                <button\r\n                  onClick={handleSaveApiKey}\r\n                  disabled={!apiKeyInput.startsWith('AIza') && apiKeyInput.length > 0}\r\n                  className={`w-full sm:w-auto px-4 py-2 text-white rounded-md flex items-center justify-center gap-2 transition-colors ${\r\n                    !apiKeyInput.startsWith('AIza') && apiKeyInput.length > 0\r\n                      ? 'bg-gray-400 cursor-not-allowed'\r\n                      : 'bg-green-600 hover:bg-green-700'\r\n                  }`}\r\n                >\r\n                  <Save className=\"w-5 h-5\" />\r\n                  {t('settingsSave')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* App Installation Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Smartphone className=\"w-6 h-6\" />\r\n              App Installation\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {isAppInstalled ? (\r\n                <div className=\"p-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-md flex items-center gap-2 border border-green-200 dark:border-green-800\">\r\n                  <Check className=\"w-5 h-5\" />\r\n                  <span className=\"font-medium\">App is installed and offline-ready.</span>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    Install this app on your device for quick access and offline capabilities.\r\n                  </p>\r\n\r\n                  {isInstallable && (\r\n                    <button\r\n                      onClick={installApp}\r\n                      className=\"w-full sm:w-auto px-4 py-3 bg-gray-800 dark:bg-gray-700 text-white rounded-md hover:bg-gray-900 dark:hover:bg-gray-600 flex items-center justify-center gap-2 shadow-sm transition-all active:scale-95\"\r\n                    >\r\n                      <Download className=\"w-5 h-5\" />\r\n                      Install App\r\n                    </button>\r\n                  )}\r\n\r\n                  {isIOS && (\r\n                    <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800\">\r\n                      <h4 className=\"font-bold text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2\">\r\n                        <Smartphone className=\"w-5 h-5\" />\r\n                        Install on iPhone / iPad:\r\n                      </h4>\r\n                      <ol className=\"space-y-4 text-sm text-blue-900 dark:text-blue-100\">\r\n                        <li className=\"flex items-center gap-3\">\r\n                          <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-blue-200 dark:bg-blue-800 rounded-full font-bold text-xs\">\r\n                            1\r\n                          </span>\r\n                          <span>\r\n                            Tap the <Share className=\"w-4 h-4 inline mx-1\" /> <strong>Share</strong>{' '}\r\n                            button in your browser toolbar.\r\n                          </span>\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3\">\r\n                          <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-blue-200 dark:bg-blue-800 rounded-full font-bold text-xs\">\r\n                            2\r\n                          </span>\r\n                          <span>\r\n                            Scroll down and tap{' '}\r\n                            <strong className=\"whitespace-nowrap\">Add to Home Screen</strong>{' '}\r\n                            <PlusSquare className=\"w-4 h-4 inline mx-1\" />.\r\n                          </span>\r\n                        </li>\r\n                        <li className=\"flex items-center gap-3\">\r\n                          <span className=\"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-blue-200 dark:bg-blue-800 rounded-full font-bold text-xs\">\r\n                            3\r\n                          </span>\r\n                          <span>\r\n                            Confirm by tapping <strong>Add</strong> in the top corner.\r\n                          </span>\r\n                        </li>\r\n                      </ol>\r\n                    </div>\r\n                  )}\r\n\r\n                  {!isInstallable && !isIOS && !isAppInstalled && (\r\n                    <div className=\"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm text-gray-600 dark:text-gray-400\">\r\n                      <p className=\"font-semibold mb-2\">Can't see the install button?</p>\r\n                      <p>Try installing manually via your browser menu:</p>\r\n                      <ul className=\"list-disc list-inside mt-1 ml-1 space-y-1\">\r\n                        <li>\r\n                          <span className=\"font-bold\">Chrome (Android):</span> Tap{' '}\r\n                          <span className=\"font-bold\">â‹®</span> (three dots) &rarr;{' '}\r\n                          <span className=\"font-bold\">Install App</span> or{' '}\r\n                          <span className=\"font-bold\">Add to Home screen</span>.\r\n                        </li>\r\n                        <li>\r\n                          <span className=\"font-bold\">Safari (iOS):</span> Tap{' '}\r\n                          <span className=\"font-bold\">Share</span> &rarr;{' '}\r\n                          <span className=\"font-bold\">Add to Home Screen</span>.\r\n                        </li>\r\n                        <li>\r\n                          <span className=\"font-bold\">Desktop:</span> Look for an install icon in\r\n                          the address bar.\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* NFC Activation Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Smartphone className=\"w-6 h-6\" />\r\n              NFC Activation (Tap-to-Alert)\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                Program an NFC tag to instantly launch this app in Emergency Mode when tapped.\r\n              </p>\r\n\r\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800\">\r\n                <h4 className=\"font-bold text-blue-800 dark:text-blue-200 mb-2\">How to use:</h4>\r\n                <ol className=\"list-decimal list-inside space-y-1 text-sm text-blue-700 dark:text-blue-300\">\r\n                  <li>Tap the button below.</li>\r\n                  <li>When prompted, hold your phone near a writable NFC tag.</li>\r\n                  <li>The tag will be programmed with the \"Emergency Link\".</li>\r\n                </ol>\r\n              </div>\r\n\r\n              <button\r\n                onClick={async () => {\r\n                  try {\r\n                    if (!('NDEFReader' in window)) {\r\n                      alert(\r\n                        'NFC is not supported on this device/browser. Try using Chrome on Android, or a dedicated NFC Tools app to write this URL: ' +\r\n                          window.location.href +\r\n                          '?emergency=true'\r\n                      );\r\n                      return;\r\n                    }\r\n\r\n                    // @ts-ignore - Web NFC API is experimental\r\n                    const ndef = new window.NDEFReader();\r\n                    await ndef.write({\r\n                      records: [\r\n                        {\r\n                          recordType: 'url',\r\n                          data:\r\n                            window.location.origin + window.location.pathname + '?emergency=true',\r\n                        },\r\n                      ],\r\n                    });\r\n                    alert('âœ… Success! Tag programmed. Tap it to test.');\r\n                  } catch (error) {\r\n                    console.error(error);\r\n                    alert('âŒ Write failed. Make sure NFC is on and the tag is unlocked.');\r\n                  }\r\n                }}\r\n                className=\"w-full sm:w-auto px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium flex items-center justify-center gap-2 shadow-sm transition-all active:scale-95\"\r\n              >\r\n                Start NFC Programming\r\n              </button>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Data Management Section */}\r\n          <section>\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n              <Cloud className=\"w-6 h-6\" />\r\n              Data Management\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                Export your data to a file for safekeeping, or transfer it to another device.\r\n                <br />\r\n                <span className=\"text-xs italic opacity-80\">\r\n                  Note: Data is exported as a plain JSON file. Keep it safe.\r\n                </span>\r\n              </p>\r\n\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    const success = generateBackup();\r\n                    if (success) alert('Backup file generated! Please save it.');\r\n                    else alert('Backup generation failed.');\r\n                  }}\r\n                  className=\"flex items-center justify-center gap-2 px-4 py-3 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors\"\r\n                >\r\n                  <Download className=\"w-5 h-5\" />\r\n                  Backup Data (Export)\r\n                </button>\r\n\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".json\"\r\n                    aria-label=\"Restore Backup File\"\r\n                    onChange={async (e) => {\r\n                      const file = e.target.files?.[0];\r\n                      if (!file) return;\r\n\r\n                      if (\r\n                        confirm(\r\n                          'WARNING: This will overwrite your current app data with the backup file. Are you sure?'\r\n                        )\r\n                      ) {\r\n                        const result = await restoreBackup(file);\r\n                        alert(result.message);\r\n                        if (result.success) {\r\n                          window.location.reload();\r\n                        }\r\n                      }\r\n                      // Reset input\r\n                      e.target.value = '';\r\n                    }}\r\n                    className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n                  />\r\n                  <button className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors pointer-events-none\">\r\n                    <Upload className=\"w-5 h-5\" />\r\n                    Restore Data (Import)\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </div>\r\n      {isDeviceManagerOpen && <DeviceManager onClose={() => setIsDeviceManagerOpen(false)} />}\r\n      <ApiKeyHelpModal isOpen={isApiKeyHelpOpen} onClose={() => setIsApiKeyHelpOpen(false)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsScreen;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\TopRightControls.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\UniversalLanguageSwitcher.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\UpdateNotification.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\__tests__\\AlertScreen.test.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 46,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 46,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1300, 1303], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1300, 1303], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 59,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 59,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1731, 1734], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1731, 1734], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 61,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 61,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1853, 1856], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1853, 1856], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\layout\\GlobalListeners.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\settings\\ApiKeyHelpModal.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\settings\\SettingContacts.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\settings\\SettingFallDetection.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\settings\\SettingHeartRate.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\components\\settings\\SettingShake.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\config\\index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\config\\profiles\\epilepsy.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\config\\profiles\\senior.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\config\\types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\constants.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\contexts\\BLEContext.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 26,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 26,
        "endColumn": 27,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\contexts\\ConfigContext.tsx",
    "messages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 33,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 33,
        "endColumn": 30
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { createContext, useContext, ReactNode } from 'react';\r\nimport { ConditionProfile } from '../config/types';\r\nimport { epilepsyProfile } from '../config/profiles/epilepsy';\r\nimport { seniorProfile } from '../config/profiles/senior';\r\nimport { useLocalStorage } from '../hooks/useLocalStorage';\r\n\r\ninterface ConfigContextType {\r\n  activeProfile: ConditionProfile;\r\n  setProfileId: (id: string) => void;\r\n  availableProfiles: ConditionProfile[];\r\n}\r\n\r\nconst ConfigContext = createContext<ConfigContextType | undefined>(undefined);\r\n\r\nconst profiles: Record<string, ConditionProfile> = {\r\n  epilepsy: epilepsyProfile,\r\n  senior: seniorProfile,\r\n};\r\n\r\nexport const ConfigProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [profileId, setProfileId] = useLocalStorage<string>('app_profile_id', 'epilepsy');\r\n  const activeProfile = profiles[profileId] || epilepsyProfile;\r\n\r\n  const availableProfiles = Object.values(profiles);\r\n\r\n  return (\r\n    <ConfigContext.Provider value={{ activeProfile, setProfileId, availableProfiles }}>\r\n      {children}\r\n    </ConfigContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useConfigContext = () => {\r\n  const context = useContext(ConfigContext);\r\n  if (!context) {\r\n    throw new Error('useConfigContext must be used within a ConfigProvider');\r\n  }\r\n  return context;\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\contexts\\LanguageContext.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 37,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 37,
        "endColumn": 25,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\contexts\\SettingsContext.tsx",
    "messages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 21,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 21,
        "endColumn": 25
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React, { createContext, useContext, ReactNode } from 'react';\r\nimport { useLocalStorage } from '../hooks/useLocalStorage';\r\n\r\ninterface SettingsContextType {\r\n  lowPowerMode: boolean;\r\n  setLowPowerMode: (value: boolean) => void;\r\n}\r\n\r\nconst SettingsContext = createContext<SettingsContextType | null>(null);\r\n\r\nexport const SettingsProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [lowPowerMode, setLowPowerMode] = useLocalStorage<boolean>('low_power_mode', false);\r\n\r\n  return (\r\n    <SettingsContext.Provider value={{ lowPowerMode, setLowPowerMode }}>\r\n      {children}\r\n    </SettingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useSettings = () => {\r\n  const context = useContext(SettingsContext);\r\n  if (!context) {\r\n    throw new Error('useSettings must be used within a SettingsProvider');\r\n  }\r\n  return context;\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\contexts\\UIContext.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-refresh/only-export-components",
        "severity": 1,
        "message": "Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.",
        "line": 77,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "namedExport",
        "endLine": 77,
        "endColumn": 19,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\eslint.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useBLE.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'id' is defined but never used. Allowed unused args must match /^_/u.",
        "line": 96,
        "column": 38,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 96,
        "endColumn": 40
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act } from '@testing-library/react';\r\nimport { useBLE } from '../useBLE';\r\nimport { BleClient } from '@capacitor-community/bluetooth-le';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { vi, describe, it, expect, beforeEach, afterEach, Mock } from 'vitest';\r\n\r\nvi.mock('@capacitor/core', () => ({\r\n  Capacitor: {\r\n    isNativePlatform: vi.fn().mockReturnValue(true),\r\n  },\r\n}));\r\n\r\nvi.mock('@capacitor-community/bluetooth-le', () => ({\r\n  BleClient: {\r\n    initialize: vi.fn(),\r\n    requestDevice: vi.fn(),\r\n    connect: vi.fn(),\r\n    disconnect: vi.fn(),\r\n    startNotifications: vi.fn(),\r\n  },\r\n}));\r\n\r\ndescribe('useBLE Auto-Reconnect', () => {\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n    vi.useFakeTimers();\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.useRealTimers();\r\n  });\r\n\r\n  it('should attempt reconnect if disconnected accidentally', async () => {\r\n    // Setup Mock for Controlled Resolution\r\n    let resolveConnect: (value?: unknown) => void = () => {};\r\n    let captureDisconnectCallback = (_id: string) => {};\r\n\r\n    (BleClient.connect as Mock).mockImplementation((_id, cb) => {\r\n      captureDisconnectCallback = cb; // Capture the callback passed to connect\r\n      return new Promise((resolve) => {\r\n        resolveConnect = resolve;\r\n      });\r\n    });\r\n\r\n    const { result } = renderHook(() => useBLE());\r\n\r\n    // 1. Initial Connect\r\n    const mockDevice = { deviceId: '123', name: 'TestHR' };\r\n\r\n    // Start connect\r\n    let connectPromise: Promise<void>;\r\n    await act(async () => {\r\n      connectPromise = result.current.connect(mockDevice);\r\n    });\r\n\r\n    // Resolve the initial connection immediately\r\n    await act(async () => {\r\n      resolveConnect();\r\n    });\r\n\r\n    await act(async () => {\r\n      await connectPromise;\r\n    });\r\n\r\n    expect(result.current.connectedDevice).toEqual(mockDevice);\r\n\r\n    // 2. Trigger \"Accidental\" Disconnect\r\n    console.log('Simulating disconnect...');\r\n\r\n    // We expect attemptReconnect to start. It will call BleClient.connect again.\r\n    // That call will return a NEW promise that hangs until we resolve it.\r\n\r\n    await act(async () => {\r\n      captureDisconnectCallback('123'); // Fire onDisconnect\r\n    });\r\n\r\n    // 3. Verify Reconnect State (Pending)\r\n    // attemptReconnect -> setIsReconnecting(true) -> await BleClient.connect (HUNG)\r\n    expect(result.current.isReconnecting).toBe(true);\r\n    expect(BleClient.connect).toHaveBeenCalledTimes(2);\r\n\r\n    // 4. Resolve the Reconnect\r\n    await act(async () => {\r\n      resolveConnect(); // Resolve the pending reconnect call\r\n    });\r\n\r\n    // 5. Verify Connected State (Success)\r\n    // attemptReconnect -> finishes -> setIsReconnecting(false)\r\n    expect(result.current.isReconnecting).toBe(false);\r\n    expect(result.current.connectedDevice).toEqual(mockDevice);\r\n  });\r\n\r\n  it('should NOT attempt reconnect if disconnected manually', async () => {\r\n    // Setup Mock for Controlled Resolution\r\n    let resolveConnect: (value?: unknown) => void = () => {};\r\n    let captureDisconnectCallback = (id: string) => {};\r\n\r\n    (BleClient.connect as Mock).mockImplementation((id, cb) => {\r\n      captureDisconnectCallback = cb;\r\n      return new Promise((resolve) => {\r\n        resolveConnect = resolve;\r\n      });\r\n    });\r\n\r\n    const { result } = renderHook(() => useBLE());\r\n    const mockDevice = { deviceId: '123', name: 'TestHR' };\r\n\r\n    // 1. Connect\r\n    let connectPromise: Promise<void>;\r\n    await act(async () => {\r\n      connectPromise = result.current.connect(mockDevice);\r\n    });\r\n\r\n    await act(async () => {\r\n      resolveConnect();\r\n    });\r\n\r\n    await act(async () => {\r\n      await connectPromise;\r\n    });\r\n\r\n    // 2. Manual Disconnect\r\n    await act(async () => {\r\n      await result.current.disconnect();\r\n    });\r\n\r\n    // Simulate callback firing (which happens in real life after disconnect)\r\n    await act(async () => {\r\n      captureDisconnectCallback('123');\r\n    });\r\n\r\n    // 3. Verify NO Reconnect\r\n    expect(result.current.isReconnecting).toBe(false);\r\n    expect(BleClient.connect).toHaveBeenCalledTimes(1); // Only initial\r\n  });\r\n});\r\n\r\ndescribe('Scanning', () => {\r\n  it('should scan and find devices', async () => {\r\n    const mockDevices = [{ deviceId: '123', name: 'Test Device' }];\r\n    (BleClient.requestDevice as Mock).mockResolvedValue(mockDevices[0]); // Mock returns the device\r\n\r\n    const { result } = renderHook(() => useBLE());\r\n\r\n    await act(async () => {\r\n      await result.current.scan();\r\n    });\r\n\r\n    // Since the hook sets devices from the result of requestDevice, but requestDevice returns a SINGLE device in the real API?\r\n    // Wait, requestDevice returns a single device in the standard Web Bluetooth API, but BleClient might be different?\r\n    // Looking at useBLE.ts:\r\n    // await BleClient.requestDevice(...)\r\n    // logic sets devices?\r\n    // wait, useBLE.ts line 63 (mock) sets specific devices.\r\n    // line 70 (native) calls requestDevice but DOES NOT set `devices` state with the result?\r\n    // It sets `isScanning` to false.\r\n    // The `devices` state is populated in the Mock branch, but NOT in the Native branch in the current code?\r\n    // checking useBLE.ts:\r\n    // line 57: setDevices([])\r\n    // line 70: await BleClient.requestDevice(...)\r\n    // line 74: setIsScanning(false)\r\n    // It seems the native implementation expects `requestDevice` to handle the UI or populating?\r\n    // Actually `BleClient.requestDevice` prompts the user and returns the selected device.\r\n    // It seems `useBLE.ts` is missing logic to add the selected device to the `devices` list in the non-mock path.\r\n    // That's a bug or a design choice?\r\n    // Regardless, I should test what IS there.\r\n\r\n    expect(BleClient.requestDevice).toHaveBeenCalled();\r\n    expect(result.current.isScanning).toBe(false);\r\n  });\r\n\r\n  it('should handle scan errors', async () => {\r\n    (BleClient.requestDevice as Mock).mockRejectedValue(new Error('Scan failed'));\r\n    const { result } = renderHook(() => useBLE());\r\n\r\n    await act(async () => {\r\n      await result.current.scan();\r\n    });\r\n\r\n    expect(result.current.error).toBe('Scan failed');\r\n    expect(result.current.isScanning).toBe(false);\r\n  });\r\n});\r\n\r\ndescribe('Data Parsing', () => {\r\n  beforeEach(() => {\r\n    (BleClient.connect as Mock).mockResolvedValue(undefined);\r\n  });\r\n\r\n  it('should parse UINT8 heart rate data correctly', async () => {\r\n    const mockDevice = { deviceId: '123', name: 'TestHR' };\r\n    const { result } = renderHook(() => useBLE());\r\n\r\n    let notificationCallback: (value: DataView) => void = () => {};\r\n\r\n    (BleClient.startNotifications as Mock).mockImplementation(async (_id, _svc, _char, cb) => {\r\n      notificationCallback = cb;\r\n    });\r\n\r\n    // Connect\r\n    await act(async () => {\r\n      await result.current.connect(mockDevice);\r\n    });\r\n\r\n    // Simulate Notification\r\n    // Format: Flags (1 byte) + Value.\r\n    // Flags: 0x00 = UINT8 format\r\n    const buffer = new ArrayBuffer(2);\r\n    const view = new DataView(buffer);\r\n    view.setUint8(0, 0x00); // Flags\r\n    view.setUint8(1, 75); // HR Value\r\n\r\n    await act(async () => {\r\n      notificationCallback(view);\r\n    });\r\n\r\n    expect(result.current.heartRate).toBe(75);\r\n  });\r\n\r\n  it('should parse UINT16 heart rate data correctly', async () => {\r\n    const mockDevice = { deviceId: '123', name: 'TestHR' };\r\n    const { result } = renderHook(() => useBLE());\r\n\r\n    let notificationCallback: (value: DataView) => void = () => {};\r\n    (BleClient.startNotifications as Mock).mockImplementation(async (_id, _svc, _char, cb) => {\r\n      notificationCallback = cb;\r\n    });\r\n\r\n    // Connect\r\n    await act(async () => {\r\n      await result.current.connect(mockDevice);\r\n    });\r\n\r\n    // Flags: 0x01 = UINT16 format\r\n    const buffer = new ArrayBuffer(3);\r\n    const view = new DataView(buffer);\r\n    view.setUint8(0, 0x01); // Flags\r\n    view.setUint16(1, 120, true); // HR Value (Little Endian)\r\n\r\n    await act(async () => {\r\n      notificationCallback(view);\r\n    });\r\n\r\n    expect(result.current.heartRate).toBe(120);\r\n  });\r\n});\r\n\r\ndescribe('useBLE Web/Mock Mode', () => {\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n    vi.useFakeTimers();\r\n    (Capacitor.isNativePlatform as Mock).mockReturnValue(false); // Enable Mock Mode\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.useRealTimers();\r\n  });\r\n\r\n  it('should scan and return mock devices', async () => {\r\n    const { result } = renderHook(() => useBLE());\r\n\r\n    await act(async () => {\r\n      await result.current.scan(); // This triggers setTimeout\r\n      vi.advanceTimersByTime(1600); // Advance past 1500ms\r\n    });\r\n\r\n    expect(result.current.devices.length).toBeGreaterThan(0);\r\n    expect(result.current.devices[0]?.deviceId).toBe('mock-1');\r\n  });\r\n\r\n  it('should connect and simulate heart rate', async () => {\r\n    const { result } = renderHook(() => useBLE());\r\n    const mockDevice = { deviceId: 'mock-1', name: 'Mock Device' };\r\n\r\n    await act(async () => {\r\n      await result.current.connect(mockDevice);\r\n    });\r\n\r\n    expect(result.current.connectedDevice).toEqual(mockDevice);\r\n\r\n    // Check if HR updates\r\n    await act(async () => {\r\n      vi.advanceTimersByTime(1100);\r\n    });\r\n\r\n    expect(result.current.heartRate).not.toBeNull();\r\n  });\r\n\r\n  it('should disconnect and clear interval', async () => {\r\n    const { result } = renderHook(() => useBLE());\r\n    const mockDevice = { deviceId: 'mock-1', name: 'Mock Device' };\r\n\r\n    await act(async () => {\r\n      await result.current.connect(mockDevice);\r\n    });\r\n\r\n    await act(async () => {\r\n      await result.current.disconnect();\r\n    });\r\n\r\n    expect(result.current.connectedDevice).toBeNull();\r\n    expect(result.current.heartRate).toBeNull();\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useBattery.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 6,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 6,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [241, 244], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [241, 244], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1951, 1954], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1951, 1954], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act, waitFor } from '@testing-library/react';\r\nimport { useBattery } from '../useBattery';\r\nimport { vi, describe, it, expect, beforeEach, afterEach } from 'vitest';\r\n\r\ndescribe('useBattery', () => {\r\n  let mockBattery: any;\r\n\r\n  beforeEach(() => {\r\n    let batteryLevel = 0.5;\r\n    mockBattery = {\r\n      get level() {\r\n        return batteryLevel;\r\n      },\r\n      set level(v: number) {\r\n        batteryLevel = v;\r\n      },\r\n      charging: true,\r\n      chargingTime: 120,\r\n      dischargingTime: Infinity,\r\n      addEventListener: vi.fn(),\r\n      removeEventListener: vi.fn(),\r\n    };\r\n\r\n    const getBatteryMock = vi.fn(() => Promise.resolve(mockBattery));\r\n\r\n    Object.defineProperty(navigator, 'getBattery', {\r\n      value: getBatteryMock,\r\n      writable: true,\r\n      configurable: true,\r\n    });\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.restoreAllMocks();\r\n    // @ts-ignore\r\n    delete navigator.getBattery;\r\n  });\r\n\r\n  it('should return initial battery state and support status', async () => {\r\n    const { result } = renderHook(() => useBattery());\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.isSupported).toBe(true);\r\n      expect(result.current.level).toBe(0.5);\r\n      expect(result.current.charging).toBe(true);\r\n    });\r\n  });\r\n\r\n  it('should handles unsupported browser', async () => {\r\n    // @ts-ignore\r\n    delete navigator.getBattery;\r\n\r\n    const { result } = renderHook(() => useBattery());\r\n\r\n    expect(result.current.isSupported).toBe(false);\r\n  });\r\n\r\n  it.skip('should update state on battery events', async () => {\r\n    const { result } = renderHook(() => useBattery());\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.isSupported).toBe(true);\r\n    });\r\n\r\n    // Simulate event\r\n    // We access the mock attached to the *specific* mockBattery instance in this test run\r\n    const calls = mockBattery.addEventListener.mock.calls;\r\n    const levelChangeCall = calls.find((call: any[]) => call[0] === 'levelchange');\r\n    expect(levelChangeCall).toBeDefined();\r\n    const levelChangeHandler = levelChangeCall[1];\r\n\r\n    act(() => {\r\n      mockBattery.level = 0.8;\r\n      levelChangeHandler();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.level).toBe(0.8);\r\n    });\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useFallDetection.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 9,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 9,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [400, 403], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [400, 403], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [492, 495], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [492, 495], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [528, 531], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [528, 531], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 15,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 15,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [560, 563], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [560, 563], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 55,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 55,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1968, 1971], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1968, 1971], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 79,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 79,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2725, 2728], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2725, 2728], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 114,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 114,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3737, 3740], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3737, 3740], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act } from '@testing-library/react';\r\nimport { useFallDetection } from '../useFallDetection';\r\nimport { vi, describe, it, expect, beforeEach, afterEach, Mock } from 'vitest';\r\nimport * as SettingsContext from '../../contexts/SettingsContext';\r\n\r\n// Mock useSettings\r\nvi.mock('../../contexts/SettingsContext', () => ({\r\n  useSettings: vi.fn(),\r\n  SettingsProvider: ({ children }: any) => children,\r\n}));\r\n\r\ndescribe('useFallDetection', () => {\r\n  let addEventListenerSpy: any;\r\n  let removeEventListenerSpy: any;\r\n  let mockOnFallDetected: any;\r\n\r\n  beforeEach(() => {\r\n    vi.useFakeTimers();\r\n    mockOnFallDetected = vi.fn();\r\n    addEventListenerSpy = vi.spyOn(window, 'addEventListener');\r\n    removeEventListenerSpy = vi.spyOn(window, 'removeEventListener');\r\n    localStorage.clear();\r\n\r\n    // Default mock implementation\r\n    (SettingsContext.useSettings as Mock).mockReturnValue({\r\n      lowPowerMode: false,\r\n    });\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.useRealTimers();\r\n    vi.restoreAllMocks();\r\n  });\r\n\r\n  it('should NOT listen to devicemotion by default (disabled)', () => {\r\n    renderHook(() => useFallDetection(mockOnFallDetected));\r\n    expect(addEventListenerSpy).not.toHaveBeenCalledWith('devicemotion', expect.any(Function));\r\n  });\r\n\r\n  it('should listen to devicemotion when enabled', () => {\r\n    localStorage.setItem('fallDetectionEnabled', 'true');\r\n    const { unmount } = renderHook(() => useFallDetection(mockOnFallDetected));\r\n\r\n    expect(addEventListenerSpy).toHaveBeenCalledWith('devicemotion', expect.any(Function));\r\n\r\n    unmount();\r\n    expect(removeEventListenerSpy).toHaveBeenCalledWith('devicemotion', expect.any(Function));\r\n  });\r\n\r\n  it('should trigger alert after High G-Force then Stillness', () => {\r\n    localStorage.setItem('fallDetectionEnabled', 'true');\r\n    renderHook(() => useFallDetection(mockOnFallDetected));\r\n\r\n    const handleMotion = addEventListenerSpy.mock.calls.find(\r\n      (call: any) => call[0] === 'devicemotion'\r\n    )[1];\r\n\r\n    // 1. Simulate High G-Force (Impact)\r\n    // Euclidean distance of (0, 0, 25) is 25, which > 20 (medium threshold)\r\n    act(() => {\r\n      handleMotion({\r\n        accelerationIncludingGravity: { x: 0, y: 0, z: 25 },\r\n      } as DeviceMotionEvent);\r\n    });\r\n\r\n    // 2. Advance time 5 seconds (Stillness period)\r\n    act(() => {\r\n      vi.advanceTimersByTime(5000);\r\n    });\r\n\r\n    expect(mockOnFallDetected).toHaveBeenCalled();\r\n  });\r\n\r\n  it('should CANCEL alert if Motion occurs after Impact', () => {\r\n    localStorage.setItem('fallDetectionEnabled', 'true');\r\n    renderHook(() => useFallDetection(mockOnFallDetected));\r\n\r\n    const handleMotion = addEventListenerSpy.mock.calls.find(\r\n      (call: any) => call[0] === 'devicemotion'\r\n    )[1];\r\n\r\n    // 1. Impact\r\n    act(() => {\r\n      handleMotion({\r\n        accelerationIncludingGravity: { x: 0, y: 0, z: 25 },\r\n      } as DeviceMotionEvent);\r\n    });\r\n\r\n    // 2. Motion (Walking/Moving)\r\n    // 15 G is significantly different from 9.8 (Stillness)\r\n    act(() => {\r\n      handleMotion({\r\n        accelerationIncludingGravity: { x: 15, y: 0, z: 0 },\r\n      } as DeviceMotionEvent);\r\n    });\r\n\r\n    // 3. Wait for timeout\r\n    act(() => {\r\n      vi.advanceTimersByTime(5000);\r\n    });\r\n\r\n    expect(mockOnFallDetected).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('should throttle motion events when Low Power Mode is enabled', () => {\r\n    // Enable Low Power Mode\r\n    (SettingsContext.useSettings as Mock).mockReturnValue({\r\n      lowPowerMode: true,\r\n    });\r\n    localStorage.setItem('fallDetectionEnabled', 'true');\r\n    renderHook(() => useFallDetection(mockOnFallDetected));\r\n\r\n    const handleMotion = addEventListenerSpy.mock.calls.find(\r\n      (call: any) => call[0] === 'devicemotion'\r\n    )[1];\r\n\r\n    const consoleSpy = vi.spyOn(console, 'log');\r\n\r\n    // 1. First event (T=0) - Processed\r\n    act(() => {\r\n      handleMotion({\r\n        accelerationIncludingGravity: { x: 0, y: 0, z: 25 },\r\n      } as DeviceMotionEvent);\r\n    });\r\n    expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('High Impact Detected'));\r\n    consoleSpy.mockClear();\r\n\r\n    // 2. Second event (T=100) - Should be THROTTLED (Ignored)\r\n    act(() => {\r\n      vi.advanceTimersByTime(100);\r\n      handleMotion({\r\n        accelerationIncludingGravity: { x: 0, y: 0, z: 25 },\r\n      } as DeviceMotionEvent);\r\n    });\r\n    expect(consoleSpy).not.toHaveBeenCalled(); // Should NOT log \"High Impact Detected\" again\r\n\r\n    // 3. Third event (T=210) - Should be Processed\r\n    act(() => {\r\n      vi.advanceTimersByTime(110); // Total 210ms\r\n      handleMotion({\r\n        accelerationIncludingGravity: { x: 0, y: 0, z: 25 },\r\n      } as DeviceMotionEvent);\r\n    });\r\n    // The previous impact (T=0) put us in \"Monitoring Stillness\" mode.\r\n    // This new motion (T=210) is detected as movement, cancelling the fall alert.\r\n    // This confirms the event was processed and NOT throttled.\r\n    expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('Movement detected'));\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useHeartMonitor.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [574, 577], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [574, 577], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act } from '@testing-library/react';\r\nimport { useHeartMonitor } from '../useHeartMonitor';\r\nimport { useBLEContext } from '../../contexts/BLEContext';\r\nimport { useLocalStorage } from '../useLocalStorage';\r\nimport * as SettingsContext from '../../contexts/SettingsContext';\r\nimport { vi, describe, it, expect, beforeEach, Mock } from 'vitest';\r\n\r\n// Mock Dependencies\r\nvi.mock('../../contexts/BLEContext');\r\nvi.mock('../useLocalStorage');\r\nvi.mock('../../contexts/SettingsContext', () => ({\r\n  useSettings: vi.fn(),\r\n  SettingsProvider: ({ children }: any) => children,\r\n}));\r\n\r\ndescribe('useHeartMonitor', () => {\r\n  const mockTriggerAlert = vi.fn();\r\n\r\n  // Default Mock State\r\n  const mockBLEState = {\r\n    heartRate: 80,\r\n    connectedDevice: { deviceId: '123', name: 'Test Device' },\r\n  };\r\n\r\n  beforeEach(() => {\r\n    vi.useFakeTimers();\r\n    vi.setSystemTime(new Date('2024-01-01T00:00:00Z')); // Ensure Date.now() is not 0\r\n    vi.clearAllMocks();\r\n    (useBLEContext as Mock).mockReturnValue(mockBLEState);\r\n    (SettingsContext.useSettings as Mock).mockReturnValue({ lowPowerMode: false });\r\n    (useLocalStorage as Mock).mockImplementation((key, initialValue) => {\r\n      // Simple mock implementation of useLocalStorage\r\n      if (key === 'hr_threshold') return [120, vi.fn()];\r\n      if (key === 'workout_mode') return [false, vi.fn()];\r\n      // if (key === 'app_settings') return [{}, vi.fn()];\r\n      return [initialValue, vi.fn()];\r\n    });\r\n  });\r\n\r\n  it('should not trigger alert when HR is below threshold', () => {\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 100 });\r\n\r\n    renderHook(() => useHeartMonitor(mockTriggerAlert));\r\n\r\n    expect(mockTriggerAlert).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('should trigger alert when HR is above threshold (120)', () => {\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 130 });\r\n\r\n    renderHook(() => useHeartMonitor(mockTriggerAlert));\r\n\r\n    expect(mockTriggerAlert).toHaveBeenCalled();\r\n  });\r\n\r\n  it('should NOT trigger alert if Workout Mode is active', () => {\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 150 });\r\n    // Mock Workout Mode = true\r\n    (useLocalStorage as Mock).mockImplementation((key, initialValue) => {\r\n      if (key === 'workout_mode') return [true, vi.fn()];\r\n      if (key === 'hr_threshold') return [120, vi.fn()];\r\n      return [initialValue, vi.fn()];\r\n    });\r\n\r\n    renderHook(() => useHeartMonitor(mockTriggerAlert));\r\n\r\n    expect(mockTriggerAlert).not.toHaveBeenCalled();\r\n  });\r\n  it('should NOT trigger alert if Snooze is active', () => {\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 150 });\r\n\r\n    // Mock Snooze until future\r\n    const futureTime = Date.now() + 10000;\r\n    (useLocalStorage as Mock).mockImplementation((key, initialValue) => {\r\n      if (key === 'hr_snooze_until') return [futureTime, vi.fn()];\r\n      if (key === 'hr_threshold') return [120, vi.fn()];\r\n      return [initialValue, vi.fn()];\r\n    });\r\n\r\n    renderHook(() => useHeartMonitor(mockTriggerAlert));\r\n\r\n    expect(mockTriggerAlert).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('should throttle HR checks when Low Power Mode is enabled', () => {\r\n    (SettingsContext.useSettings as Mock).mockReturnValue({ lowPowerMode: true });\r\n\r\n    // 1. Initial HR below threshold (Processed, No Alert)\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 100 });\r\n    const { rerender } = renderHook(() => useHeartMonitor(mockTriggerAlert));\r\n    expect(mockTriggerAlert).not.toHaveBeenCalled();\r\n\r\n    // 2. Advance time 1s (T=1000) - Update HR to ABOVE threshold\r\n    // Should be THROTTLED, so NO Alert despite high HR\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 140 });\r\n    vi.advanceTimersByTime(1000);\r\n    rerender();\r\n    // Note: In real hook, it reacts to BLEContext updates. Rerender simulates this.\r\n    expect(mockTriggerAlert).not.toHaveBeenCalled();\r\n\r\n    // 3. Advance time to 60s+ (T=60001) - Update HR to 141 (New value to trigger effect)\r\n    // Should be Processed -> Alert!\r\n    (useBLEContext as Mock).mockReturnValue({ ...mockBLEState, heartRate: 141 });\r\n    // Note: We need to wait > 60s to pass the debounce check (now - lastTriggerTime > 60000)\r\n    vi.advanceTimersByTime(60001);\r\n    rerender();\r\n    expect(mockTriggerAlert).toHaveBeenCalled();\r\n  });\r\n\r\n  it('should execute snooze function', () => {\r\n    const { result } = renderHook(() => useHeartMonitor(mockTriggerAlert));\r\n\r\n    const consoleSpy = vi.spyOn(console, 'log');\r\n\r\n    act(() => {\r\n      result.current.snooze(10000); // 10 seconds\r\n    });\r\n\r\n    expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('Snoozed alerts'));\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useLocalStorage.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'afterEach' is defined but never used.",
        "line": 2,
        "column": 48,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "removeUnusedVar",
            "data": { "varName": "afterEach" },
            "fix": { "range": [103, 114], "text": "" },
            "desc": "Remove unused variable \"afterEach\"."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act } from '@testing-library/react';\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\nimport { useLocalStorage } from '../useLocalStorage';\n\ndescribe('useLocalStorage', () => {\n  beforeEach(() => {\n    // Clear local storage before each test\n    window.localStorage.clear();\n    vi.clearAllMocks();\n  });\n\n  it('should return initial value if no value exists in storage', () => {\n    const { result } = renderHook(() => useLocalStorage('test-key', 'initial'));\n    expect(result.current[0]).toBe('initial');\n  });\n\n  it('should return stored value if it exists', () => {\n    window.localStorage.setItem('test-key', JSON.stringify('stored'));\n    const { result } = renderHook(() => useLocalStorage('test-key', 'initial'));\n    expect(result.current[0]).toBe('stored');\n  });\n\n  it('should update local storage when state changes', () => {\n    const { result } = renderHook(() => useLocalStorage('test-key', 'initial'));\n\n    act(() => {\n      result.current[1]('updated');\n    });\n\n    expect(result.current[0]).toBe('updated');\n    expect(window.localStorage.getItem('test-key')).toBe(JSON.stringify('updated'));\n  });\n\n  it('should handle functional updates', () => {\n    const { result } = renderHook(() => useLocalStorage('count', 1));\n\n    act(() => {\n      result.current[1]((prev) => prev + 1);\n    });\n\n    expect(result.current[0]).toBe(2);\n    expect(window.localStorage.getItem('count')).toBe(JSON.stringify(2));\n  });\n\n  it('should handle complex objects', () => {\n    const initial = { foo: 'bar' };\n    const { result } = renderHook(() => useLocalStorage('complex', initial));\n\n    expect(result.current[0]).toEqual(initial);\n\n    const updated = { foo: 'baz' };\n    act(() => {\n      result.current[1](updated);\n    });\n\n    expect(result.current[0]).toEqual(updated);\n    expect(JSON.parse(window.localStorage.getItem('complex')!)).toEqual(updated);\n  });\n\n  it('should handle JSON parse errors gracefully', () => {\n    // Set invalid JSON\n    window.localStorage.setItem('broken', 'not-valid-json');\n\n    // Mock console.error to avoid noise\n    const consoleSpy = vi.spyOn(console, 'error').mockImplementation(() => {});\n\n    const { result } = renderHook(() => useLocalStorage('broken', 'fallback'));\n\n    expect(result.current[0]).toBe('fallback');\n    // It catches the error and returns initialValue\n\n    consoleSpy.mockRestore();\n  });\n});\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useShake.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'removeEventListenerSpy' is assigned a value but never used.",
        "line": 7,
        "column": 7,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 29
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [398, 401], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [398, 401], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 66,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 66,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2150, 2153], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2150, 2153], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 116,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 116,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3581, 3584], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3581, 3584], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport { useShake } from '../useShake';\r\n\r\ndescribe('useShake', () => {\r\n  let addEventListenerSpy: ReturnType<typeof vi.spyOn>;\r\n  let removeEventListenerSpy: ReturnType<typeof vi.spyOn>;\r\n\r\n  // Helper to simulate motion event\r\n  const triggerMotion = (handler: any, x: number, y: number, z: number) => {\r\n    handler({\r\n      accelerationIncludingGravity: { x, y, z },\r\n      acceleration: { x: 0, y: 0, z: 0 },\r\n      rotationRate: { alpha: 0, beta: 0, gamma: 0 },\r\n      interval: 16,\r\n    });\r\n  };\r\n\r\n  beforeEach(() => {\r\n    vi.useFakeTimers();\r\n    addEventListenerSpy = vi.spyOn(window, 'addEventListener');\r\n    removeEventListenerSpy = vi.spyOn(window, 'removeEventListener');\r\n\r\n    // Mock DeviceMotionEvent presence\r\n    Object.defineProperty(window, 'DeviceMotionEvent', {\r\n      value: class {\r\n        static requestPermission() {\r\n          return Promise.resolve('granted');\r\n        }\r\n      },\r\n      writable: true,\r\n    });\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.restoreAllMocks();\r\n    vi.useRealTimers();\r\n  });\r\n\r\n  it('should initialize correctly', () => {\r\n    const { result } = renderHook(() => useShake(() => {}));\r\n    expect(result.current.isEnabled).toBe(false);\r\n    // We mocked DeviceMotionEvent, so it should be supported\r\n    expect(result.current.isSupported).toBe(true);\r\n  });\r\n\r\n  it('should detect shakes and trigger callback', () => {\r\n    const onShake = vi.fn();\r\n    // Simulate Android (no requestPermission needed)\r\n    // @ts-ignore\r\n    window.DeviceMotionEvent.requestPermission = undefined;\r\n\r\n    // Sensitivity 10, 2 shakes required, 1000ms timeout\r\n    const { result } = renderHook(() =>\r\n      useShake(onShake, { threshold: 10, requiredShakes: 2, timeout: 1000 })\r\n    );\r\n\r\n    // Enable\r\n    act(() => {\r\n      result.current.setIsEnabled(true);\r\n    });\r\n\r\n    // Get the event listener\r\n    expect(addEventListenerSpy).toHaveBeenCalledWith('devicemotion', expect.any(Function));\r\n    const handler = addEventListenerSpy.mock.calls.find(\r\n      (call: any[]) => call[0] === 'devicemotion'\r\n    )![1];\r\n\r\n    // 1. Initial State (Rest)\r\n    act(() => {\r\n      triggerMotion(handler, 0, 0, 9.8); // Gravity only\r\n    });\r\n\r\n    // Advance time > 100ms (hook debounce)\r\n    vi.advanceTimersByTime(110);\r\n\r\n    // 2. First Shake (Heavy motion)\r\n    act(() => {\r\n      // Change > threshold (10).\r\n      // Previous sum = 9.8\r\n      // New sum must be significantly different.\r\n      // Speed calculation: abs(diff) / diffTime * 10000\r\n      // Let's create a massive spike\r\n      triggerMotion(handler, 20, 20, 20);\r\n    });\r\n\r\n    // Should count as 1 shake, but not trigger yet (need 2)\r\n    expect(onShake).not.toHaveBeenCalled();\r\n\r\n    // Advance time < timeout (e.g. 500ms) but > debounce (100ms)\r\n    vi.advanceTimersByTime(200);\r\n\r\n    // 3. Second Shake\r\n    act(() => {\r\n      // Another massive spike\r\n      triggerMotion(handler, -20, -20, -20);\r\n    });\r\n\r\n    // Should trigger now\r\n    expect(onShake).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('should reset count if timeout expires', () => {\r\n    const onShake = vi.fn();\r\n    // @ts-ignore\r\n    window.DeviceMotionEvent.requestPermission = undefined;\r\n\r\n    const { result } = renderHook(() =>\r\n      useShake(onShake, { threshold: 10, requiredShakes: 2, timeout: 500 })\r\n    );\r\n\r\n    act(() => {\r\n      result.current.setIsEnabled(true);\r\n    });\r\n    const handler = addEventListenerSpy.mock.calls.find(\r\n      (call: any[]) => call[0] === 'devicemotion'\r\n    )![1];\r\n\r\n    // First Shake\r\n    act(() => {\r\n      triggerMotion(handler, 0, 0, 9.8);\r\n    });\r\n    vi.advanceTimersByTime(110);\r\n    act(() => {\r\n      triggerMotion(handler, 20, 20, 20);\r\n    });\r\n    expect(onShake).not.toHaveBeenCalled();\r\n\r\n    // Wait TOO LONG (timeout is 500ms)\r\n    vi.advanceTimersByTime(600);\r\n\r\n    // Second Shake (Should count as #1 now, not #2)\r\n    act(() => {\r\n      triggerMotion(handler, -20, -20, -20);\r\n    });\r\n\r\n    expect(onShake).not.toHaveBeenCalled();\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\__tests__\\useTTS.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 34,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 34,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [991, 994], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [991, 994], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1043, 1046], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1043, 1046], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1097, 1100], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1097, 1100], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 41,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 41,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1209, 1212], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1209, 1212], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 61,
        "column": 62,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 61,
        "endColumn": 65,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1686, 1689], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1686, 1689], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 74,
        "column": 62,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 74,
        "endColumn": 65,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2100, 2103], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2100, 2103], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 87,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 87,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2507, 2510], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2507, 2510], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 109,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 109,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3073, 3076], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3073, 3076], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { renderHook, act } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport { useTTS } from '../useTTS';\r\n\r\ndescribe('useTTS', () => {\r\n  const mockSpeak = vi.fn();\r\n  const mockCancel = vi.fn();\r\n  const mockGetVoices = vi.fn(\r\n    () =>\r\n      [\r\n        { lang: 'en-US', name: 'English Voice' },\r\n        { lang: 'es-ES', name: 'Spanish Voice' },\r\n      ] as SpeechSynthesisVoice[]\r\n  );\r\n\r\n  beforeEach(() => {\r\n    // Mock window.speechSynthesis\r\n    Object.defineProperty(window, 'speechSynthesis', {\r\n      value: {\r\n        speak: mockSpeak,\r\n        cancel: mockCancel,\r\n        getVoices: mockGetVoices,\r\n        paused: false,\r\n        resume: vi.fn(),\r\n      },\r\n      writable: true,\r\n    });\r\n\r\n    // Mock SpeechSynthesisUtterance as a class\r\n    global.SpeechSynthesisUtterance = class {\r\n      text: string;\r\n      lang: string = '';\r\n      voice: SpeechSynthesisVoice | null = null;\r\n      onstart: ((event: any) => void) | null = null;\r\n      onend: ((event: any) => void) | null = null;\r\n      onerror: ((event: any) => void) | null = null;\r\n\r\n      constructor(text: string) {\r\n        this.text = text;\r\n      }\r\n    } as any;\r\n\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.restoreAllMocks();\r\n  });\r\n\r\n  it('should speak text in English', () => {\r\n    const { result } = renderHook(() => useTTS());\r\n\r\n    act(() => {\r\n      result.current.speak('Hello', 'en');\r\n    });\r\n\r\n    expect(mockCancel).toHaveBeenCalled();\r\n    expect(mockSpeak).toHaveBeenCalled();\r\n\r\n    // Check if the utterance was configured correctly\r\n    const utteranceInstance = mockSpeak.mock.calls[0]![0] as any;\r\n    expect(utteranceInstance.text).toBe('Hello');\r\n    expect(utteranceInstance.lang).toBe('en-US');\r\n    expect(utteranceInstance.voice.name).toBe('English Voice');\r\n  });\r\n\r\n  it('should speak text in Spanish', () => {\r\n    const { result } = renderHook(() => useTTS());\r\n\r\n    act(() => {\r\n      result.current.speak('Hola', 'es');\r\n    });\r\n\r\n    const utteranceInstance = mockSpeak.mock.calls[0]![0] as any;\r\n    expect(utteranceInstance.text).toBe('Hola');\r\n    expect(utteranceInstance.lang).toBe('es-ES');\r\n    expect(utteranceInstance.voice.name).toBe('Spanish Voice');\r\n  });\r\n\r\n  it('should update isSpeaking state', () => {\r\n    const { result } = renderHook(() => useTTS());\r\n\r\n    act(() => {\r\n      result.current.speak('Test', 'en');\r\n    });\r\n\r\n    const utterance = mockSpeak.mock.calls[0]![0] as any;\r\n\r\n    // Simulate start\r\n    act(() => {\r\n      if (utterance.onstart) utterance.onstart(new Event('start'));\r\n    });\r\n    expect(result.current.isSpeaking).toBe(true);\r\n\r\n    // Simulate end\r\n    act(() => {\r\n      if (utterance.onend) utterance.onend(new Event('end'));\r\n    });\r\n    expect(result.current.isSpeaking).toBe(false);\r\n  });\r\n\r\n  it('should handle errors', () => {\r\n    const { result } = renderHook(() => useTTS());\r\n\r\n    act(() => {\r\n      result.current.speak('Test', 'en');\r\n    });\r\n\r\n    const utterance = mockSpeak.mock.calls[0]![0] as any;\r\n\r\n    act(() => {\r\n      if (utterance.onerror) utterance.onerror(new Event('error'));\r\n    });\r\n\r\n    expect(result.current.error).toBe('Native text-to-speech failed.');\r\n    expect(result.current.isSpeaking).toBe(false);\r\n  });\r\n\r\n  it('should set error if speechSynthesis is not available', () => {\r\n    Object.defineProperty(window, 'speechSynthesis', { value: undefined });\r\n\r\n    const { result } = renderHook(() => useTTS());\r\n\r\n    act(() => {\r\n      result.current.speak('Test', 'en');\r\n    });\r\n\r\n    expect(result.current.error).toBe('Text-to-speech not supported in this browser.');\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useBLE.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 76,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 76,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2548, 2551], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2548, 2551], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 82,
        "column": 56,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 82,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2704, 2707], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2704, 2707], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 103,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 103,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3383, 3386], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3383, 3386], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 129,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 129,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4148, 4151], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4148, 4151], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { BleClient } from '@capacitor-community/bluetooth-le';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { useLocalStorage } from './useLocalStorage';\r\n\r\n// Standard Heart Rate Service UUIDs\r\nconst HEART_RATE_SERVICE = '0000180d-0000-1000-8000-00805f9b34fb';\r\nconst HEART_RATE_MEASUREMENT_CHARACTERISTIC = '00002a37-0000-1000-8000-00805f9b34fb';\r\n\r\nexport interface BleDevice {\r\n  deviceId: string;\r\n  name?: string;\r\n}\r\n\r\nexport const useBLE = () => {\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [devices, setDevices] = useState<BleDevice[]>([]);\r\n  const [connectedDevice, setConnectedDevice] = useState<BleDevice | null>(null);\r\n  const [heartRate, setHeartRate] = useState<number | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [isReconnecting, setIsReconnecting] = useState(false);\r\n  const [lastConnectedDevice, setLastConnectedDevice] = useLocalStorage<BleDevice | null>(\r\n    'last_ble_device',\r\n    null\r\n  );\r\n  const lastConnectedDeviceRef = useRef<BleDevice | null>(null);\r\n  const isManualDisconnect = useRef(false); // Track if disconnect was user-initiated\r\n\r\n  // Keep ref in sync with state/storage so callbacks always see the latest\r\n  useEffect(() => {\r\n    lastConnectedDeviceRef.current = lastConnectedDevice;\r\n  }, [lastConnectedDevice]);\r\n\r\n  // Simulation Mode for Development\r\n  const isMock = !Capacitor.isNativePlatform();\r\n\r\n  const initBLE = useCallback(async () => {\r\n    try {\r\n      if (!isMock) {\r\n        await BleClient.initialize();\r\n      }\r\n    } catch (e) {\r\n      console.error('BLE Init Error:', e);\r\n    }\r\n  }, [isMock]);\r\n\r\n  // Auto-connect on startup if we have a saved device and it wasn't a manual disconnect\r\n  // (Optional: For now we only reconnect if active session drops, but we could add startup reconnect later)\r\n\r\n  useEffect(() => {\r\n    initBLE();\r\n  }, [initBLE]);\r\n\r\n  const scan = async () => {\r\n    setIsScanning(true);\r\n    setDevices([]);\r\n    setError(null);\r\n\r\n    try {\r\n      if (isMock) {\r\n        setTimeout(() => {\r\n          setDevices([\r\n            { deviceId: 'mock-1', name: 'Simulated HR Monitor' },\r\n            { deviceId: 'mock-2', name: 'Polar H10 (Demo)' },\r\n          ]);\r\n          setIsScanning(false);\r\n        }, 1500);\r\n      } else {\r\n        await BleClient.requestDevice({\r\n          services: [HEART_RATE_SERVICE],\r\n          optionalServices: [],\r\n        });\r\n        setIsScanning(false);\r\n      }\r\n    } catch (e: any) {\r\n      setError(e.message || 'Scanning failed');\r\n      setIsScanning(false);\r\n    }\r\n  };\r\n\r\n  const [mockIntervalId, setMockIntervalId] = useState<any>(null);\r\n\r\n  const connect = async (device: BleDevice) => {\r\n    try {\r\n      setError(null);\r\n      isManualDisconnect.current = false; // Reset flag\r\n\r\n      if (isMock) {\r\n        setConnectedDevice(device);\r\n        setLastConnectedDevice(device);\r\n\r\n        const id = setInterval(() => {\r\n          setHeartRate(Math.floor(Math.random() * (95 - 65 + 1) + 65));\r\n        }, 1000);\r\n        setMockIntervalId(id);\r\n      } else {\r\n        await BleClient.connect(device.deviceId, (deviceId) => onDisconnect(deviceId));\r\n        setConnectedDevice(device);\r\n        setLastConnectedDevice(device);\r\n        await startStreaming(device.deviceId);\r\n      }\r\n    } catch (e: any) {\r\n      setError(e.message || 'Connection failed');\r\n      setLastConnectedDevice(null);\r\n    }\r\n  };\r\n\r\n  const disconnect = async () => {\r\n    if (!connectedDevice) return;\r\n\r\n    // Set flag BEFORE disconnecting so onDisconnect knows it's intentional\r\n    isManualDisconnect.current = true;\r\n    setLastConnectedDevice(null); // Clear saved device on manual disconnect\r\n\r\n    try {\r\n      if (isMock) {\r\n        setConnectedDevice(null);\r\n        setHeartRate(null);\r\n        if (mockIntervalId) {\r\n          clearInterval(mockIntervalId);\r\n          setMockIntervalId(null);\r\n        }\r\n      } else {\r\n        await BleClient.disconnect(connectedDevice.deviceId);\r\n        setConnectedDevice(null);\r\n        setHeartRate(null);\r\n      }\r\n    } catch (e: any) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const attemptReconnect = async (deviceId: string) => {\r\n    const lastDevice = lastConnectedDeviceRef.current;\r\n\r\n    if (!lastDevice || lastDevice.deviceId !== deviceId) {\r\n      console.warn('Cannot reconnect: Device mismatch or not found', { lastDevice, deviceId });\r\n      return; // Don't reconnect if we forgot the device\r\n    }\r\n\r\n    setIsReconnecting(true);\r\n    console.log(`Attempting to reconnect to ${deviceId}...`);\r\n\r\n    // Retry 3 times\r\n    for (let i = 0; i < 3; i++) {\r\n      try {\r\n        if (isMock) {\r\n          // Mock reconnect\r\n          await new Promise((resolve) => setTimeout(resolve, 1500));\r\n          // Success!\r\n          connect(lastDevice);\r\n          setIsReconnecting(false);\r\n          return;\r\n        } else {\r\n          await BleClient.connect(deviceId, (id) => onDisconnect(id));\r\n          console.log('Reconnected successfully!');\r\n          setConnectedDevice(lastDevice);\r\n          await startStreaming(deviceId);\r\n          setIsReconnecting(false);\r\n          return;\r\n        }\r\n      } catch (e) {\r\n        console.warn(`Reconnect attempt ${i + 1} failed`, e);\r\n        await new Promise((resolve) => setTimeout(resolve, 2000)); // Wait 2s\r\n      }\r\n    }\r\n\r\n    setIsReconnecting(false);\r\n    setError('Connection lost. Please reconnect manually.');\r\n    setConnectedDevice(null); // Ensure UI reflects disconnected\r\n  };\r\n\r\n  const onDisconnect = (deviceId: string) => {\r\n    console.log(`device ${deviceId} disconnected`);\r\n    setConnectedDevice(null);\r\n    setHeartRate(null);\r\n\r\n    if (mockIntervalId) {\r\n      clearInterval(mockIntervalId);\r\n      setMockIntervalId(null);\r\n    }\r\n\r\n    // Check if we should auto-reconnect\r\n    if (!isManualDisconnect.current) {\r\n      console.log('Accidental disconnect detected. Initiating auto-reconnect...');\r\n      attemptReconnect(deviceId);\r\n    } else {\r\n      console.log('Manual disconnect completed.');\r\n    }\r\n  };\r\n\r\n  const startStreaming = async (deviceId: string) => {\r\n    try {\r\n      await BleClient.startNotifications(\r\n        deviceId,\r\n        HEART_RATE_SERVICE,\r\n        HEART_RATE_MEASUREMENT_CHARACTERISTIC,\r\n        (value) => {\r\n          const data = new DataView(value.buffer);\r\n          const flags = data.getUint8(0);\r\n          let hr;\r\n          if ((flags & 0x01) === 0) {\r\n            hr = data.getUint8(1);\r\n          } else {\r\n            hr = data.getUint16(1, true);\r\n          }\r\n          setHeartRate(hr);\r\n        }\r\n      );\r\n    } catch (e) {\r\n      console.error('Error starting notifications', e);\r\n    }\r\n  };\r\n\r\n  return {\r\n    scan,\r\n    connect,\r\n    disconnect,\r\n    isScanning,\r\n    devices,\r\n    connectedDevice,\r\n    heartRate,\r\n    error,\r\n    isMock,\r\n    isReconnecting,\r\n  };\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useBattery.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useChat.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 119,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 119,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4295, 4298], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4295, 4298], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useCallback, useEffect } from 'react';\r\nimport { GoogleGenerativeAI } from '@google/generative-ai';\r\nimport { useTranslation } from 'react-i18next';\r\nimport type { ChatMessage, Language } from '../types';\r\nimport { getSystemPrompt } from '../constants';\r\nimport { useContextAwarePrompt } from './useContextAwarePrompt';\r\n\r\nexport const useChat = (language: Language) => {\r\n  const { t } = useTranslation();\r\n  const { getContextString } = useContextAwarePrompt();\r\n\r\n  // Load initial state from localStorage or default to empty\r\n  const [messages, setMessages] = useState<ChatMessage[]>(() => {\r\n    try {\r\n      const saved = localStorage.getItem('chat_history');\r\n      return saved ? JSON.parse(saved) : [];\r\n    } catch (e) {\r\n      console.error('Failed to load chat history', e);\r\n      return [];\r\n    }\r\n  });\r\n\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Initialize greeting ONLY if history is empty\r\n  useEffect(() => {\r\n    if (messages.length === 0) {\r\n      setMessages([{ role: 'model', text: t('chatInitialGreeting') }]);\r\n    }\r\n  }, [t, messages.length]);\r\n\r\n  // Persist messages to localStorage whenever they change\r\n  useEffect(() => {\r\n    localStorage.setItem('chat_history', JSON.stringify(messages));\r\n  }, [messages]);\r\n\r\n  const clearChat = useCallback(() => {\r\n    const initialMsg: ChatMessage = { role: 'model', text: t('chatInitialGreeting') };\r\n    setMessages([initialMsg]);\r\n    localStorage.removeItem('chat_history');\r\n    localStorage.setItem('chat_history', JSON.stringify([initialMsg]));\r\n  }, [t]);\r\n\r\n  const sendMessage = useCallback(\r\n    async (userMessage: string, priority?: 'high' | 'medium' | 'low') => {\r\n      if (!userMessage.trim()) return;\r\n\r\n      setIsLoading(true);\r\n      setInput('');\r\n      setError(null);\r\n\r\n      setMessages((prev) => [...prev, { role: 'user', text: userMessage, priority }]);\r\n\r\n      let apiKey: string | null = null;\r\n      try {\r\n        const keyItem = localStorage.getItem('gemini_api_key');\r\n        if (keyItem) {\r\n          apiKey = JSON.parse(keyItem);\r\n        }\r\n      } catch (e) {\r\n        console.error('Could not parse API Key from localStorage', e);\r\n      }\r\n\r\n      if (!apiKey) {\r\n        const errorMsg =\r\n          t('chatAPIKeyMissing') || 'API Key not found. Please set it in the settings.';\r\n        setError(errorMsg);\r\n        setMessages((prev) => [...prev, { role: 'model', text: errorMsg }]);\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const contextString = getContextString();\r\n        const baseSystemPrompt = getSystemPrompt(language);\r\n        const finalSystemPrompt = `${baseSystemPrompt}\\n${contextString}`;\r\n\r\n        console.log('ðŸ¤– System Prompt with Context:', finalSystemPrompt);\r\n\r\n        // Use the Browser-compatible SDK pattern\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n        const model = genAI.getGenerativeModel({\r\n          model: 'gemini-1.5-flash',\r\n          systemInstruction: finalSystemPrompt,\r\n        });\r\n\r\n        // Construct history for the API from previous messages\r\n        // Filter out error messages or system greetings if needed, currently passing valid chat history\r\n        const history = messages\r\n          .filter((m) => m.role === 'user' || m.role === 'model') // Simple filter\r\n          .map((m) => ({\r\n            role: m.role,\r\n            parts: [{ text: m.text }],\r\n          }));\r\n\r\n        const chat = model.startChat({\r\n          history: history,\r\n        });\r\n\r\n        const result = await chat.sendMessageStream(userMessage);\r\n\r\n        setMessages((prev) => [...prev, { role: 'model', text: '' }]);\r\n\r\n        for await (const chunk of result.stream) {\r\n          const chunkText = chunk.text();\r\n          setMessages((prevMessages) => {\r\n            const lastMessage = prevMessages[prevMessages.length - 1];\r\n            if (lastMessage && lastMessage.role === 'model') {\r\n              return [\r\n                ...prevMessages.slice(0, -1),\r\n                { ...lastMessage, text: lastMessage.text + chunkText },\r\n              ];\r\n            }\r\n            return prevMessages;\r\n          });\r\n        }\r\n      } catch (e: any) {\r\n        console.error('Gemini API error:', e);\r\n        let errorMessage = 'Sorry, connection failed. Please check your API Key in Settings.';\r\n        if (e.message?.includes('401') || e.message?.includes('API key')) {\r\n          errorMessage = 'Error: Invalid API Key. Please update it in Settings.';\r\n        } else if (e.message?.includes('quota') || e.message?.includes('429')) {\r\n          errorMessage = 'Error: Usage limit exceeded. Please try again later.';\r\n        }\r\n\r\n        setError(errorMessage);\r\n        setMessages((prev) => {\r\n          const lastMessage = prev[prev.length - 1];\r\n          if (lastMessage && lastMessage.role === 'model' && lastMessage.text === '') {\r\n            return [...prev.slice(0, -1), { role: 'model', text: errorMessage }];\r\n          }\r\n          return [...prev, { role: 'model', text: errorMessage }];\r\n        });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [language, messages, t, getContextString]\r\n  ); // Added messages as dependency for history context\r\n\r\n  return { messages, input, setInput, sendMessage, isLoading, error, clearChat };\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useContextAwarePrompt.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useEmergencyAlert.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 106,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 106,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3807, 3810], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3807, 3810], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 186,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 186,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6504, 6507], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6504, 6507], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 195,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 195,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6861, 6864], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6861, 6864], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useFallDetection.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useFallDetectionCore.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useFallDetectionMonitor.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useHeartMonitor.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useLocalStorage.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\usePWAInstall.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 16,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 16,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [617, 620], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [617, 620], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'setIsIOS' is assigned a value but never used.",
        "line": 20,
        "column": 17,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 20,
        "endColumn": 25
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [926, 929], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [926, 929], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1373, 1376], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1373, 1376], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 30,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2504, 2507], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2504, 2507], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useEffect, useCallback } from 'react';\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt: () => Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed'; platform: string }>;\n}\n\nexport const usePWAInstall = () => {\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n\n  // Lazy init for installation status\n  const [isAppInstalled, setIsAppInstalled] = useState(() => {\n    if (typeof window === 'undefined') return false;\n    return (\n      window.matchMedia('(display-mode: standalone)').matches ||\n      (window.navigator as any).standalone\n    );\n  });\n\n  const [isIOS, setIsIOS] = useState(() => {\n    if (typeof window === 'undefined') return false;\n    const userAgent = window.navigator.userAgent.toLowerCase();\n    const isStandalone =\n      window.matchMedia('(display-mode: standalone)').matches ||\n      (window.navigator as any).standalone;\n    const isIosDevice =\n      /iphone|ipad|ipod/.test(userAgent) ||\n      (window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n    return isIosDevice && !isStandalone;\n  });\n\n  const [showPrompt, setShowPrompt] = useState(() => {\n    if (typeof window === 'undefined') return false;\n    const isStandalone =\n      window.matchMedia('(display-mode: standalone)').matches ||\n      (window.navigator as any).standalone;\n    const hasDismissed = sessionStorage.getItem('pwa-prompt-dismissed');\n\n    if (isStandalone) return false;\n    if (hasDismissed) return false;\n\n    // For iOS, show immediately if not installed\n    const userAgent = window.navigator.userAgent.toLowerCase();\n    // Re-calc isIOS logic or reuse? Can't reuse state inside other state init easily without duplication or external util.\n    // duplicating for safety/simplicity in lazy init\n    const isIosDevice =\n      /iphone|ipad|ipod/.test(userAgent) ||\n      (window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n    return isIosDevice;\n  });\n\n  const [isInstallable, setIsInstallable] = useState(false);\n\n  useEffect(() => {\n    const handleBeforeInstallPrompt = (e: Event) => {\n      // Prevent the mini-infobar from appearing on mobile\n      e.preventDefault();\n      // Stash the event so it can be triggered later.\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n      setIsInstallable(true);\n\n      const isStandalone =\n        window.matchMedia('(display-mode: standalone)').matches ||\n        (window.navigator as any).standalone;\n      const hasDismissed = sessionStorage.getItem('pwa-prompt-dismissed');\n\n      if (!isStandalone && !hasDismissed) {\n        setShowPrompt(true);\n      }\n      console.log('ðŸ‘‹ PWA Install Prompt captured!');\n    };\n\n    const handleAppInstalled = () => {\n      setIsAppInstalled(true);\n      setIsInstallable(false);\n      setDeferredPrompt(null);\n      setShowPrompt(false);\n      console.log('âœ… PWA Installed successfully');\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    window.addEventListener('appinstalled', handleAppInstalled);\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('appinstalled', handleAppInstalled);\n    };\n  }, []);\n\n  const installApp = useCallback(async () => {\n    if (!deferredPrompt) {\n      // If on iOS, we can't programmatically install.\n      // The UI should handle showing instructions instead.\n      console.warn('No installation prompt available (or on iOS)');\n      return;\n    }\n\n    // Show the install prompt\n    await deferredPrompt.prompt();\n\n    // Wait for the user to respond to the prompt\n    const { outcome } = await deferredPrompt.userChoice;\n    console.log(`User response to install prompt: ${outcome}`);\n\n    // We've used the prompt, and can't use it again, throw it away\n    setDeferredPrompt(null);\n    setIsInstallable(false);\n    setShowPrompt(false);\n  }, [deferredPrompt]);\n\n  const dismissPrompt = useCallback(() => {\n    setShowPrompt(false);\n    sessionStorage.setItem('pwa-prompt-dismissed', 'true');\n  }, []);\n\n  return {\n    isInstallable,\n    isAppInstalled,\n    installApp,\n    dismissPrompt,\n    isIOS,\n    showPrompt,\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useShake.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'DeviceMotionEventWithAcceleration' is defined but never used.",
        "line": 63,
        "column": 8,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 63,
        "endColumn": 41
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 23,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 23,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1003, 1006], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1003, 1006], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1694, 1697], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1694, 1697], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useLocalStorage } from './useLocalStorage';\n\ninterface ShakeOptions {\n  threshold?: number; // Acceleration threshold in m/sÂ²\n  timeout?: number; // Reset timeout in ms\n  requiredShakes?: number; // Number of shakes required\n}\n\nexport const useShake = (onShake: () => void, options: ShakeOptions = {}) => {\n  const { threshold = 15, timeout = 1000, requiredShakes = 3 } = options;\n\n  const [isEnabled, setIsEnabled] = useLocalStorage<boolean>('shake_enabled', false);\n\n  // Lazy initialization for support and permission to avoid effect updates\n  const [isSupported] = useState<boolean>(\n    () => typeof window !== 'undefined' && 'DeviceMotionEvent' in window\n  );\n\n  const [permissionGranted, setPermissionGranted] = useState<boolean>(() => {\n    if (typeof window === 'undefined' || !('DeviceMotionEvent' in window)) return false;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const DME = (window as any).DeviceMotionEvent;\n    // If requestPermission is NOT a function, it's likely non-iOS (Android) or old iOS where perms are auto-granted\n    return typeof DME?.requestPermission !== 'function';\n  });\n\n  // Shake detection state\n  const shakesRef = useRef<number>(0);\n  const lastShakeTimeRef = useRef<number>(0);\n  const lastTimeRef = useRef<number>(0);\n  const lastXRef = useRef<number>(0);\n  const lastYRef = useRef<number>(0);\n  const lastZRef = useRef<number>(0);\n\n  // Remove useEffect that was setting these values\n\n  const requestPermission = useCallback(async () => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const DME = window.DeviceMotionEvent as any;\n    if (typeof DME.requestPermission === 'function') {\n      try {\n        const permissionState = await DME.requestPermission();\n        if (permissionState === 'granted') {\n          setPermissionGranted(true);\n          return true;\n        }\n      } catch (error) {\n        console.error('Error requesting device motion permission:', error);\n      }\n      return false;\n    }\n    return true; // Implied true for non-iOS\n  }, []);\n\n  // Polyfill type for older TS environments if needed\n  interface DeviceAcceleration {\n    x: number | null;\n    y: number | null;\n    z: number | null;\n  }\n\n  type DeviceMotionEventWithAcceleration = DeviceMotionEvent & {\n    accelerationIncludingGravity: DeviceAcceleration;\n  };\n\n  const handleMotion = useCallback(\n    (event: DeviceMotionEvent) => {\n      if (!isEnabled) return;\n\n      const current = event.accelerationIncludingGravity;\n      if (!current || current.x === null || current.y === null || current.z === null) return;\n\n      const currentTime = Date.now();\n\n      // Simple verification content\n      // We only process if enough time has passed (100ms) to avoid noise\n      if (currentTime - lastTimeRef.current > 100) {\n        const diffTime = currentTime - lastTimeRef.current;\n        lastTimeRef.current = currentTime;\n\n        const speed =\n          (Math.abs(\n            current.x +\n              current.y +\n              current.z -\n              lastXRef.current -\n              lastYRef.current -\n              lastZRef.current\n          ) /\n            diffTime) *\n          10000;\n\n        if (speed > threshold * 100) {\n          // Scaling for sensitivity\n          // Check if this is a subsequent shake within the timeout\n          if (currentTime - lastShakeTimeRef.current < timeout) {\n            shakesRef.current += 1;\n          } else {\n            shakesRef.current = 1; // Reset if too slow\n          }\n\n          lastShakeTimeRef.current = currentTime;\n\n          if (shakesRef.current >= requiredShakes) {\n            onShake();\n            shakesRef.current = 0; // Reset after trigger\n          }\n        }\n\n        lastXRef.current = current.x;\n        lastYRef.current = current.y;\n        lastZRef.current = current.z;\n      }\n    },\n    [isEnabled, onShake, threshold, timeout, requiredShakes]\n  );\n\n  useEffect(() => {\n    if (isEnabled && permissionGranted) {\n      window.addEventListener('devicemotion', handleMotion);\n    }\n    return () => {\n      window.removeEventListener('devicemotion', handleMotion);\n    };\n  }, [isEnabled, permissionGranted, handleMotion]);\n\n  // Expose IS_IOS for UI permission prompts\n  const isIOS =\n    (typeof window !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.platform)) ||\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n  return {\n    isEnabled,\n    setIsEnabled,\n    isSupported,\n    permissionGranted,\n    requestPermission,\n    isIOS,\n  };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useSpeechRecognition.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 4,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 4,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [106, 109], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [106, 109], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 4,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 4,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [143, 146], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [143, 146], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [410, 413], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [410, 413], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 21,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 21,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [690, 693], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [690, 693], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 26,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 26,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [846, 849], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [846, 849], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 5,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useEffect, useRef, useCallback } from 'react';\n\nconst SpeechRecognition =\n  (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\nconst hasRecognitionSupport = !!SpeechRecognition;\n\nexport const useSpeechRecognition = () => {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const recognitionRef = useRef<any>(null);\n\n  useEffect(() => {\n    if (!hasRecognitionSupport) {\n      return;\n    }\n    const recognition = new SpeechRecognition();\n    recognition.continuous = false;\n    recognition.interimResults = false;\n    recognition.lang = 'en-US';\n\n    recognition.onresult = (event: any) => {\n      const currentTranscript = event.results[0][0].transcript;\n      setTranscript(currentTranscript);\n    };\n\n    recognition.onerror = (event: any) => {\n      console.error('Speech recognition error', event.error);\n    };\n\n    recognition.onend = () => {\n      setIsListening(false);\n    };\n\n    recognitionRef.current = recognition;\n  }, []);\n\n  const startListening = useCallback(() => {\n    if (recognitionRef.current && !isListening) {\n      setTranscript('');\n      recognitionRef.current.start();\n      setIsListening(true);\n    }\n  }, [isListening]);\n\n  return { isListening, transcript, startListening, hasRecognitionSupport };\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useTTS.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 11,
        "column": 65,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 11,
        "endColumn": 68,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [537, 540], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [537, 540], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { useState, useCallback, useEffect } from 'react';\r\n// import { GoogleGenAI, Modality } from '@google/genai'; // Removed for simplification\r\nimport type { Language } from '../types';\r\n\r\nexport const useTTS = () => {\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Helper to resume AudioContext if suspended (e.g., by OS or browser policy)\r\n  const resumeAudioContext = useCallback(() => {\r\n    const AudioContextClass = window.AudioContext || (window as any).webkitAudioContext;\r\n    if (AudioContextClass) {\r\n      // Basic \"resume\" attempt for Web Audio API if we were using it directly.\r\n      // For SpeechSynthesis, checking paused state help.\r\n      if (window.speechSynthesis.paused) {\r\n        window.speechSynthesis.resume();\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Handle visibility change to resume audio if app comes back to foreground\r\n  useEffect(() => {\r\n    const handleVisibilityChange = () => {\r\n      if (document.visibilityState === 'visible') {\r\n        resumeAudioContext();\r\n      }\r\n    };\r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n    return () => {\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n    };\r\n  }, [resumeAudioContext]);\r\n\r\n  // Set Media Session Metadata to allow background control/display\r\n  useEffect(() => {\r\n    if ('mediaSession' in navigator) {\r\n      navigator.mediaSession.metadata = new MediaMetadata({\r\n        title: 'Seizure Alert',\r\n        artist: 'Aura Speaks AI',\r\n        album: 'Emergency Alert',\r\n        artwork: [{ src: '/seizure-alert-logo.svg', sizes: '512x512', type: 'image/svg+xml' }],\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const speakNative = useCallback((text: string, language: Language) => {\r\n    if (typeof window === 'undefined' || !window.speechSynthesis) {\r\n      setError('Text-to-speech not supported in this browser.');\r\n      setIsSpeaking(false);\r\n      return;\r\n    }\r\n\r\n    // Cancel any current speaking\r\n    window.speechSynthesis.cancel();\r\n\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.lang = language === 'es' ? 'es-ES' : 'en-US';\r\n\r\n    // Attempt to find a matching voice\r\n    const voices = window.speechSynthesis.getVoices();\r\n    const matchingVoice = voices.find((v) => v.lang.startsWith(language));\r\n    if (matchingVoice) {\r\n      utterance.voice = matchingVoice;\r\n    }\r\n\r\n    utterance.onstart = () => {\r\n      setIsSpeaking(true);\r\n      // Ensure screen lock doesn't kill it immediately (best effort)\r\n      if ('mediaSession' in navigator) {\r\n        navigator.mediaSession.playbackState = 'playing';\r\n      }\r\n    };\r\n    utterance.onend = () => {\r\n      setIsSpeaking(false);\r\n      if ('mediaSession' in navigator) {\r\n        navigator.mediaSession.playbackState = 'none';\r\n      }\r\n    };\r\n    utterance.onerror = (e) => {\r\n      console.error('Native TTS Error:', e);\r\n      setIsSpeaking(false);\r\n      setError('Native text-to-speech failed.');\r\n    };\r\n\r\n    window.speechSynthesis.speak(utterance);\r\n  }, []);\r\n\r\n  /*\r\n   * SIMPLIFIED: Using Native Browser TTS for reliability and offline support.\r\n   * Removing dependency on external AI SDKs for this critical feature.\r\n   */\r\n  const speak = useCallback(\r\n    (text: string, language: Language) => {\r\n      speakNative(text, language);\r\n    },\r\n    [speakNative]\r\n  );\r\n\r\n  return { speak, isSpeaking, error };\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\hooks\\useTheme.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\i18n.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\index.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\assets\\html2canvas.esm-C4tBoHcR.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\assets\\index-D56LvSvk.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\assets\\index.es-Bo57cH7l.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\assets\\purify.es-h52jTgpa.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\assets\\workbox-window.prod.es5-CcvICf7O.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\cordova.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\cordova_plugins.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\sw.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\ios\\App\\App\\public\\workbox-8c29f6e4.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\playwright.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\postcss.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\router\\AppRouter.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\services\\logger.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\src\\test\\setup.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\src\\test\\simple.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\src\\vite-env.d.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [378, 381], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [378, 381], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/// <reference types=\"vite/client\" />\r\n/// <reference types=\"vite-plugin-pwa/client\" />\r\n\r\ndeclare module 'virtual:pwa-register' {\r\n  export interface RegisterSWOptions {\r\n    immediate?: boolean;\r\n    onNeedRefresh?: () => void;\r\n    onOfflineReady?: () => void;\r\n    onRegistered?: (registration: ServiceWorkerRegistration | undefined) => void;\r\n    onRegisterError?: (error: any) => void;\r\n  }\r\n\r\n  export function registerSW(options?: RegisterSWOptions): (reloadPage?: boolean) => Promise<void>;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\tailwind.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\tests\\emergency-flow.spec.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'e' is defined but never used.",
        "line": 35,
        "column": 14,
        "nodeType": "Identifier",
        "messageId": "unusedVar",
        "endLine": 35,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { test, expect } from '@playwright/test';\n\ntest.describe('Emergency Alert Flow', () => {\n  test.beforeEach(async ({ page }) => {\n    // Mock emergency contacts in localStorage\n    await page.addInitScript(() => {\n      window.localStorage.setItem(\n        'emergency_contacts',\n        JSON.stringify([{ id: '1', name: 'Test Contact', relation: 'Friend', phone: '1234567890' }])\n      );\n    });\n\n    // Go to the home page before each test\n    await page.goto('/');\n  });\n\n  test('should trigger countdown and show alert screen', async ({ page }) => {\n    // Wait for translations to load (look for EMERGENCY button text)\n    await expect(page.getByRole('button', { name: /EMERGENCY|EMERGENCIA/i })).toBeVisible();\n\n    // 1. Verify we are on the Ready screen matches logo\n    await expect(\n      page.getByRole('img', { name: /Aura Speaks AI|Alerta de ConvulsiÃ³n/i })\n    ).toBeVisible();\n\n    // Handle Install Prompt (Mobile) - dismiss if present\n    const closeInstallBtn = page\n      .getByRole('button', { name: /Close|Cerrar|Not Now|Ahora No/i })\n      .first();\n    try {\n      // Wait up to 2s for prompt to appear\n      await closeInstallBtn.waitFor({ state: 'visible', timeout: 2000 });\n      await closeInstallBtn.click();\n      await page.waitForTimeout(500); // Allow closing animation\n    } catch (e) {\n      // Prompt didn't appear, ignore\n    }\n\n    // 2. Click the Emergency Button\n    const emergencyBtn = page.getByRole('button', { name: /EMERGENCY|EMERGENCIA/i });\n    await expect(emergencyBtn).toBeVisible();\n    await emergencyBtn.click({ force: true });\n\n    // 3. Verify Countdown starts\n    await expect(page.getByText(/Slide to Cancel|Deslizar para Cancelar/i)).toBeVisible();\n\n    // 4. Wait for countdown to finish (default is 5 seconds)\n    await page.waitForTimeout(6000);\n\n    // 5. Verify \"Medical Emergency\" Alert Screen\n    await expect(page.getByText(/MEDICAL EMERGENCY|EMERGENCIA MÃ‰DICA/i)).toBeVisible();\n    await expect(\n      page.getByText(/I am having a seizure|Estoy teniendo una convulsiÃ³n/i)\n    ).toBeVisible();\n\n    // 6. Verify \"I'm OK\" button exists to reset\n    const okBtn = page.getByRole('button', { name: /I'm OK|Estoy Bien/i });\n    await expect(okBtn).toBeVisible();\n    await okBtn.click();\n\n    // 7. Verify return to Ready Screen\n    await expect(page.getByRole('button', { name: /EMERGENCY|EMERGENCIA/i })).toBeVisible();\n  });\n});\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\tests\\navigation.spec.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\utils\\backupUtils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\utils\\pdfGenerator.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\localadmin\\OneDrive - Coqui Cloud\\Documents\\GitHub\\seizure-alert-app\\vite.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  }
]
