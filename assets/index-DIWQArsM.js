var lS=Object.defineProperty;var uS=(t,e,n)=>e in t?lS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var An=(t,e,n)=>uS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var A8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jh={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function cS(){if(Bm)return Bc;Bm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:o,key:u,ref:a!==void 0?a:null,props:s}}return Bc.Fragment=e,Bc.jsx=n,Bc.jsxs=n,Bc}var qm;function fS(){return qm||(qm=1,Jh.exports=cS()),Jh.exports}var $=fS(),jh={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function dS(){if(Hm)return Ot;Hm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),A=Symbol.iterator;function S(J){return J===null||typeof J!="object"?null:(J=A&&J[A]||J["@@iterator"],typeof J=="function"?J:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,M={};function R(J,L,z){this.props=J,this.context=L,this.refs=M,this.updater=z||C}R.prototype.isReactComponent={},R.prototype.setState=function(J,L){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,L,"setState")},R.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function j(){}j.prototype=R.prototype;function q(J,L,z){this.props=J,this.context=L,this.refs=M,this.updater=z||C}var B=q.prototype=new j;B.constructor=q,I(B,R.prototype),B.isPureReactComponent=!0;var X=Array.isArray;function ve(){}var de={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function G(J,L,z){var K=z.ref;return{$$typeof:t,type:J,key:L,ref:K!==void 0?K:null,props:z}}function te(J,L){return G(J.type,L,J.props)}function U(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function Y(J){var L={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(z){return L[z]})}var se=/\/+/g;function oe(J,L){return typeof J=="object"&&J!==null&&J.key!=null?Y(""+J.key):L.toString(36)}function Ae(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(ve,ve):(J.status="pending",J.then(function(L){J.status==="pending"&&(J.status="fulfilled",J.value=L)},function(L){J.status==="pending"&&(J.status="rejected",J.reason=L)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ne(J,L,z,K,ie){var ce=typeof J;(ce==="undefined"||ce==="boolean")&&(J=null);var me=!1;if(J===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(J.$$typeof){case t:case e:me=!0;break;case g:return me=J._init,ne(me(J._payload),L,z,K,ie)}}if(me)return ie=ie(J),me=K===""?"."+oe(J,0):K,X(ie)?(z="",me!=null&&(z=me.replace(se,"$&/")+"/"),ne(ie,L,z,"",function(Ue){return Ue})):ie!=null&&(U(ie)&&(ie=te(ie,z+(ie.key==null||J&&J.key===ie.key?"":(""+ie.key).replace(se,"$&/")+"/")+me)),L.push(ie)),1;me=0;var Le=K===""?".":K+":";if(X(J))for(var Ne=0;Ne<J.length;Ne++)K=J[Ne],ce=Le+oe(K,Ne),me+=ne(K,L,z,ce,ie);else if(Ne=S(J),typeof Ne=="function")for(J=Ne.call(J),Ne=0;!(K=J.next()).done;)K=K.value,ce=Le+oe(K,Ne++),me+=ne(K,L,z,ce,ie);else if(ce==="object"){if(typeof J.then=="function")return ne(Ae(J),L,z,K,ie);throw L=String(J),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return me}function ae(J,L,z){if(J==null)return J;var K=[],ie=0;return ne(J,K,"","",function(ce){return L.call(z,ce,ie++)}),K}function ue(J){if(J._status===-1){var L=J._result;L=L(),L.then(function(z){(J._status===0||J._status===-1)&&(J._status=1,J._result=z)},function(z){(J._status===0||J._status===-1)&&(J._status=2,J._result=z)}),J._status===-1&&(J._status=0,J._result=L)}if(J._status===1)return J._result.default;throw J._result}var we=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Oe={map:ae,forEach:function(J,L,z){ae(J,function(){L.apply(this,arguments)},z)},count:function(J){var L=0;return ae(J,function(){L++}),L},toArray:function(J){return ae(J,function(L){return L})||[]},only:function(J){if(!U(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Ot.Activity=_,Ot.Children=Oe,Ot.Component=R,Ot.Fragment=n,Ot.Profiler=a,Ot.PureComponent=q,Ot.StrictMode=o,Ot.Suspense=h,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(J){return de.H.useMemoCache(J)}},Ot.cache=function(J){return function(){return J.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(J,L,z){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var K=I({},J.props),ie=J.key;if(L!=null)for(ce in L.key!==void 0&&(ie=""+L.key),L)!re.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||(K[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)K.children=z;else if(1<ce){for(var me=Array(ce),Le=0;Le<ce;Le++)me[Le]=arguments[Le+2];K.children=me}return G(J.type,ie,K)},Ot.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:s,_context:J},J},Ot.createElement=function(J,L,z){var K,ie={},ce=null;if(L!=null)for(K in L.key!==void 0&&(ce=""+L.key),L)re.call(L,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=L[K]);var me=arguments.length-2;if(me===1)ie.children=z;else if(1<me){for(var Le=Array(me),Ne=0;Ne<me;Ne++)Le[Ne]=arguments[Ne+2];ie.children=Le}if(J&&J.defaultProps)for(K in me=J.defaultProps,me)ie[K]===void 0&&(ie[K]=me[K]);return G(J,ce,ie)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(J){return{$$typeof:c,render:J}},Ot.isValidElement=U,Ot.lazy=function(J){return{$$typeof:g,_payload:{_status:-1,_result:J},_init:ue}},Ot.memo=function(J,L){return{$$typeof:f,type:J,compare:L===void 0?null:L}},Ot.startTransition=function(J){var L=de.T,z={};de.T=z;try{var K=J(),ie=de.S;ie!==null&&ie(z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ve,we)}catch(ce){we(ce)}finally{L!==null&&z.types!==null&&(L.types=z.types),de.T=L}},Ot.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Ot.use=function(J){return de.H.use(J)},Ot.useActionState=function(J,L,z){return de.H.useActionState(J,L,z)},Ot.useCallback=function(J,L){return de.H.useCallback(J,L)},Ot.useContext=function(J){return de.H.useContext(J)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(J,L){return de.H.useDeferredValue(J,L)},Ot.useEffect=function(J,L){return de.H.useEffect(J,L)},Ot.useEffectEvent=function(J){return de.H.useEffectEvent(J)},Ot.useId=function(){return de.H.useId()},Ot.useImperativeHandle=function(J,L,z){return de.H.useImperativeHandle(J,L,z)},Ot.useInsertionEffect=function(J,L){return de.H.useInsertionEffect(J,L)},Ot.useLayoutEffect=function(J,L){return de.H.useLayoutEffect(J,L)},Ot.useMemo=function(J,L){return de.H.useMemo(J,L)},Ot.useOptimistic=function(J,L){return de.H.useOptimistic(J,L)},Ot.useReducer=function(J,L,z){return de.H.useReducer(J,L,z)},Ot.useRef=function(J){return de.H.useRef(J)},Ot.useState=function(J){return de.H.useState(J)},Ot.useSyncExternalStore=function(J,L,z){return de.H.useSyncExternalStore(J,L,z)},Ot.useTransition=function(){return de.H.useTransition()},Ot.version="19.2.4",Ot}var zm;function s0(){return zm||(zm=1,jh.exports=dS()),jh.exports}var Ye=s0();const hS=Xv(Ye);var Kh={exports:{}},qc={},Wh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function pS(){return Gm||(Gm=1,(function(t){function e(ne,ae){var ue=ne.length;ne.push(ae);e:for(;0<ue;){var we=ue-1>>>1,Oe=ne[we];if(0<a(Oe,ae))ne[we]=ae,ne[ue]=Oe,ue=we;else break e}}function n(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var ae=ne[0],ue=ne.pop();if(ue!==ae){ne[0]=ue;e:for(var we=0,Oe=ne.length,J=Oe>>>1;we<J;){var L=2*(we+1)-1,z=ne[L],K=L+1,ie=ne[K];if(0>a(z,ue))K<Oe&&0>a(ie,z)?(ne[we]=ie,ne[K]=ue,we=K):(ne[we]=z,ne[L]=ue,we=L);else if(K<Oe&&0>a(ie,ue))ne[we]=ie,ne[K]=ue,we=K;else break e}}return ae}function a(ne,ae){var ue=ne.sortIndex-ae.sortIndex;return ue!==0?ue:ne.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],f=[],g=1,_=null,A=3,S=!1,C=!1,I=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function B(ne){for(var ae=n(f);ae!==null;){if(ae.callback===null)o(f);else if(ae.startTime<=ne)o(f),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(f)}}function X(ne){if(I=!1,B(ne),!C)if(n(h)!==null)C=!0,ve||(ve=!0,Y());else{var ae=n(f);ae!==null&&Ae(X,ae.startTime-ne)}}var ve=!1,de=-1,re=5,G=-1;function te(){return M?!0:!(t.unstable_now()-G<re)}function U(){if(M=!1,ve){var ne=t.unstable_now();G=ne;var ae=!0;try{e:{C=!1,I&&(I=!1,j(de),de=-1),S=!0;var ue=A;try{t:{for(B(ne),_=n(h);_!==null&&!(_.expirationTime>ne&&te());){var we=_.callback;if(typeof we=="function"){_.callback=null,A=_.priorityLevel;var Oe=we(_.expirationTime<=ne);if(ne=t.unstable_now(),typeof Oe=="function"){_.callback=Oe,B(ne),ae=!0;break t}_===n(h)&&o(h),B(ne)}else o(h);_=n(h)}if(_!==null)ae=!0;else{var J=n(f);J!==null&&Ae(X,J.startTime-ne),ae=!1}}break e}finally{_=null,A=ue,S=!1}ae=void 0}}finally{ae?Y():ve=!1}}}var Y;if(typeof q=="function")Y=function(){q(U)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,oe=se.port2;se.port1.onmessage=U,Y=function(){oe.postMessage(null)}}else Y=function(){R(U,0)};function Ae(ne,ae){de=R(function(){ne(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ue=A;A=ae;try{return ne()}finally{A=ue}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(ne,ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=A;A=ne;try{return ae()}finally{A=ue}},t.unstable_scheduleCallback=function(ne,ae,ue){var we=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?we+ue:we):ue=we,ne){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ue+Oe,ne={id:g++,callback:ae,priorityLevel:ne,startTime:ue,expirationTime:Oe,sortIndex:-1},ue>we?(ne.sortIndex=ue,e(f,ne),n(h)===null&&ne===n(f)&&(I?(j(de),de=-1):I=!0,Ae(X,ue-we))):(ne.sortIndex=Oe,e(h,ne),C||S||(C=!0,ve||(ve=!0,Y()))),ne},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(ne){var ae=A;return function(){var ue=A;A=ae;try{return ne.apply(this,arguments)}finally{A=ue}}}})(Xh)),Xh}var Vm;function gS(){return Vm||(Vm=1,Wh.exports=pS()),Wh.exports}var Zh={exports:{}},io={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function mS(){if(Ym)return io;Ym=1;var t=s0();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:f,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return io.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,io.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,g)},io.flushSync=function(h){var f=u.T,g=o.p;try{if(u.T=null,o.p=2,h)return h()}finally{u.T=f,o.p=g,o.d.f()}},io.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(h,f))},io.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},io.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,_=c(g,f.crossOrigin),A=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?o.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:S}):g==="script"&&o.d.X(h,{crossOrigin:_,integrity:A,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},io.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);o.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(h)},io.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=c(g,f.crossOrigin);o.d.L(h,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},io.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=c(f.as,f.crossOrigin);o.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(h)},io.requestFormReset=function(h){o.d.r(h)},io.unstable_batchedUpdates=function(h,f){return h(f)},io.useFormState=function(h,f,g){return u.H.useFormState(h,f,g)},io.useFormStatus=function(){return u.H.useHostTransitionStatus()},io.version="19.2.4",io}var Jm;function vS(){if(Jm)return Zh.exports;Jm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zh.exports=mS(),Zh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function yS(){if(jm)return qc;jm=1;var t=gS(),e=s0(),n=vS();function o(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function c(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(s(i)!==i)throw Error(o(188))}function f(i){var r=i.alternate;if(!r){if(r=s(i),r===null)throw Error(o(188));return r!==i?null:i}for(var l=i,d=r;;){var y=l.return;if(y===null)break;var w=y.alternate;if(w===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===l)return h(y),i;if(w===d)return h(y),r;w=w.sibling}throw Error(o(188))}if(l.return!==d.return)l=y,d=w;else{for(var N=!1,F=y.child;F;){if(F===l){N=!0,l=y,d=w;break}if(F===d){N=!0,d=y,l=w;break}F=F.sibling}if(!N){for(F=w.child;F;){if(F===l){N=!0,l=w,d=y;break}if(F===d){N=!0,d=w,l=y;break}F=F.sibling}if(!N)throw Error(o(189))}}if(l.alternate!==d)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var se=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===se?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case ve:return"SuspenseList";case G:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case q:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case B:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case de:return r=i.displayName||null,r!==null?r:oe(i.type)||"Memo";case re:r=i._payload,i=i._init;try{return oe(i(r))}catch{}}return null}var Ae=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},we=[],Oe=-1;function J(i){return{current:i}}function L(i){0>Oe||(i.current=we[Oe],we[Oe]=null,Oe--)}function z(i,r){Oe++,we[Oe]=i.current,i.current=r}var K=J(null),ie=J(null),ce=J(null),me=J(null);function Le(i,r){switch(z(ce,r),z(ie,i),z(K,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lm(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lm(r),i=um(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(K),z(K,i)}function Ne(){L(K),L(ie),L(ce)}function Ue(i){i.memoizedState!==null&&z(me,i);var r=K.current,l=um(r,i.type);r!==l&&(z(ie,i),z(K,l))}function Ve(i){ie.current===i&&(L(K),L(ie)),me.current===i&&(L(me),Pc._currentValue=ue)}var Ke,We;function rt(i){if(Ke===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ke=r&&r[1]||"",We=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+i+We}var W=!1;function je(i,r){if(!i||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Re){var Ce=Re}Reflect.construct(i,[],Be)}else{try{Be.call()}catch(Re){Ce=Re}i.call(Be.prototype)}}else{try{throw Error()}catch(Re){Ce=Re}(Be=i())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Re){if(Re&&Ce&&typeof Re.stack=="string")return[Re.stack,Ce.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),N=w[0],F=w[1];if(N&&F){var le=N.split(`
`),Te=F.split(`
`);for(y=d=0;d<le.length&&!le[d].includes("DetermineComponentFrameRoot");)d++;for(;y<Te.length&&!Te[y].includes("DetermineComponentFrameRoot");)y++;if(d===le.length||y===Te.length)for(d=le.length-1,y=Te.length-1;1<=d&&0<=y&&le[d]!==Te[y];)y--;for(;1<=d&&0<=y;d--,y--)if(le[d]!==Te[y]){if(d!==1||y!==1)do if(d--,y--,0>y||le[d]!==Te[y]){var ke=`
`+le[d].replace(" at new "," at ");return i.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",i.displayName)),ke}while(1<=d&&0<=y);break}}}finally{W=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?rt(l):""}function Ht(i,r){switch(i.tag){case 26:case 27:case 5:return rt(i.type);case 16:return rt("Lazy");case 13:return i.child!==r&&r!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return je(i.type,!1);case 11:return je(i.type.render,!1);case 1:return je(i.type,!0);case 31:return rt("Activity");default:return""}}function bt(i){try{var r="",l=null;do r+=Ht(i,l),l=i,i=i.return;while(i);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var ze=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,St=t.unstable_shouldYield,dt=t.unstable_requestPaint,Dt=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,Mt=t.unstable_ImmediatePriority,jt=t.unstable_UserBlockingPriority,zt=t.unstable_NormalPriority,at=t.unstable_LowPriority,It=t.unstable_IdlePriority,ut=t.log,Xn=t.unstable_setDisableYieldValue,Yt=null,_t=null;function Nt(i){if(typeof ut=="function"&&Xn(i),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Yt,i)}catch{}}var Kt=Math.clz32?Math.clz32:xt,mt=Math.log,En=Math.LN2;function xt(i){return i>>>=0,i===0?32:31-(mt(i)/En|0)|0}var Ct=256,yn=262144,Bt=4194304;function ct(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function tn(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var y=0,w=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var F=d&134217727;return F!==0?(d=F&~w,d!==0?y=ct(d):(N&=F,N!==0?y=ct(N):l||(l=F&~i,l!==0&&(y=ct(l))))):(F=d&~w,F!==0?y=ct(F):N!==0?y=ct(N):l||(l=d&~i,l!==0&&(y=ct(l)))),y===0?0:r!==0&&r!==y&&(r&w)===0&&(w=y&-y,l=r&-r,w>=l||w===32&&(l&4194048)!==0)?r:y}function Go(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Pi(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var i=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),i}function Ao(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function ht(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Mr(i,r,l,d,y,w){var N=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var F=i.entanglements,le=i.expirationTimes,Te=i.hiddenUpdates;for(l=N&~l;0<l;){var ke=31-Kt(l),Be=1<<ke;F[ke]=0,le[ke]=-1;var Ce=Te[ke];if(Ce!==null)for(Te[ke]=null,ke=0;ke<Ce.length;ke++){var Re=Ce[ke];Re!==null&&(Re.lane&=-536870913)}l&=~Be}d!==0&&cr(i,d,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(N&~r))}function cr(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-Kt(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function uo(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-Kt(l),y=1<<d;y&r|i[d]&r&&(i[d]|=r),l&=~y}}function co(i,r){var l=r&-r;return l=(l&42)!==0?1:Un(l),(l&(i.suspendedLanes|r))!==0?0:l}function Un(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ii(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Si(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:Im(i.type))}function da(i,r){var l=ae.p;try{return ae.p=i,r()}finally{ae.p=l}}var Yi=Math.random().toString(36).slice(2),bn="__reactFiber$"+Yi,On="__reactProps$"+Yi,Ui="__reactContainer$"+Yi,fo="__reactEvents$"+Yi,xo="__reactListeners$"+Yi,Ua="__reactHandles$"+Yi,Vo="__reactResources$"+Yi,Yo="__reactMarker$"+Yi;function ha(i){delete i[bn],delete i[On],delete i[fo],delete i[xo],delete i[Ua]}function Jo(i){var r=i[bn];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ui]||l[bn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=mm(i);i!==null;){if(l=i[bn])return l;i=mm(i)}return r}i=l,l=i.parentNode}return null}function jo(i){if(i=i[bn]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Oa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(o(33))}function fr(i){var r=i[Vo];return r||(r=i[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Zn(i){i[Yo]=!0}var rl=new Set,ho={};function Ko(i,r){Ir(i,r),Ir(i+"Capture",r)}function Ir(i,r){for(ho[i]=r,i=0;i<r.length;i++)rl.add(r[i])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},ll={};function Jl(i){return ze.call(ll,i)?!0:ze.call(sl,i)?!1:al.test(i)?ll[i]=!0:(sl[i]=!0,!1)}function po(i,r,l){if(Jl(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function kr(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Wo(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ul(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dr(i,r,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(N){l=""+N,w.call(this,N)}}),Object.defineProperty(i,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function pa(i){if(!i._valueTracker){var r=ul(i)?"checked":"value";i._valueTracker=dr(i,r,""+i[r])}}function cl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=ul(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function Ji(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hi=/[\n"\\]/g;function oi(i){return i.replace(hi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ys(i,r,l,d,y,w,N,F){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),r!=null?N==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+un(r)):i.value!==""+un(r)&&(i.value=""+un(r)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),r!=null?fl(i,N,un(r)):l!=null?fl(i,N,un(l)):d!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+un(F):i.removeAttribute("name")}function jl(i,r,l,d,y,w,N,F){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),r!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||r!=null)){pa(i);return}l=l!=null?""+un(l):"",r=r!=null?""+un(r):l,F||r===i.value||(i.value=r),i.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=F?i.checked:!!d,i.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),pa(i)}function fl(i,r,l){r==="number"&&Ji(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ji(i,r,l,d){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&d&&(i[l].defaultSelected=!0)}else{for(l=""+un(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function dl(i,r,l){if(r!=null&&(r=""+un(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+un(l):""}function hl(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(o(92));if(Ae(d)){if(1<d.length)throw Error(o(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=un(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),pa(i)}function Xo(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||Fa.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Wl(i,r,l){if(r!=null&&typeof r!="object")throw Error(o(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&l[y]!==d&&Kl(i,y,d)}else for(var w in r)r.hasOwnProperty(w)&&Kl(i,w,r[w])}function pl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(i){return Xl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zo(){}var Dr=null;function Ba(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ga=null,wt=null;function Zl(i){var r=jo(i);if(r&&(i=r.stateNode)){var l=i[On]||null;e:switch(i=r.stateNode,r.type){case"input":if(ys(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+oi(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var y=d[On]||null;if(!y)throw Error(o(90));ys(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&cl(d)}break e;case"textarea":dl(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&ji(i,!!l.multiple,r,!1)}}}var ml=!1;function Ql(i,r,l){if(ml)return i(r,l);ml=!0;try{var d=i(r);return d}finally{if(ml=!1,(ga!==null||wt!==null)&&(Ef(),ga&&(r=ga,i=wt,wt=ga=null,Zl(r),i)))for(r=0;r<i.length;r++)Zl(i[r])}}function go(i,r){var l=i.stateNode;if(l===null)return null;var d=l[On]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(o(231,r,typeof l));return l}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(Ti)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){vl=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{vl=!1}var mo=null,Ha=null,hr=null;function $l(){if(hr)return hr;var i,r=Ha,l=r.length,d,y="value"in mo?mo.value:mo.textContent,w=y.length;for(i=0;i<l&&r[i]===y[i];i++);var N=l-i;for(d=1;d<=N&&r[l-d]===y[w-d];d++);return hr=y.slice(i,1<d?1-d:void 0)}function Eo(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function Ss(){return!1}function _i(i){function r(l,d,y,w,N){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(l=i[F],this[F]=l?l(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?bs:Ss,this.isPropagationStopped=Ss,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=_i(pr),Pr=_({},pr,{view:0,detail:0}),_s=_i(Pr),za,Ur,Or,Ga=_({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Or&&(Or&&i.type==="mousemove"?(za=i.screenX-Or.screenX,Ur=i.screenY-Or.screenY):Ur=za=0,Or=i),za)},movementY:function(i){return"movementY"in i?i.movementY:Ur}}),yl=_i(Ga),Fr=_({},Ga,{dataTransfer:0}),Br=_i(Fr),eu=_({},Pr,{relatedTarget:0}),qr=_i(eu),tu=_({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),x=_i(tu),k=_({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ee=_i(k),fe=_({},pr,{data:0}),ye=_i(fe),De={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function st(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=tt[i])?!!r[i]:!1}function Tt(){return st}var Pt=_({},Pr,{key:function(i){if(i.key){var r=De[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Eo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?He[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tt,charCode:function(i){return i.type==="keypress"?Eo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Eo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nn=_i(Pt),Fn=_({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qn=_i(Fn),Tn=_({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tt}),pi=_i(Tn),ri=_({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ni=_i(ri),Hr=_({},Ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qo=_i(Hr),zr=_({},pr,{newState:0,oldState:0}),bl=_i(zr),ws=[9,13,27,32],gr=Ti&&"CompositionEvent"in window,$o=null;Ti&&"documentMode"in document&&($o=document.documentMode);var Va=Ti&&"TextEvent"in window&&!$o,Gr=Ti&&(!gr||$o&&8<$o&&11>=$o),wi=" ",ma=!1;function va(i,r){switch(i){case"keyup":return ws.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mr=!1;function Ki(i,r){switch(i){case"compositionend":return As(r);case"keypress":return r.which!==32?null:(ma=!0,wi);case"textInput":return i=r.data,i===wi&&ma?null:i;default:return null}}function Vr(i,r){if(mr)return i==="compositionend"||!gr&&va(i,r)?(i=$l(),hr=Ha=mo=null,mr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gr&&r.locale!=="ko"?null:r.data;default:return null}}var xs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sl(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!xs[i.type]:r==="textarea"}function vo(i,r,l,d){ga?wt?wt.push(d):wt=[d]:ga=d,r=If(r,"onChange"),0<r.length&&(l=new To("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var er=null,Yr=null;function _l(i){nm(i,0)}function tr(i){var r=Oa(i);if(cl(r))return i}function ya(i,r){if(i==="change")return r}var to=!1;if(Ti){var Wi;if(Ti){var vr="oninput"in document;if(!vr){var yr=document.createElement("div");yr.setAttribute("oninput","return;"),vr=typeof yr.oninput=="function"}Wi=vr}else Wi=!1;to=Wi&&(!document.documentMode||9<document.documentMode)}function Jr(){er&&(er.detachEvent("onpropertychange",Es),Yr=er=null)}function Es(i){if(i.propertyName==="value"&&tr(Yr)){var r=[];vo(r,Yr,i,Ba(i)),Ql(_l,r)}}function Ts(i,r,l){i==="focusin"?(Jr(),er=r,Yr=l,er.attachEvent("onpropertychange",Es)):i==="focusout"&&Jr()}function $n(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tr(Yr)}function nu(i,r){if(i==="click")return tr(r)}function br(i,r){if(i==="input"||i==="change")return tr(r)}function Sr(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ci=typeof Object.is=="function"?Object.is:Sr;function jr(i,r){if(Ci(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!ze.call(r,y)||!Ci(i[y],r[y]))return!1}return!0}function Ns(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cs(i,r){var l=Ns(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ns(l)}}function Kr(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Kr(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Wr(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ji(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ji(i.document)}return r}function _r(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Ya=Ti&&"documentMode"in document&&11>=document.documentMode,yo=null,Xr=null,Oi=null,No=!1;function cn(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;No||yo==null||yo!==Ji(d)||(d=yo,"selectionStart"in d&&_r(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oi&&jr(Oi,d)||(Oi=d,d=If(Xr,"onSelect"),0<d.length&&(r=new To("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=yo)))}function on(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Nn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},ei={},wr={};Ti&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function nr(i){if(ei[i])return ei[i];if(!Nn[i])return i;var r=Nn[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in wr)return ei[i]=r[l];return i}var Ja=nr("animationend"),wl=nr("animationiteration"),oc=nr("animationstart"),ef=nr("transitionrun"),tf=nr("transitionstart"),nf=nr("transitioncancel"),rc=nr("transitionend"),ac=new Map,ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ja.push("scrollEnd");function Co(i,r){ac.set(i,r),Ko(r,[i])}var Al=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},bo=[],Ka=0,iu=0;function xl(){for(var i=Ka,r=iu=Ka=0;r<i;){var l=bo[r];bo[r++]=null;var d=bo[r];bo[r++]=null;var y=bo[r];bo[r++]=null;var w=bo[r];if(bo[r++]=null,d!==null&&y!==null){var N=d.pending;N===null?y.next=y:(y.next=N.next,N.next=y),d.pending=y}w!==0&&Tl(l,y,w)}}function El(i,r,l,d){bo[Ka++]=i,bo[Ka++]=r,bo[Ka++]=l,bo[Ka++]=d,iu|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function ou(i,r,l,d){return El(i,r,l,d),Fi(i)}function Zr(i,r){return El(i,null,null,r),Fi(i)}function Tl(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var y=!1,w=i.return;w!==null;)w.childLanes|=l,d=w.alternate,d!==null&&(d.childLanes|=l),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&r!==null&&(y=31-Kt(l),i=w.hiddenUpdates,d=i[y],d===null?i[y]=[r]:d.push(r),r.lane=l|536870912),w):null}function Fi(i){if(50<Cc)throw Cc=0,mh=null,Error(o(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Li={};function ru(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(i,r,l,d){return new ru(i,r,l,d)}function au(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Lo(i,r){var l=i.alternate;return l===null?(l=Bi(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Nl(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ls(i,r,l,d,y,w){var N=0;if(d=i,typeof i=="function")au(i)&&(N=1);else if(typeof i=="string")N=Xb(i,l,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case G:return i=Bi(31,l,r,y),i.elementType=G,i.lanes=w,i;case I:return ba(l.children,y,w,r);case M:N=8,y|=24;break;case R:return i=Bi(12,l,r,y|2),i.elementType=R,i.lanes=w,i;case X:return i=Bi(13,l,r,y),i.elementType=X,i.lanes=w,i;case ve:return i=Bi(19,l,r,y),i.elementType=ve,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:N=10;break e;case j:N=9;break e;case B:N=11;break e;case de:N=14;break e;case re:N=16,d=null;break e}N=29,l=Error(o(130,i===null?"null":typeof i,"")),d=null}return r=Bi(N,l,r,y),r.elementType=i,r.type=d,r.lanes=w,r}function ba(i,r,l,d){return i=Bi(7,i,d,r),i.lanes=l,i}function Cl(i,r,l){return i=Bi(6,i,null,r),i.lanes=l,i}function su(i){var r=Bi(18,null,null,0);return r.stateNode=i,r}function Rs(i,r,l){return r=Bi(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var lu=new WeakMap;function Ro(i,r){if(typeof i=="object"&&i!==null){var l=lu.get(i);return l!==void 0?l:(r={value:i,source:r,stack:bt(r)},lu.set(i,r),r)}return{value:i,source:r,stack:bt(r)}}var Ms=[],Wa=0,uu=null,Ll=0,Mo=[],Io=0,Sa=null,ko=1,Do="";function So(i,r){Ms[Wa++]=Ll,Ms[Wa++]=uu,uu=i,Ll=r}function of(i,r,l){Mo[Io++]=ko,Mo[Io++]=Do,Mo[Io++]=Sa,Sa=i;var d=ko;i=Do;var y=32-Kt(d)-1;d&=~(1<<y),l+=1;var w=32-Kt(r)+y;if(30<w){var N=y-y%5;w=(d&(1<<N)-1).toString(32),d>>=N,y-=N,ko=1<<32-Kt(r)+y|l<<y|d,Do=w+i}else ko=1<<w|l<<y|d,Do=i}function sc(i){i.return!==null&&(So(i,1),of(i,1,0))}function cu(i){for(;i===uu;)uu=Ms[--Wa],Ms[Wa]=null,Ll=Ms[--Wa],Ms[Wa]=null;for(;i===Sa;)Sa=Mo[--Io],Mo[Io]=null,Do=Mo[--Io],Mo[Io]=null,ko=Mo[--Io],Mo[Io]=null}function rf(i,r){Mo[Io++]=ko,Mo[Io++]=Do,Mo[Io++]=Sa,ko=r.id,Do=r.overflow,Sa=i}var Ri=null,In=null,Xt=!1,Xi=null,Vn=!1,ir=Error(o(519));function _a(i){var r=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Is(Ro(r,i)),ir}function lc(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[bn]=i,r[On]=d,l){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(l=0;l<Rc.length;l++)Qt(Rc[l],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Qt("invalid",r),jl(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Qt("invalid",r);break;case"textarea":Qt("invalid",r),hl(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||am(r.textContent,l)?(d.popover!=null&&(Qt("beforetoggle",r),Qt("toggle",r)),d.onScroll!=null&&Qt("scroll",r),d.onScrollEnd!=null&&Qt("scrollend",r),d.onClick!=null&&(r.onclick=Zo),r=!0):r=!1,r||_a(i,!0)}function Qr(i){for(Ri=i.return;Ri;)switch(Ri.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ri=Ri.return}}function Mi(i){if(i!==Ri)return!1;if(!Xt)return Qr(i),Xt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Mh(i.type,i.memoizedProps)),l=!l),l&&In&&_a(i),Qr(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));In=gm(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));In=gm(i)}else r===27?(r=In,Js(i.type)?(i=Uh,Uh=null,In=i):In=r):In=Ri?Tr(i.stateNode.nextSibling):null;return!0}function Xa(){In=Ri=null,Xt=!1}function uc(){var i=Xi;return i!==null&&(qo===null?qo=i:qo.push.apply(qo,i),Xi=null),i}function Is(i){Xi===null?Xi=[i]:Xi.push(i)}var fu=J(null),wa=null,Ar=null;function Aa(i,r,l){z(fu,r._currentValue),r._currentValue=l}function Po(i){i._currentValue=fu.current,L(fu)}function ks(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function Za(i,r,l,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var N=y.child;w=w.firstContext;e:for(;w!==null;){var F=w;w=y;for(var le=0;le<r.length;le++)if(F.context===r[le]){w.lanes|=l,F=w.alternate,F!==null&&(F.lanes|=l),ks(w.return,l,i),d||(N=null);break e}w=F.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(o(341));N.lanes|=l,w=N.alternate,w!==null&&(w.lanes|=l),ks(N,l,i),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===i){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function xa(i,r,l,d){i=null;for(var y=r,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var F=y.type;Ci(y.pendingProps.value,N.value)||(i!==null?i.push(F):i=[F])}}else if(y===me.current){if(N=y.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Pc):i=[Pc])}y=y.return}i!==null&&Za(r,i,l,d),r.flags|=262144}function du(i){for(i=i.firstContext;i!==null;){if(!Ci(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ea(i){wa=i,Ar=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ii(i){return af(wa,i)}function hu(i,r){return wa===null&&Ea(i),af(i,r)}function af(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ar===null){if(i===null)throw Error(o(308));Ar=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ar=Ar.next=r;return l}var Pd=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},Ud=t.unstable_scheduleCallback,Od=t.unstable_NormalPriority,ti={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ds(){return{controller:new Pd,data:new Map,refCount:0}}function Rl(i){i.refCount--,i.refCount===0&&Ud(Od,function(){i.controller.abort()})}var Ml=null,pu=0,m=0,b=null;function E(i,r){if(Ml===null){var l=Ml=[];pu=0,m=wh(),b={status:"pending",value:void 0,then:function(d){l.push(d)}}}return pu++,r.then(T,T),r}function T(){if(--pu===0&&Ml!==null){b!==null&&(b.status="fulfilled");var i=Ml;Ml=null,m=0,b=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function D(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var P=ne.S;ne.S=function(i,r){Rg=Dt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&E(i,r),P!==null&&P(i,r)};var O=J(null);function H(){var i=O.current;return i!==null?i:Dn.pooledCache}function V(i,r){r===null?z(O,O.current):z(O,r.pool)}function Q(){var i=H();return i===null?null:{parent:ti._currentValue,pool:i}}var he=Error(o(460)),xe=Error(o(474)),Z=Error(o(542)),ge={then:function(){}};function Se(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ie(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Zo,Zo),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ge(i),i;default:if(typeof r.status=="string")r.then(Zo,Zo);else{if(i=Dn,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ge(i),i}throw Me=r,he}}function _e(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Me=l,he):l}}var Me=null;function Pe(){if(Me===null)throw Error(o(459));var i=Me;return Me=null,i}function Ge(i){if(i===he||i===Z)throw Error(o(483))}var qe=null,it=0;function Ze(i){var r=it;return it+=1,qe===null&&(qe=[]),Ie(qe,i,r)}function Lt(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function et(i,r){throw r.$$typeof===A?Error(o(525)):(i=Object.prototype.toString.call(r),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Wt(i){function r(be,pe){if(i){var Ee=be.deletions;Ee===null?(be.deletions=[pe],be.flags|=16):Ee.push(pe)}}function l(be,pe){if(!i)return null;for(;pe!==null;)r(be,pe),pe=pe.sibling;return null}function d(be){for(var pe=new Map;be!==null;)be.key!==null?pe.set(be.key,be):pe.set(be.index,be),be=be.sibling;return pe}function y(be,pe){return be=Lo(be,pe),be.index=0,be.sibling=null,be}function w(be,pe,Ee){return be.index=Ee,i?(Ee=be.alternate,Ee!==null?(Ee=Ee.index,Ee<pe?(be.flags|=67108866,pe):Ee):(be.flags|=67108866,pe)):(be.flags|=1048576,pe)}function N(be){return i&&be.alternate===null&&(be.flags|=67108866),be}function F(be,pe,Ee,Fe){return pe===null||pe.tag!==6?(pe=Cl(Ee,be.mode,Fe),pe.return=be,pe):(pe=y(pe,Ee),pe.return=be,pe)}function le(be,pe,Ee,Fe){var yt=Ee.type;return yt===I?ke(be,pe,Ee.props.children,Fe,Ee.key):pe!==null&&(pe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===re&&_e(yt)===pe.type)?(pe=y(pe,Ee.props),Lt(pe,Ee),pe.return=be,pe):(pe=Ls(Ee.type,Ee.key,Ee.props,null,be.mode,Fe),Lt(pe,Ee),pe.return=be,pe)}function Te(be,pe,Ee,Fe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ee.containerInfo||pe.stateNode.implementation!==Ee.implementation?(pe=Rs(Ee,be.mode,Fe),pe.return=be,pe):(pe=y(pe,Ee.children||[]),pe.return=be,pe)}function ke(be,pe,Ee,Fe,yt){return pe===null||pe.tag!==7?(pe=ba(Ee,be.mode,Fe,yt),pe.return=be,pe):(pe=y(pe,Ee),pe.return=be,pe)}function Be(be,pe,Ee){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Cl(""+pe,be.mode,Ee),pe.return=be,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return Ee=Ls(pe.type,pe.key,pe.props,null,be.mode,Ee),Lt(Ee,pe),Ee.return=be,Ee;case C:return pe=Rs(pe,be.mode,Ee),pe.return=be,pe;case re:return pe=_e(pe),Be(be,pe,Ee)}if(Ae(pe)||Y(pe))return pe=ba(pe,be.mode,Ee,null),pe.return=be,pe;if(typeof pe.then=="function")return Be(be,Ze(pe),Ee);if(pe.$$typeof===q)return Be(be,hu(be,pe),Ee);et(be,pe)}return null}function Ce(be,pe,Ee,Fe){var yt=pe!==null?pe.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return yt!==null?null:F(be,pe,""+Ee,Fe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case S:return Ee.key===yt?le(be,pe,Ee,Fe):null;case C:return Ee.key===yt?Te(be,pe,Ee,Fe):null;case re:return Ee=_e(Ee),Ce(be,pe,Ee,Fe)}if(Ae(Ee)||Y(Ee))return yt!==null?null:ke(be,pe,Ee,Fe,null);if(typeof Ee.then=="function")return Ce(be,pe,Ze(Ee),Fe);if(Ee.$$typeof===q)return Ce(be,pe,hu(be,Ee),Fe);et(be,Ee)}return null}function Re(be,pe,Ee,Fe,yt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return be=be.get(Ee)||null,F(pe,be,""+Fe,yt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case S:return be=be.get(Fe.key===null?Ee:Fe.key)||null,le(pe,be,Fe,yt);case C:return be=be.get(Fe.key===null?Ee:Fe.key)||null,Te(pe,be,Fe,yt);case re:return Fe=_e(Fe),Re(be,pe,Ee,Fe,yt)}if(Ae(Fe)||Y(Fe))return be=be.get(Ee)||null,ke(pe,be,Fe,yt,null);if(typeof Fe.then=="function")return Re(be,pe,Ee,Ze(Fe),yt);if(Fe.$$typeof===q)return Re(be,pe,Ee,hu(pe,Fe),yt);et(pe,Fe)}return null}function nt(be,pe,Ee,Fe){for(var yt=null,dn=null,lt=pe,Gt=pe=0,en=null;lt!==null&&Gt<Ee.length;Gt++){lt.index>Gt?(en=lt,lt=null):en=lt.sibling;var hn=Ce(be,lt,Ee[Gt],Fe);if(hn===null){lt===null&&(lt=en);break}i&&lt&&hn.alternate===null&&r(be,lt),pe=w(hn,pe,Gt),dn===null?yt=hn:dn.sibling=hn,dn=hn,lt=en}if(Gt===Ee.length)return l(be,lt),Xt&&So(be,Gt),yt;if(lt===null){for(;Gt<Ee.length;Gt++)lt=Be(be,Ee[Gt],Fe),lt!==null&&(pe=w(lt,pe,Gt),dn===null?yt=lt:dn.sibling=lt,dn=lt);return Xt&&So(be,Gt),yt}for(lt=d(lt);Gt<Ee.length;Gt++)en=Re(lt,be,Gt,Ee[Gt],Fe),en!==null&&(i&&en.alternate!==null&&lt.delete(en.key===null?Gt:en.key),pe=w(en,pe,Gt),dn===null?yt=en:dn.sibling=en,dn=en);return i&&lt.forEach(function(Zs){return r(be,Zs)}),Xt&&So(be,Gt),yt}function Et(be,pe,Ee,Fe){if(Ee==null)throw Error(o(151));for(var yt=null,dn=null,lt=pe,Gt=pe=0,en=null,hn=Ee.next();lt!==null&&!hn.done;Gt++,hn=Ee.next()){lt.index>Gt?(en=lt,lt=null):en=lt.sibling;var Zs=Ce(be,lt,hn.value,Fe);if(Zs===null){lt===null&&(lt=en);break}i&&lt&&Zs.alternate===null&&r(be,lt),pe=w(Zs,pe,Gt),dn===null?yt=Zs:dn.sibling=Zs,dn=Zs,lt=en}if(hn.done)return l(be,lt),Xt&&So(be,Gt),yt;if(lt===null){for(;!hn.done;Gt++,hn=Ee.next())hn=Be(be,hn.value,Fe),hn!==null&&(pe=w(hn,pe,Gt),dn===null?yt=hn:dn.sibling=hn,dn=hn);return Xt&&So(be,Gt),yt}for(lt=d(lt);!hn.done;Gt++,hn=Ee.next())hn=Re(lt,be,Gt,hn.value,Fe),hn!==null&&(i&&hn.alternate!==null&&lt.delete(hn.key===null?Gt:hn.key),pe=w(hn,pe,Gt),dn===null?yt=hn:dn.sibling=hn,dn=hn);return i&&lt.forEach(function(sS){return r(be,sS)}),Xt&&So(be,Gt),yt}function Mn(be,pe,Ee,Fe){if(typeof Ee=="object"&&Ee!==null&&Ee.type===I&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case S:e:{for(var yt=Ee.key;pe!==null;){if(pe.key===yt){if(yt=Ee.type,yt===I){if(pe.tag===7){l(be,pe.sibling),Fe=y(pe,Ee.props.children),Fe.return=be,be=Fe;break e}}else if(pe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===re&&_e(yt)===pe.type){l(be,pe.sibling),Fe=y(pe,Ee.props),Lt(Fe,Ee),Fe.return=be,be=Fe;break e}l(be,pe);break}else r(be,pe);pe=pe.sibling}Ee.type===I?(Fe=ba(Ee.props.children,be.mode,Fe,Ee.key),Fe.return=be,be=Fe):(Fe=Ls(Ee.type,Ee.key,Ee.props,null,be.mode,Fe),Lt(Fe,Ee),Fe.return=be,be=Fe)}return N(be);case C:e:{for(yt=Ee.key;pe!==null;){if(pe.key===yt)if(pe.tag===4&&pe.stateNode.containerInfo===Ee.containerInfo&&pe.stateNode.implementation===Ee.implementation){l(be,pe.sibling),Fe=y(pe,Ee.children||[]),Fe.return=be,be=Fe;break e}else{l(be,pe);break}else r(be,pe);pe=pe.sibling}Fe=Rs(Ee,be.mode,Fe),Fe.return=be,be=Fe}return N(be);case re:return Ee=_e(Ee),Mn(be,pe,Ee,Fe)}if(Ae(Ee))return nt(be,pe,Ee,Fe);if(Y(Ee)){if(yt=Y(Ee),typeof yt!="function")throw Error(o(150));return Ee=yt.call(Ee),Et(be,pe,Ee,Fe)}if(typeof Ee.then=="function")return Mn(be,pe,Ze(Ee),Fe);if(Ee.$$typeof===q)return Mn(be,pe,hu(be,Ee),Fe);et(be,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,pe!==null&&pe.tag===6?(l(be,pe.sibling),Fe=y(pe,Ee),Fe.return=be,be=Fe):(l(be,pe),Fe=Cl(Ee,be.mode,Fe),Fe.return=be,be=Fe),N(be)):l(be,pe)}return function(be,pe,Ee,Fe){try{it=0;var yt=Mn(be,pe,Ee,Fe);return qe=null,yt}catch(lt){if(lt===he||lt===Z)throw lt;var dn=Bi(29,lt,null,be.mode);return dn.lanes=Fe,dn.return=be,dn}finally{}}}var kn=Wt(!0),Ut=Wt(!1),Qe=!1;function Je(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bn(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function At(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qt(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(vn&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=Fi(i),Tl(i,null,l),r}return El(i,d,r,l),Fi(i)}function gn(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,uo(i,l)}}function gi(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?y=w=N:w=w.next=N,l=l.next}while(l!==null);w===null?y=w=r:w=w.next=r}else y=w=r;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var ki=!1;function Cn(){if(ki){var i=b;if(i!==null)throw i}}function ai(i,r,l,d){ki=!1;var y=i.updateQueue;Qe=!1;var w=y.firstBaseUpdate,N=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var le=F,Te=le.next;le.next=null,N===null?w=Te:N.next=Te,N=le;var ke=i.alternate;ke!==null&&(ke=ke.updateQueue,F=ke.lastBaseUpdate,F!==N&&(F===null?ke.firstBaseUpdate=Te:F.next=Te,ke.lastBaseUpdate=le))}if(w!==null){var Be=y.baseState;N=0,ke=Te=le=null,F=w;do{var Ce=F.lane&-536870913,Re=Ce!==F.lane;if(Re?($t&Ce)===Ce:(d&Ce)===Ce){Ce!==0&&Ce===m&&(ki=!0),ke!==null&&(ke=ke.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var nt=i,Et=F;Ce=r;var Mn=l;switch(Et.tag){case 1:if(nt=Et.payload,typeof nt=="function"){Be=nt.call(Mn,Be,Ce);break e}Be=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Et.payload,Ce=typeof nt=="function"?nt.call(Mn,Be,Ce):nt,Ce==null)break e;Be=_({},Be,Ce);break e;case 2:Qe=!0}}Ce=F.callback,Ce!==null&&(i.flags|=64,Re&&(i.flags|=8192),Re=y.callbacks,Re===null?y.callbacks=[Ce]:Re.push(Ce))}else Re={lane:Ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ke===null?(Te=ke=Re,le=Be):ke=ke.next=Re,N|=Ce;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;Re=F,F=Re.next,Re.next=null,y.lastBaseUpdate=Re,y.shared.pending=null}}while(!0);ke===null&&(le=Be),y.baseState=le,y.firstBaseUpdate=Te,y.lastBaseUpdate=ke,w===null&&(y.shared.lanes=0),Hs|=N,i.lanes=N,i.memoizedState=Be}}function qi(i,r){if(typeof i!="function")throw Error(o(191,i));i.call(r)}function si(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)qi(l[i],r)}var Vt=J(null),an=J(0);function qn(i,r){i=ss,z(an,i),z(Vt,r),ss=i|r.baseLanes}function fn(){z(an,ss),z(Vt,Vt.current)}function mi(){ss=an.current,L(Vt),L(an)}var Hn=J(null),sn=null;function ni(i){var r=i.alternate;z(rn,rn.current&1),z(Hn,i),sn===null&&(r===null||Vt.current!==null||r.memoizedState!==null)&&(sn=i)}function mn(i){z(rn,rn.current),z(Hn,i),sn===null&&(sn=i)}function li(i){i.tag===22?(z(rn,rn.current),z(Hn,i),sn===null&&(sn=i)):ui()}function ui(){z(rn,rn.current),z(Hn,Hn.current)}function Sn(i){L(Hn),sn===i&&(sn=null),L(rn)}var rn=J(0);function Hi(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Dh(l)||Ph(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yn=0,pt=null,vt=null,ln=null,no=!1,Uo=!1,Zi=!1,ci=0,Ta=0,Na=null,gu=0;function Ln(){throw Error(o(321))}function cc(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Ci(i[l],r[l]))return!1;return!0}function fc(i,r,l,d,y,w){return Yn=w,pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ne.H=i===null||i.memoizedState===null?H0:Yd,Zi=!1,w=l(d,y),Zi=!1,Uo&&(w=$r(r,l,d,y)),mu(i),w}function mu(i){ne.H=bc;var r=vt!==null&&vt.next!==null;if(Yn=0,ln=vt=pt=null,no=!1,Ta=0,Na=null,r)throw Error(o(300));i===null||xi||(i=i.dependencies,i!==null&&du(i)&&(xi=!0))}function $r(i,r,l,d){pt=i;var y=0;do{if(Uo&&(Na=null),Ta=0,Uo=!1,25<=y)throw Error(o(301));if(y+=1,ln=vt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ne.H=z0,w=r(l,d)}while(Uo);return w}function Fd(){var i=ne.H,r=i.useState()[0];return r=typeof r.then=="function"?Ca(r):r,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&(pt.flags|=1024),r}function dc(){var i=ci!==0;return ci=0,i}function hc(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function vu(i){if(no){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}no=!1}Yn=0,ln=vt=pt=null,Uo=!1,Ta=ci=0,Na=null}function Ai(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?pt.memoizedState=ln=i:ln=ln.next=i,ln}function Jn(){if(vt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var r=ln===null?pt.memoizedState:ln.next;if(r!==null)ln=r,vt=i;else{if(i===null)throw pt.alternate===null?Error(o(467)):Error(o(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},ln===null?pt.memoizedState=ln=i:ln=ln.next=i}return ln}function Il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ca(i){var r=Ta;return Ta+=1,Na===null&&(Na=[]),i=Ie(Na,i,r),r=pt,(ln===null?r.memoizedState:ln.next)===null&&(r=r.alternate,ne.H=r===null||r.memoizedState===null?H0:Yd),i}function Ps(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ca(i);if(i.$$typeof===q)return Ii(i)}throw Error(o(438,String(i)))}function Qa(i){var r=null,l=pt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=pt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Il(),pt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=te;return r.index++,l}function xr(i,r){return typeof r=="function"?r(i):r}function yu(i){var r=Jn();return Us(r,vt,i)}function Us(i,r,l){var d=i.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=l;var y=i.baseQueue,w=d.pending;if(w!==null){if(y!==null){var N=y.next;y.next=w.next,w.next=N}r.baseQueue=y=w,d.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{r=y.next;var F=N=null,le=null,Te=r,ke=!1;do{var Be=Te.lane&-536870913;if(Be!==Te.lane?($t&Be)===Be:(Yn&Be)===Be){var Ce=Te.revertLane;if(Ce===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Be===m&&(ke=!0);else if((Yn&Ce)===Ce){Te=Te.next,Ce===m&&(ke=!0);continue}else Be={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},le===null?(F=le=Be,N=w):le=le.next=Be,pt.lanes|=Ce,Hs|=Ce;Be=Te.action,Zi&&l(w,Be),w=Te.hasEagerState?Te.eagerState:l(w,Be)}else Ce={lane:Be,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},le===null?(F=le=Ce,N=w):le=le.next=Ce,pt.lanes|=Be,Hs|=Be;Te=Te.next}while(Te!==null&&Te!==r);if(le===null?N=w:le.next=F,!Ci(w,i.memoizedState)&&(xi=!0,ke&&(l=b,l!==null)))throw l;i.memoizedState=w,i.baseState=N,i.baseQueue=le,d.lastRenderedState=w}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function bu(i){var r=Jn(),l=r.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var d=l.dispatch,y=l.pending,w=r.memoizedState;if(y!==null){l.pending=null;var N=y=y.next;do w=i(w,N.action),N=N.next;while(N!==y);Ci(w,r.memoizedState)||(xi=!0),r.memoizedState=w,r.baseQueue===null&&(r.baseState=w),l.lastRenderedState=w}return[w,d]}function Su(i,r,l){var d=pt,y=Jn(),w=Xt;if(w){if(l===void 0)throw Error(o(407));l=l()}else l=r();var N=!Ci((vt||y).memoizedState,l);if(N&&(y.memoizedState=l,xi=!0),y=y.queue,Bd(gc.bind(null,d,y,i),[i]),y.getSnapshot!==r||N||ln!==null&&ln.memoizedState.tag&1){if(d.flags|=2048,es(9,{destroy:void 0},pc.bind(null,d,y,l,r),null),Dn===null)throw Error(o(349));w||(Yn&127)!==0||ea(d,r,l)}return l}function ea(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=pt.updateQueue,r===null?(r=Il(),pt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function pc(i,r,l,d){r.value=l,r.getSnapshot=d,sf(r)&&mc(i)}function gc(i,r,l){return l(function(){sf(r)&&mc(i)})}function sf(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Ci(i,l)}catch{return!0}}function mc(i){var r=Zr(i,2);r!==null&&Ho(r,i,2)}function La(i){var r=Ai();if(typeof i=="function"){var l=i;if(i=l(),Zi){Nt(!0);try{l()}finally{Nt(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:i},r}function lf(i,r,l,d){return i.baseState=l,Us(i,vt,typeof d=="function"?d:xr)}function uf(i,r,l,d,y){if(hf(i))throw Error(o(485));if(i=r.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};ne.T!==null?l(!0):w.isTransition=!1,d(w),l=r.pending,l===null?(w.next=r.pending=w,cf(r,w)):(w.next=l.next,r.pending=l.next=w)}}function cf(i,r){var l=r.action,d=r.payload,y=i.state;if(r.isTransition){var w=ne.T,N={};ne.T=N;try{var F=l(y,d),le=ne.S;le!==null&&le(N,F),vc(i,r,F)}catch(Te){$a(i,r,Te)}finally{w!==null&&N.types!==null&&(w.types=N.types),ne.T=w}}else try{w=l(y,d),vc(i,r,w)}catch(Te){$a(i,r,Te)}}function vc(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){ff(i,r,d)},function(d){return $a(i,r,d)}):ff(i,r,l)}function ff(i,r,l){r.status="fulfilled",r.value=l,_u(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,cf(i,l)))}function $a(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,_u(r),r=r.next;while(r!==d)}i.action=null}function _u(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function kl(i,r){return r}function Er(i,r){if(Xt){var l=Dn.formState;if(l!==null){e:{var d=pt;if(Xt){if(In){t:{for(var y=In,w=Vn;y.nodeType!==8;){if(!w){y=null;break t}if(y=Tr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){In=Tr(y.nextSibling),d=y.data==="F!";break e}}_a(d)}d=!1}d&&(r=l[0])}}return l=Ai(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:r},l.queue=d,l=F0.bind(null,pt,d),d.dispatch=l,d=La(!1),w=Vd.bind(null,pt,!1,d.queue),d=Ai(),y={state:r,dispatch:null,action:i,pending:null},d.queue=y,l=uf.bind(null,pt,y,w,l),y.dispatch=l,d.memoizedState=i,[r,l,!1]}function ta(i){var r=Jn();return na(r,vt,i)}function na(i,r,l){if(r=Us(i,r,kl)[0],i=yu(xr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Ca(r)}catch(N){throw N===he?Z:N}else d=r;r=Jn();var y=r.queue,w=y.dispatch;return l!==r.memoizedState&&(pt.flags|=2048,es(9,{destroy:void 0},wu.bind(null,y,l),null)),[d,w,i]}function wu(i,r){i.action=r}function Au(i){var r=Jn(),l=vt;if(l!==null)return na(r,l,i);Jn(),r=r.memoizedState,l=Jn();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function es(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=pt.updateQueue,r===null&&(r=Il(),pt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function df(){return Jn().memoizedState}function Os(i,r,l,d){var y=Ai();pt.flags|=i,y.memoizedState=es(1|r,{destroy:void 0},l,d===void 0?null:d)}function Fs(i,r,l,d){var y=Jn();d=d===void 0?null:d;var w=y.memoizedState.inst;vt!==null&&d!==null&&cc(d,vt.memoizedState.deps)?y.memoizedState=es(r,w,l,d):(pt.flags|=i,y.memoizedState=es(1|r,w,l,d))}function x0(i,r){Os(8390656,8,i,r)}function Bd(i,r){Fs(2048,8,i,r)}function tb(i){pt.flags|=4;var r=pt.updateQueue;if(r===null)r=Il(),pt.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function E0(i){var r=Jn().memoizedState;return tb({ref:r,nextImpl:i}),function(){if((vn&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}function T0(i,r){return Fs(4,2,i,r)}function N0(i,r){return Fs(4,4,i,r)}function C0(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function L0(i,r,l){l=l!=null?l.concat([i]):null,Fs(4,4,C0.bind(null,r,i),l)}function qd(){}function R0(i,r){var l=Jn();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&cc(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function M0(i,r){var l=Jn();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&cc(r,d[1]))return d[0];if(d=i(),Zi){Nt(!0);try{i()}finally{Nt(!1)}}return l.memoizedState=[d,r],d}function Hd(i,r,l){return l===void 0||(Yn&1073741824)!==0&&($t&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=Ig(),pt.lanes|=i,Hs|=i,l)}function I0(i,r,l,d){return Ci(l,r)?l:Vt.current!==null?(i=Hd(i,l,d),Ci(i,r)||(xi=!0),i):(Yn&42)===0||(Yn&1073741824)!==0&&($t&261930)===0?(xi=!0,i.memoizedState=l):(i=Ig(),pt.lanes|=i,Hs|=i,r)}function k0(i,r,l,d,y){var w=ae.p;ae.p=w!==0&&8>w?w:8;var N=ne.T,F={};ne.T=F,Vd(i,!1,r,l);try{var le=y(),Te=ne.S;if(Te!==null&&Te(F,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var ke=D(le,d);yc(i,r,ke,ar(i))}else yc(i,r,d,ar(i))}catch(Be){yc(i,r,{then:function(){},status:"rejected",reason:Be},ar())}finally{ae.p=w,N!==null&&F.types!==null&&(N.types=F.types),ne.T=N}}function nb(){}function zd(i,r,l,d){if(i.tag!==5)throw Error(o(476));var y=D0(i).queue;k0(i,y,r,ue,l===null?nb:function(){return P0(i),l(d)})}function D0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:ue},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function P0(i){var r=D0(i);r.next===null&&(r=i.alternate.memoizedState),yc(i,r.next.queue,{},ar())}function Gd(){return Ii(Pc)}function U0(){return Jn().memoizedState}function O0(){return Jn().memoizedState}function ib(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ar();i=At(l);var d=qt(r,i,l);d!==null&&(Ho(d,r,l),gn(d,r,l)),r={cache:Ds()},i.payload=r;return}r=r.return}}function ob(i,r,l){var d=ar();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hf(i)?B0(r,l):(l=ou(i,r,l,d),l!==null&&(Ho(l,i,d),q0(l,r,d)))}function F0(i,r,l){var d=ar();yc(i,r,l,d)}function yc(i,r,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(hf(i))B0(r,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=r.lastRenderedReducer,w!==null))try{var N=r.lastRenderedState,F=w(N,l);if(y.hasEagerState=!0,y.eagerState=F,Ci(F,N))return El(i,r,y,0),Dn===null&&xl(),!1}catch{}finally{}if(l=ou(i,r,y,d),l!==null)return Ho(l,i,d),q0(l,r,d),!0}return!1}function Vd(i,r,l,d){if(d={lane:2,revertLane:wh(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},hf(i)){if(r)throw Error(o(479))}else r=ou(i,l,d,2),r!==null&&Ho(r,i,2)}function hf(i){var r=i.alternate;return i===pt||r!==null&&r===pt}function B0(i,r){Uo=no=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function q0(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,uo(i,l)}}var bc={readContext:Ii,use:Ps,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln};bc.useEffectEvent=Ln;var H0={readContext:Ii,use:Ps,useCallback:function(i,r){return Ai().memoizedState=[i,r===void 0?null:r],i},useContext:Ii,useEffect:x0,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Os(4194308,4,C0.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Os(4194308,4,i,r)},useInsertionEffect:function(i,r){Os(4,2,i,r)},useMemo:function(i,r){var l=Ai();r=r===void 0?null:r;var d=i();if(Zi){Nt(!0);try{i()}finally{Nt(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=Ai();if(l!==void 0){var y=l(r);if(Zi){Nt(!0);try{l(r)}finally{Nt(!1)}}}else y=r;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=ob.bind(null,pt,i),[d.memoizedState,i]},useRef:function(i){var r=Ai();return i={current:i},r.memoizedState=i},useState:function(i){i=La(i);var r=i.queue,l=F0.bind(null,pt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:qd,useDeferredValue:function(i,r){var l=Ai();return Hd(l,i,r)},useTransition:function(){var i=La(!1);return i=k0.bind(null,pt,i.queue,!0,!1),Ai().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=pt,y=Ai();if(Xt){if(l===void 0)throw Error(o(407));l=l()}else{if(l=r(),Dn===null)throw Error(o(349));($t&127)!==0||ea(d,r,l)}y.memoizedState=l;var w={value:l,getSnapshot:r};return y.queue=w,x0(gc.bind(null,d,w,i),[i]),d.flags|=2048,es(9,{destroy:void 0},pc.bind(null,d,w,l,r),null),l},useId:function(){var i=Ai(),r=Dn.identifierPrefix;if(Xt){var l=Do,d=ko;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=ci++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=gu++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Gd,useFormState:Er,useActionState:Er,useOptimistic:function(i){var r=Ai();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Vd.bind(null,pt,!0,l),l.dispatch=r,[i,r]},useMemoCache:Qa,useCacheRefresh:function(){return Ai().memoizedState=ib.bind(null,pt)},useEffectEvent:function(i){var r=Ai(),l={impl:i};return r.memoizedState=l,function(){if((vn&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Yd={readContext:Ii,use:Ps,useCallback:R0,useContext:Ii,useEffect:Bd,useImperativeHandle:L0,useInsertionEffect:T0,useLayoutEffect:N0,useMemo:M0,useReducer:yu,useRef:df,useState:function(){return yu(xr)},useDebugValue:qd,useDeferredValue:function(i,r){var l=Jn();return I0(l,vt.memoizedState,i,r)},useTransition:function(){var i=yu(xr)[0],r=Jn().memoizedState;return[typeof i=="boolean"?i:Ca(i),r]},useSyncExternalStore:Su,useId:U0,useHostTransitionStatus:Gd,useFormState:ta,useActionState:ta,useOptimistic:function(i,r){var l=Jn();return lf(l,vt,i,r)},useMemoCache:Qa,useCacheRefresh:O0};Yd.useEffectEvent=E0;var z0={readContext:Ii,use:Ps,useCallback:R0,useContext:Ii,useEffect:Bd,useImperativeHandle:L0,useInsertionEffect:T0,useLayoutEffect:N0,useMemo:M0,useReducer:bu,useRef:df,useState:function(){return bu(xr)},useDebugValue:qd,useDeferredValue:function(i,r){var l=Jn();return vt===null?Hd(l,i,r):I0(l,vt.memoizedState,i,r)},useTransition:function(){var i=bu(xr)[0],r=Jn().memoizedState;return[typeof i=="boolean"?i:Ca(i),r]},useSyncExternalStore:Su,useId:U0,useHostTransitionStatus:Gd,useFormState:Au,useActionState:Au,useOptimistic:function(i,r){var l=Jn();return vt!==null?lf(l,vt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qa,useCacheRefresh:O0};z0.useEffectEvent=E0;function Jd(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:_({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var jd={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=ar(),y=At(d);y.payload=r,l!=null&&(y.callback=l),r=qt(i,y,d),r!==null&&(Ho(r,i,d),gn(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=ar(),y=At(d);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=qt(i,y,d),r!==null&&(Ho(r,i,d),gn(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ar(),d=At(l);d.tag=2,r!=null&&(d.callback=r),r=qt(i,d,l),r!==null&&(Ho(r,i,l),gn(r,i,l))}};function G0(i,r,l,d,y,w,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,w,N):r.prototype&&r.prototype.isPureReactComponent?!jr(l,d)||!jr(y,w):!0}function V0(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&jd.enqueueReplaceState(r,r.state,null)}function Dl(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=_({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Y0(i){Al(i)}function J0(i){console.error(i)}function j0(i){Al(i)}function pf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function K0(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Kd(i,r,l){return l=At(l),l.tag=3,l.payload={element:null},l.callback=function(){pf(i,r)},l}function W0(i){return i=At(i),i.tag=3,i}function X0(i,r,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var w=d.value;i.payload=function(){return y(w)},i.callback=function(){K0(r,l,d)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){K0(r,l,d),typeof y!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function rb(i,r,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&xa(r,l,y,!0),l=Hn.current,l!==null){switch(l.tag){case 31:case 13:return sn===null?Tf():l.alternate===null&&fi===0&&(fi=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===ge?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),bh(i,d,y)),!1;case 22:return l.flags|=65536,d===ge?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),bh(i,d,y)),!1}throw Error(o(435,l.tag))}return bh(i,d,y),Tf(),!1}if(Xt)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==ir&&(i=Error(o(422),{cause:d}),Is(Ro(i,l)))):(d!==ir&&(r=Error(o(423),{cause:d}),Is(Ro(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=Ro(d,l),y=Kd(i.stateNode,d,y),gi(i,y),fi!==4&&(fi=2)),!1;var w=Error(o(520),{cause:d});if(w=Ro(w,l),Nc===null?Nc=[w]:Nc.push(w),fi!==4&&(fi=2),r===null)return!0;d=Ro(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Kd(l.stateNode,d,i),gi(l,i),!1;case 1:if(r=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zs===null||!zs.has(w))))return l.flags|=65536,y&=-y,l.lanes|=y,y=W0(y),X0(y,i,l,d),gi(l,y),!1}l=l.return}while(l!==null);return!1}var Wd=Error(o(461)),xi=!1;function Qi(i,r,l,d){r.child=i===null?Ut(r,null,l,d):kn(r,i.child,l,d)}function Z0(i,r,l,d,y){l=l.render;var w=r.ref;if("ref"in d){var N={};for(var F in d)F!=="ref"&&(N[F]=d[F])}else N=d;return Ea(r),d=fc(i,r,l,N,w,y),F=dc(),i!==null&&!xi?(hc(i,r,y),ts(i,r,y)):(Xt&&F&&sc(r),r.flags|=1,Qi(i,r,d,y),r.child)}function Q0(i,r,l,d,y){if(i===null){var w=l.type;return typeof w=="function"&&!au(w)&&w.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=w,$0(i,r,w,d,y)):(i=Ls(l.type,null,d,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(w=i.child,!ih(i,y)){var N=w.memoizedProps;if(l=l.compare,l=l!==null?l:jr,l(N,d)&&i.ref===r.ref)return ts(i,r,y)}return r.flags|=1,i=Lo(w,d),i.ref=r.ref,i.return=r,r.child=i}function $0(i,r,l,d,y){if(i!==null){var w=i.memoizedProps;if(jr(w,d)&&i.ref===r.ref)if(xi=!1,r.pendingProps=d=w,ih(i,y))(i.flags&131072)!==0&&(xi=!0);else return r.lanes=i.lanes,ts(i,r,y)}return Xd(i,r,l,d,y)}function eg(i,r,l,d){var y=d.children,w=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,i!==null){for(d=r.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~w}else d=0,r.child=null;return tg(i,r,w,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&V(r,w!==null?w.cachePool:null),w!==null?qn(r,w):fn(),li(r);else return d=r.lanes=536870912,tg(i,r,w!==null?w.baseLanes|l:l,l,d)}else w!==null?(V(r,w.cachePool),qn(r,w),ui(),r.memoizedState=null):(i!==null&&V(r,null),fn(),ui());return Qi(i,r,y,l),r.child}function Sc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function tg(i,r,l,d,y){var w=H();return w=w===null?null:{parent:ti._currentValue,pool:w},r.memoizedState={baseLanes:l,cachePool:w},i!==null&&V(r,null),fn(),li(r),i!==null&&xa(i,r,d,!0),r.childLanes=y,null}function gf(i,r){return r=vf({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ng(i,r,l){return kn(r,i.child,null,l),i=gf(r,r.pendingProps),i.flags|=2,Sn(r),r.memoizedState=null,i}function ab(i,r,l){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Xt){if(d.mode==="hidden")return i=gf(r,d),r.lanes=536870912,Sc(null,i);if(mn(r),(i=In)?(i=pm(i,Vn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Sa!==null?{id:ko,overflow:Do}:null,retryLane:536870912,hydrationErrors:null},l=su(i),l.return=r,r.child=l,Ri=r,In=null)):i=null,i===null)throw _a(r);return r.lanes=536870912,null}return gf(r,d)}var w=i.memoizedState;if(w!==null){var N=w.dehydrated;if(mn(r),y)if(r.flags&256)r.flags&=-257,r=ng(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(o(558));else if(xi||xa(i,r,l,!1),y=(l&i.childLanes)!==0,xi||y){if(d=Dn,d!==null&&(N=co(d,l),N!==0&&N!==w.retryLane))throw w.retryLane=N,Zr(i,N),Ho(d,i,N),Wd;Tf(),r=ng(i,r,l)}else i=w.treeContext,In=Tr(N.nextSibling),Ri=r,Xt=!0,Xi=null,Vn=!1,i!==null&&rf(r,i),r=gf(r,d),r.flags|=4096;return r}return i=Lo(i.child,{mode:d.mode,children:d.children}),i.ref=r.ref,r.child=i,i.return=r,i}function mf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Xd(i,r,l,d,y){return Ea(r),l=fc(i,r,l,d,void 0,y),d=dc(),i!==null&&!xi?(hc(i,r,y),ts(i,r,y)):(Xt&&d&&sc(r),r.flags|=1,Qi(i,r,l,y),r.child)}function ig(i,r,l,d,y,w){return Ea(r),r.updateQueue=null,l=$r(r,d,l,y),mu(i),d=dc(),i!==null&&!xi?(hc(i,r,w),ts(i,r,w)):(Xt&&d&&sc(r),r.flags|=1,Qi(i,r,l,w),r.child)}function og(i,r,l,d,y){if(Ea(r),r.stateNode===null){var w=Li,N=l.contextType;typeof N=="object"&&N!==null&&(w=Ii(N)),w=new l(d,w),r.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=jd,r.stateNode=w,w._reactInternals=r,w=r.stateNode,w.props=d,w.state=r.memoizedState,w.refs={},Je(r),N=l.contextType,w.context=typeof N=="object"&&N!==null?Ii(N):Li,w.state=r.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(Jd(r,l,N,d),w.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&jd.enqueueReplaceState(w,w.state,null),ai(r,d,w,y),Cn(),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){w=r.stateNode;var F=r.memoizedProps,le=Dl(l,F);w.props=le;var Te=w.context,ke=l.contextType;N=Li,typeof ke=="object"&&ke!==null&&(N=Ii(ke));var Be=l.getDerivedStateFromProps;ke=typeof Be=="function"||typeof w.getSnapshotBeforeUpdate=="function",F=r.pendingProps!==F,ke||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F||Te!==N)&&V0(r,w,d,N),Qe=!1;var Ce=r.memoizedState;w.state=Ce,ai(r,d,w,y),Cn(),Te=r.memoizedState,F||Ce!==Te||Qe?(typeof Be=="function"&&(Jd(r,l,Be,d),Te=r.memoizedState),(le=Qe||G0(r,l,le,d,Ce,Te,N))?(ke||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=Te),w.props=d,w.state=Te,w.context=N,d=le):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{w=r.stateNode,Bn(i,r),N=r.memoizedProps,ke=Dl(l,N),w.props=ke,Be=r.pendingProps,Ce=w.context,Te=l.contextType,le=Li,typeof Te=="object"&&Te!==null&&(le=Ii(Te)),F=l.getDerivedStateFromProps,(Te=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Be||Ce!==le)&&V0(r,w,d,le),Qe=!1,Ce=r.memoizedState,w.state=Ce,ai(r,d,w,y),Cn();var Re=r.memoizedState;N!==Be||Ce!==Re||Qe||i!==null&&i.dependencies!==null&&du(i.dependencies)?(typeof F=="function"&&(Jd(r,l,F,d),Re=r.memoizedState),(ke=Qe||G0(r,l,ke,d,Ce,Re,le)||i!==null&&i.dependencies!==null&&du(i.dependencies))?(Te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Re,le),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Re,le)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=Re),w.props=d,w.state=Re,w.context=le,d=ke):(typeof w.componentDidUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(r.flags|=1024),d=!1)}return w=d,mf(i,r),d=(r.flags&128)!==0,w||d?(w=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:w.render(),r.flags|=1,i!==null&&d?(r.child=kn(r,i.child,null,y),r.child=kn(r,null,l,y)):Qi(i,r,l,y),r.memoizedState=w.state,i=r.child):i=ts(i,r,y),i}function rg(i,r,l,d){return Xa(),r.flags|=256,Qi(i,r,l,d),r.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(i){return{baseLanes:i,cachePool:Q()}}function $d(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=rr),i}function ag(i,r,l){var d=r.pendingProps,y=!1,w=(r.flags&128)!==0,N;if((N=w)||(N=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),N&&(y=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,i===null){if(Xt){if(y?ni(r):ui(),(i=In)?(i=pm(i,Vn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Sa!==null?{id:ko,overflow:Do}:null,retryLane:536870912,hydrationErrors:null},l=su(i),l.return=r,r.child=l,Ri=r,In=null)):i=null,i===null)throw _a(r);return Ph(i)?r.lanes=32:r.lanes=536870912,null}var F=d.children;return d=d.fallback,y?(ui(),y=r.mode,F=vf({mode:"hidden",children:F},y),d=ba(d,y,l,null),F.return=r,d.return=r,F.sibling=d,r.child=F,d=r.child,d.memoizedState=Qd(l),d.childLanes=$d(i,N,l),r.memoizedState=Zd,Sc(null,d)):(ni(r),eh(r,F))}var le=i.memoizedState;if(le!==null&&(F=le.dehydrated,F!==null)){if(w)r.flags&256?(ni(r),r.flags&=-257,r=th(i,r,l)):r.memoizedState!==null?(ui(),r.child=i.child,r.flags|=128,r=null):(ui(),F=d.fallback,y=r.mode,d=vf({mode:"visible",children:d.children},y),F=ba(F,y,l,null),F.flags|=2,d.return=r,F.return=r,d.sibling=F,r.child=d,kn(r,i.child,null,l),d=r.child,d.memoizedState=Qd(l),d.childLanes=$d(i,N,l),r.memoizedState=Zd,r=Sc(null,d));else if(ni(r),Ph(F)){if(N=F.nextSibling&&F.nextSibling.dataset,N)var Te=N.dgst;N=Te,d=Error(o(419)),d.stack="",d.digest=N,Is({value:d,source:null,stack:null}),r=th(i,r,l)}else if(xi||xa(i,r,l,!1),N=(l&i.childLanes)!==0,xi||N){if(N=Dn,N!==null&&(d=co(N,l),d!==0&&d!==le.retryLane))throw le.retryLane=d,Zr(i,d),Ho(N,i,d),Wd;Dh(F)||Tf(),r=th(i,r,l)}else Dh(F)?(r.flags|=192,r.child=i.child,r=null):(i=le.treeContext,In=Tr(F.nextSibling),Ri=r,Xt=!0,Xi=null,Vn=!1,i!==null&&rf(r,i),r=eh(r,d.children),r.flags|=4096);return r}return y?(ui(),F=d.fallback,y=r.mode,le=i.child,Te=le.sibling,d=Lo(le,{mode:"hidden",children:d.children}),d.subtreeFlags=le.subtreeFlags&65011712,Te!==null?F=Lo(Te,F):(F=ba(F,y,l,null),F.flags|=2),F.return=r,d.return=r,d.sibling=F,r.child=d,Sc(null,d),d=r.child,F=i.child.memoizedState,F===null?F=Qd(l):(y=F.cachePool,y!==null?(le=ti._currentValue,y=y.parent!==le?{parent:le,pool:le}:y):y=Q(),F={baseLanes:F.baseLanes|l,cachePool:y}),d.memoizedState=F,d.childLanes=$d(i,N,l),r.memoizedState=Zd,Sc(i.child,d)):(ni(r),l=i.child,i=l.sibling,l=Lo(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(N=r.deletions,N===null?(r.deletions=[i],r.flags|=16):N.push(i)),r.child=l,r.memoizedState=null,l)}function eh(i,r){return r=vf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vf(i,r){return i=Bi(22,i,null,r),i.lanes=0,i}function th(i,r,l){return kn(r,i.child,null,l),i=eh(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function sg(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),ks(i.return,r,l)}function nh(i,r,l,d,y,w){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:w}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=l,N.tailMode=y,N.treeForkCount=w)}function lg(i,r,l){var d=r.pendingProps,y=d.revealOrder,w=d.tail;d=d.children;var N=rn.current,F=(N&2)!==0;if(F?(N=N&1|2,r.flags|=128):N&=1,z(rn,N),Qi(i,r,d,l),d=Xt?Ll:0,!F&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sg(i,l,r);else if(i.tag===19)sg(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&Hi(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),nh(r,!1,y,l,w,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&Hi(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}nh(r,!0,l,null,w,d);break;case"together":nh(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function ts(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Hs|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(xa(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(o(153));if(r.child!==null){for(i=r.child,l=Lo(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Lo(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function ih(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&du(i)))}function sb(i,r,l){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Aa(r,ti,i.memoizedState.cache),Xa();break;case 27:case 5:Ue(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Aa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mn(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(ni(r),r.flags|=128,null):(l&r.child.childLanes)!==0?ag(i,r,l):(ni(r),i=ts(i,r,l),i!==null?i.sibling:null);ni(r);break;case 19:var y=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(xa(i,r,l,!1),d=(l&r.childLanes)!==0),y){if(d)return lg(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(rn,rn.current),d)break;return null;case 22:return r.lanes=0,eg(i,r,l,r.pendingProps);case 24:Aa(r,ti,i.memoizedState.cache)}return ts(i,r,l)}function ug(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)xi=!0;else{if(!ih(i,l)&&(r.flags&128)===0)return xi=!1,sb(i,r,l);xi=(i.flags&131072)!==0}else xi=!1,Xt&&(r.flags&1048576)!==0&&of(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(i=_e(r.elementType),r.type=i,typeof i=="function")au(i)?(d=Dl(i,d),r.tag=1,r=og(null,r,i,d,l)):(r.tag=0,r=Xd(null,r,i,d,l));else{if(i!=null){var y=i.$$typeof;if(y===B){r.tag=11,r=Z0(null,r,i,d,l);break e}else if(y===de){r.tag=14,r=Q0(null,r,i,d,l);break e}}throw r=oe(i)||i,Error(o(306,r,""))}}return r;case 0:return Xd(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,y=Dl(d,r.pendingProps),og(i,r,d,y,l);case 3:e:{if(Le(r,r.stateNode.containerInfo),i===null)throw Error(o(387));d=r.pendingProps;var w=r.memoizedState;y=w.element,Bn(i,r),ai(r,d,null,l);var N=r.memoizedState;if(d=N.cache,Aa(r,ti,d),d!==w.cache&&Za(r,[ti],l,!0),Cn(),d=N.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=w,r.memoizedState=w,r.flags&256){r=rg(i,r,d,l);break e}else if(d!==y){y=Ro(Error(o(424)),r),Is(y),r=rg(i,r,d,l);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(In=Tr(i.firstChild),Ri=r,Xt=!0,Xi=null,Vn=!0,l=Ut(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xa(),d===y){r=ts(i,r,l);break e}Qi(i,r,d,l)}r=r.child}return r;case 26:return mf(i,r),i===null?(l=Sm(r.type,null,r.pendingProps,null))?r.memoizedState=l:Xt||(l=r.type,i=r.pendingProps,d=kf(ce.current).createElement(l),d[bn]=r,d[On]=i,$i(d,l,i),Zn(d),r.stateNode=d):r.memoizedState=Sm(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ue(r),i===null&&Xt&&(d=r.stateNode=vm(r.type,r.pendingProps,ce.current),Ri=r,Vn=!0,y=In,Js(r.type)?(Uh=y,In=Tr(d.firstChild)):In=y),Qi(i,r,r.pendingProps.children,l),mf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Xt&&((y=d=In)&&(d=Ob(d,r.type,r.pendingProps,Vn),d!==null?(r.stateNode=d,Ri=r,In=Tr(d.firstChild),Vn=!1,y=!0):y=!1),y||_a(r)),Ue(r),y=r.type,w=r.pendingProps,N=i!==null?i.memoizedProps:null,d=w.children,Mh(y,w)?d=null:N!==null&&Mh(y,N)&&(r.flags|=32),r.memoizedState!==null&&(y=fc(i,r,Fd,null,null,l),Pc._currentValue=y),mf(i,r),Qi(i,r,d,l),r.child;case 6:return i===null&&Xt&&((i=l=In)&&(l=Fb(l,r.pendingProps,Vn),l!==null?(r.stateNode=l,Ri=r,In=null,i=!0):i=!1),i||_a(r)),null;case 13:return ag(i,r,l);case 4:return Le(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=kn(r,null,d,l):Qi(i,r,d,l),r.child;case 11:return Z0(i,r,r.type,r.pendingProps,l);case 7:return Qi(i,r,r.pendingProps,l),r.child;case 8:return Qi(i,r,r.pendingProps.children,l),r.child;case 12:return Qi(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Aa(r,r.type,d.value),Qi(i,r,d.children,l),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,Ea(r),y=Ii(y),d=d(y),r.flags|=1,Qi(i,r,d,l),r.child;case 14:return Q0(i,r,r.type,r.pendingProps,l);case 15:return $0(i,r,r.type,r.pendingProps,l);case 19:return lg(i,r,l);case 31:return ab(i,r,l);case 22:return eg(i,r,l,r.pendingProps);case 24:return Ea(r),d=Ii(ti),i===null?(y=H(),y===null&&(y=Dn,w=Ds(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=l),y=w),r.memoizedState={parent:d,cache:y},Je(r),Aa(r,ti,y)):((i.lanes&l)!==0&&(Bn(i,r),ai(r,null,null,l),Cn()),y=i.memoizedState,w=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Aa(r,ti,d)):(d=w.cache,Aa(r,ti,d),d!==y.cache&&Za(r,[ti],l,!0))),Qi(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(o(156,r.tag))}function ns(i){i.flags|=4}function oh(i,r,l,d,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Ug())i.flags|=8192;else throw Me=ge,xe}else i.flags&=-16777217}function cg(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Em(r))if(Ug())i.flags|=8192;else throw Me=ge,xe}function yf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ur():536870912,i.lanes|=r,Nu|=r)}function _c(i,r){if(!Xt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function zn(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function lb(i,r,l){var d=r.pendingProps;switch(cu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(r),null;case 1:return zn(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Po(ti),Ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Mi(r)?ns(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,uc())),zn(r),null;case 26:var y=r.type,w=r.memoizedState;return i===null?(ns(r),w!==null?(zn(r),cg(r,w)):(zn(r),oh(r,y,null,d,l))):w?w!==i.memoizedState?(ns(r),zn(r),cg(r,w)):(zn(r),r.flags&=-16777217):(i=i.memoizedProps,i!==d&&ns(r),zn(r),oh(r,y,i,d,l)),null;case 27:if(Ve(r),l=ce.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ns(r);else{if(!d){if(r.stateNode===null)throw Error(o(166));return zn(r),null}i=K.current,Mi(r)?lc(r):(i=vm(y,d,l),r.stateNode=i,ns(r))}return zn(r),null;case 5:if(Ve(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ns(r);else{if(!d){if(r.stateNode===null)throw Error(o(166));return zn(r),null}if(w=K.current,Mi(r))lc(r);else{var N=kf(ce.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?N.createElement(y,{is:d.is}):N.createElement(y)}}w[bn]=r,w[On]=d;e:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break e;for(;N.sibling===null;){if(N.return===null||N.return===r)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=w;e:switch($i(w,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ns(r)}}return zn(r),oh(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&ns(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(o(166));if(i=ce.current,Mi(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,y=Ri,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[bn]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||am(i.nodeValue,l)),i||_a(r,!0)}else i=kf(i).createTextNode(d),i[bn]=r,r.stateNode=i}return zn(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(d=Mi(r),l!==null){if(i===null){if(!d)throw Error(o(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(557));i[bn]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;zn(r),i=!1}else l=uc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(o(558))}return zn(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Mi(r),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(o(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[bn]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;zn(r),y=!1}else y=uc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==y&&(d.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),yf(r,r.updateQueue),zn(r),null);case 4:return Ne(),i===null&&Th(r.stateNode.containerInfo),zn(r),null;case 10:return Po(r.type),zn(r),null;case 19:if(L(rn),d=r.memoizedState,d===null)return zn(r),null;if(y=(r.flags&128)!==0,w=d.rendering,w===null)if(y)_c(d,!1);else{if(fi!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(w=Hi(i),w!==null){for(r.flags|=128,_c(d,!1),i=w.updateQueue,r.updateQueue=i,yf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)Nl(l,i),l=l.sibling;return z(rn,rn.current&1|2),Xt&&So(r,d.treeForkCount),r.child}i=i.sibling}d.tail!==null&&Dt()>Af&&(r.flags|=128,y=!0,_c(d,!1),r.lanes=4194304)}else{if(!y)if(i=Hi(w),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,yf(r,i),_c(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!Xt)return zn(r),null}else 2*Dt()-d.renderingStartTime>Af&&l!==536870912&&(r.flags|=128,y=!0,_c(d,!1),r.lanes=4194304);d.isBackwards?(w.sibling=r.child,r.child=w):(i=d.last,i!==null?i.sibling=w:r.child=w,d.last=w)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Dt(),i.sibling=null,l=rn.current,z(rn,y?l&1|2:l&1),Xt&&So(r,d.treeForkCount),i):(zn(r),null);case 22:case 23:return Sn(r),mi(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(zn(r),r.subtreeFlags&6&&(r.flags|=8192)):zn(r),l=r.updateQueue,l!==null&&yf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&L(O),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Po(ti),zn(r),null;case 25:return null;case 30:return null}throw Error(o(156,r.tag))}function ub(i,r){switch(cu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Po(ti),Ne(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ve(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(o(340));Xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Sn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return L(rn),null;case 4:return Ne(),null;case 10:return Po(r.type),null;case 22:case 23:return Sn(r),mi(),i!==null&&L(O),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Po(ti),null;case 25:return null;default:return null}}function fg(i,r){switch(cu(r),r.tag){case 3:Po(ti),Ne();break;case 26:case 27:case 5:Ve(r);break;case 4:Ne();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:L(rn);break;case 10:Po(r.type);break;case 22:case 23:Sn(r),mi(),i!==null&&L(O);break;case 24:Po(ti)}}function wc(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&i)===i){d=void 0;var w=l.create,N=l.inst;d=w(),N.destroy=d}l=l.next}while(l!==y)}}catch(F){wn(r,r.return,F)}}function Bs(i,r,l){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var w=y.next;d=w;do{if((d.tag&i)===i){var N=d.inst,F=N.destroy;if(F!==void 0){N.destroy=void 0,y=r;var le=l,Te=F;try{Te()}catch(ke){wn(y,le,ke)}}}d=d.next}while(d!==w)}}catch(ke){wn(r,r.return,ke)}}function dg(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{si(r,l)}catch(d){wn(i,i.return,d)}}}function hg(i,r,l){l.props=Dl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){wn(i,r,d)}}function Ac(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(y){wn(i,r,y)}}function Ra(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){wn(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){wn(i,r,y)}else l.current=null}function pg(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){wn(i,i.return,y)}}function rh(i,r,l){try{var d=i.stateNode;Mb(d,i.type,l,r),d[On]=r}catch(y){wn(i,i.return,y)}}function gg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Js(i.type)||i.tag===4}function ah(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Js(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sh(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Zo));else if(d!==4&&(d===27&&Js(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(sh(i,r,l),i=i.sibling;i!==null;)sh(i,r,l),i=i.sibling}function bf(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&Js(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(bf(i,r,l),i=i.sibling;i!==null;)bf(i,r,l),i=i.sibling}function mg(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);$i(r,d,l),r[bn]=i,r[On]=l}catch(w){wn(i,i.return,w)}}var is=!1,Ei=!1,lh=!1,vg=typeof WeakSet=="function"?WeakSet:Set,zi=null;function cb(i,r){if(i=i.containerInfo,Lh=qf,i=Wr(i),_r(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var N=0,F=-1,le=-1,Te=0,ke=0,Be=i,Ce=null;t:for(;;){for(var Re;Be!==l||y!==0&&Be.nodeType!==3||(F=N+y),Be!==w||d!==0&&Be.nodeType!==3||(le=N+d),Be.nodeType===3&&(N+=Be.nodeValue.length),(Re=Be.firstChild)!==null;)Ce=Be,Be=Re;for(;;){if(Be===i)break t;if(Ce===l&&++Te===y&&(F=N),Ce===w&&++ke===d&&(le=N),(Re=Be.nextSibling)!==null)break;Be=Ce,Ce=Be.parentNode}Be=Re}l=F===-1||le===-1?null:{start:F,end:le}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rh={focusedElem:i,selectionRange:l},qf=!1,zi=r;zi!==null;)if(r=zi,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,zi=i;else for(;zi!==null;){switch(r=zi,w=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,l=r,y=w.memoizedProps,w=w.memoizedState,d=l.stateNode;try{var nt=Dl(l.type,y);i=d.getSnapshotBeforeUpdate(nt,w),d.__reactInternalSnapshotBeforeUpdate=i}catch(Et){wn(l,l.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)kh(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=r.sibling,i!==null){i.return=r.return,zi=i;break}zi=r.return}}function yg(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:rs(i,l),d&4&&wc(5,l);break;case 1:if(rs(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(N){wn(l,l.return,N)}else{var y=Dl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(N){wn(l,l.return,N)}}d&64&&dg(l),d&512&&Ac(l,l.return);break;case 3:if(rs(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{si(i,r)}catch(N){wn(l,l.return,N)}}break;case 27:r===null&&d&4&&mg(l);case 26:case 5:rs(i,l),r===null&&d&4&&pg(l),d&512&&Ac(l,l.return);break;case 12:rs(i,l);break;case 31:rs(i,l),d&4&&_g(i,l);break;case 13:rs(i,l),d&4&&wg(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=bb.bind(null,l),Bb(i,l))));break;case 22:if(d=l.memoizedState!==null||is,!d){r=r!==null&&r.memoizedState!==null||Ei,y=is;var w=Ei;is=d,(Ei=r)&&!w?as(i,l,(l.subtreeFlags&8772)!==0):rs(i,l),is=y,Ei=w}break;case 30:break;default:rs(i,l)}}function bg(i){var r=i.alternate;r!==null&&(i.alternate=null,bg(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ha(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jn=null,Oo=!1;function os(i,r,l){for(l=l.child;l!==null;)Sg(i,r,l),l=l.sibling}function Sg(i,r,l){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Yt,l)}catch{}switch(l.tag){case 26:Ei||Ra(l,r),os(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ei||Ra(l,r);var d=jn,y=Oo;Js(l.type)&&(jn=l.stateNode,Oo=!1),os(i,r,l),Ic(l.stateNode),jn=d,Oo=y;break;case 5:Ei||Ra(l,r);case 6:if(d=jn,y=Oo,jn=null,os(i,r,l),jn=d,Oo=y,jn!==null)if(Oo)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(l.stateNode)}catch(w){wn(l,r,w)}else try{jn.removeChild(l.stateNode)}catch(w){wn(l,r,w)}break;case 18:jn!==null&&(Oo?(i=jn,dm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Pu(i)):dm(jn,l.stateNode));break;case 4:d=jn,y=Oo,jn=l.stateNode.containerInfo,Oo=!0,os(i,r,l),jn=d,Oo=y;break;case 0:case 11:case 14:case 15:Bs(2,l,r),Ei||Bs(4,l,r),os(i,r,l);break;case 1:Ei||(Ra(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&hg(l,r,d)),os(i,r,l);break;case 21:os(i,r,l);break;case 22:Ei=(d=Ei)||l.memoizedState!==null,os(i,r,l),Ei=d;break;default:os(i,r,l)}}function _g(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Pu(i)}catch(l){wn(r,r.return,l)}}}function wg(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pu(i)}catch(l){wn(r,r.return,l)}}function fb(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new vg),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new vg),r;default:throw Error(o(435,i.tag))}}function Sf(i,r){var l=fb(i);r.forEach(function(d){if(!l.has(d)){l.add(d);var y=Sb.bind(null,i,d);d.then(y,y)}})}function Fo(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],w=i,N=r,F=N;e:for(;F!==null;){switch(F.tag){case 27:if(Js(F.type)){jn=F.stateNode,Oo=!1;break e}break;case 5:jn=F.stateNode,Oo=!1;break e;case 3:case 4:jn=F.stateNode.containerInfo,Oo=!0;break e}F=F.return}if(jn===null)throw Error(o(160));Sg(w,N,y),jn=null,Oo=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ag(r,i),r=r.sibling}var ia=null;function Ag(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fo(r,i),Bo(i),d&4&&(Bs(3,i,i.return),wc(3,i),Bs(5,i,i.return));break;case 1:Fo(r,i),Bo(i),d&512&&(Ei||l===null||Ra(l,l.return)),d&64&&is&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=ia;if(Fo(r,i),Bo(i),d&512&&(Ei||l===null||Ra(l,l.return)),d&4){var w=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Yo]||w[bn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(d),y.head.insertBefore(w,y.querySelector("head > title"))),$i(w,d,l),w[bn]=i,Zn(w),d=w;break e;case"link":var N=Am("link","href",y).get(d+(l.href||""));if(N){for(var F=0;F<N.length;F++)if(w=N[F],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(F,1);break t}}w=y.createElement(d),$i(w,d,l),y.head.appendChild(w);break;case"meta":if(N=Am("meta","content",y).get(d+(l.content||""))){for(F=0;F<N.length;F++)if(w=N[F],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(F,1);break t}}w=y.createElement(d),$i(w,d,l),y.head.appendChild(w);break;default:throw Error(o(468,d))}w[bn]=i,Zn(w),d=w}i.stateNode=d}else xm(y,i.type,i.stateNode);else i.stateNode=wm(y,d,i.memoizedProps);else w!==d?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,d===null?xm(y,i.type,i.stateNode):wm(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&rh(i,i.memoizedProps,l.memoizedProps)}break;case 27:Fo(r,i),Bo(i),d&512&&(Ei||l===null||Ra(l,l.return)),l!==null&&d&4&&rh(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Fo(r,i),Bo(i),d&512&&(Ei||l===null||Ra(l,l.return)),i.flags&32){y=i.stateNode;try{Xo(y,"")}catch(nt){wn(i,i.return,nt)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,rh(i,y,l!==null?l.memoizedProps:y)),d&1024&&(lh=!0);break;case 6:if(Fo(r,i),Bo(i),d&4){if(i.stateNode===null)throw Error(o(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(nt){wn(i,i.return,nt)}}break;case 3:if(Uf=null,y=ia,ia=Df(r.containerInfo),Fo(r,i),ia=y,Bo(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Pu(r.containerInfo)}catch(nt){wn(i,i.return,nt)}lh&&(lh=!1,xg(i));break;case 4:d=ia,ia=Df(i.stateNode.containerInfo),Fo(r,i),Bo(i),ia=d;break;case 12:Fo(r,i),Bo(i);break;case 31:Fo(r,i),Bo(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sf(i,d)));break;case 13:Fo(r,i),Bo(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wf=Dt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sf(i,d)));break;case 22:y=i.memoizedState!==null;var le=l!==null&&l.memoizedState!==null,Te=is,ke=Ei;if(is=Te||y,Ei=ke||le,Fo(r,i),Ei=ke,is=Te,Bo(i),d&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||le||is||Ei||Pl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){le=l=r;try{if(w=le.stateNode,y)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{F=le.stateNode;var Be=le.memoizedProps.style,Ce=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;F.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(nt){wn(le,le.return,nt)}}}else if(r.tag===6){if(l===null){le=r;try{le.stateNode.nodeValue=y?"":le.memoizedProps}catch(nt){wn(le,le.return,nt)}}}else if(r.tag===18){if(l===null){le=r;try{var Re=le.stateNode;y?hm(Re,!0):hm(le.stateNode,!1)}catch(nt){wn(le,le.return,nt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Sf(i,l))));break;case 19:Fo(r,i),Bo(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sf(i,d)));break;case 30:break;case 21:break;default:Fo(r,i),Bo(i)}}function Bo(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(gg(d)){l=d;break}d=d.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var y=l.stateNode,w=ah(i);bf(i,w,y);break;case 5:var N=l.stateNode;l.flags&32&&(Xo(N,""),l.flags&=-33);var F=ah(i);bf(i,F,N);break;case 3:case 4:var le=l.stateNode.containerInfo,Te=ah(i);sh(i,Te,le);break;default:throw Error(o(161))}}catch(ke){wn(i,i.return,ke)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function xg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;xg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function rs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)yg(i,r.alternate,r),r=r.sibling}function Pl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Bs(4,r,r.return),Pl(r);break;case 1:Ra(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&hg(r,r.return,l),Pl(r);break;case 27:Ic(r.stateNode);case 26:case 5:Ra(r,r.return),Pl(r);break;case 22:r.memoizedState===null&&Pl(r);break;case 30:Pl(r);break;default:Pl(r)}i=i.sibling}}function as(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=i,w=r,N=w.flags;switch(w.tag){case 0:case 11:case 15:as(y,w,l),wc(4,w);break;case 1:if(as(y,w,l),d=w,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Te){wn(d,d.return,Te)}if(d=w,y=d.updateQueue,y!==null){var F=d.stateNode;try{var le=y.shared.hiddenCallbacks;if(le!==null)for(y.shared.hiddenCallbacks=null,y=0;y<le.length;y++)qi(le[y],F)}catch(Te){wn(d,d.return,Te)}}l&&N&64&&dg(w),Ac(w,w.return);break;case 27:mg(w);case 26:case 5:as(y,w,l),l&&d===null&&N&4&&pg(w),Ac(w,w.return);break;case 12:as(y,w,l);break;case 31:as(y,w,l),l&&N&4&&_g(y,w);break;case 13:as(y,w,l),l&&N&4&&wg(y,w);break;case 22:w.memoizedState===null&&as(y,w,l),Ac(w,w.return);break;case 30:break;default:as(y,w,l)}r=r.sibling}}function uh(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Rl(l))}function ch(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Rl(i))}function oa(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Eg(i,r,l,d),r=r.sibling}function Eg(i,r,l,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:oa(i,r,l,d),y&2048&&wc(9,r);break;case 1:oa(i,r,l,d);break;case 3:oa(i,r,l,d),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Rl(i)));break;case 12:if(y&2048){oa(i,r,l,d),i=r.stateNode;try{var w=r.memoizedProps,N=w.id,F=w.onPostCommit;typeof F=="function"&&F(N,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(le){wn(r,r.return,le)}}else oa(i,r,l,d);break;case 31:oa(i,r,l,d);break;case 13:oa(i,r,l,d);break;case 23:break;case 22:w=r.stateNode,N=r.alternate,r.memoizedState!==null?w._visibility&2?oa(i,r,l,d):xc(i,r):w._visibility&2?oa(i,r,l,d):(w._visibility|=2,xu(i,r,l,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&uh(N,r);break;case 24:oa(i,r,l,d),y&2048&&ch(r.alternate,r);break;default:oa(i,r,l,d)}}function xu(i,r,l,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var w=i,N=r,F=l,le=d,Te=N.flags;switch(N.tag){case 0:case 11:case 15:xu(w,N,F,le,y),wc(8,N);break;case 23:break;case 22:var ke=N.stateNode;N.memoizedState!==null?ke._visibility&2?xu(w,N,F,le,y):xc(w,N):(ke._visibility|=2,xu(w,N,F,le,y)),y&&Te&2048&&uh(N.alternate,N);break;case 24:xu(w,N,F,le,y),y&&Te&2048&&ch(N.alternate,N);break;default:xu(w,N,F,le,y)}r=r.sibling}}function xc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,y=d.flags;switch(d.tag){case 22:xc(l,d),y&2048&&uh(d.alternate,d);break;case 24:xc(l,d),y&2048&&ch(d.alternate,d);break;default:xc(l,d)}r=r.sibling}}var Ec=8192;function Eu(i,r,l){if(i.subtreeFlags&Ec)for(i=i.child;i!==null;)Tg(i,r,l),i=i.sibling}function Tg(i,r,l){switch(i.tag){case 26:Eu(i,r,l),i.flags&Ec&&i.memoizedState!==null&&Zb(l,ia,i.memoizedState,i.memoizedProps);break;case 5:Eu(i,r,l);break;case 3:case 4:var d=ia;ia=Df(i.stateNode.containerInfo),Eu(i,r,l),ia=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Ec,Ec=16777216,Eu(i,r,l),Ec=d):Eu(i,r,l));break;default:Eu(i,r,l)}}function Ng(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Tc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];zi=d,Lg(d,i)}Ng(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cg(i),i=i.sibling}function Cg(i){switch(i.tag){case 0:case 11:case 15:Tc(i),i.flags&2048&&Bs(9,i,i.return);break;case 3:Tc(i);break;case 12:Tc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,_f(i)):Tc(i);break;default:Tc(i)}}function _f(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];zi=d,Lg(d,i)}Ng(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Bs(8,r,r.return),_f(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,_f(r));break;default:_f(r)}i=i.sibling}}function Lg(i,r){for(;zi!==null;){var l=zi;switch(l.tag){case 0:case 11:case 15:Bs(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Rl(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,zi=d;else e:for(l=i;zi!==null;){d=zi;var y=d.sibling,w=d.return;if(bg(d),d===l){zi=null;break e}if(y!==null){y.return=w,zi=y;break e}zi=w}}}var db={getCacheForType:function(i){var r=Ii(ti),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Ii(ti).controller.signal}},hb=typeof WeakMap=="function"?WeakMap:Map,vn=0,Dn=null,Zt=null,$t=0,_n=0,or=null,qs=!1,Tu=!1,fh=!1,ss=0,fi=0,Hs=0,Ul=0,dh=0,rr=0,Nu=0,Nc=null,qo=null,hh=!1,wf=0,Rg=0,Af=1/0,xf=null,zs=null,Di=0,Gs=null,Cu=null,ls=0,ph=0,gh=null,Mg=null,Cc=0,mh=null;function ar(){return(vn&2)!==0&&$t!==0?$t&-$t:ne.T!==null?wh():Si()}function Ig(){if(rr===0)if(($t&536870912)===0||Xt){var i=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),rr=i}else rr=536870912;return i=Hn.current,i!==null&&(i.flags|=32),rr}function Ho(i,r,l){(i===Dn&&(_n===2||_n===9)||i.cancelPendingCommit!==null)&&(Lu(i,0),Vs(i,$t,rr,!1)),ht(i,l),((vn&2)===0||i!==Dn)&&(i===Dn&&((vn&2)===0&&(Ul|=l),fi===4&&Vs(i,$t,rr,!1)),Ma(i))}function kg(i,r,l){if((vn&6)!==0)throw Error(o(327));var d=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Go(i,r),y=d?mb(i,r):yh(i,r,!0),w=d;do{if(y===0){Tu&&!d&&Vs(i,r,0,!1);break}else{if(l=i.current.alternate,w&&!pb(l)){y=yh(i,r,!1),w=!1;continue}if(y===2){if(w=r,i.errorRecoveryDisabledLanes&w)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var F=i;y=Nc;var le=F.current.memoizedState.isDehydrated;if(le&&(Lu(F,N).flags|=256),N=yh(F,N,!1),N!==2){if(fh&&!le){F.errorRecoveryDisabledLanes|=w,Ul|=w,y=4;break e}w=qo,qo=y,w!==null&&(qo===null?qo=w:qo.push.apply(qo,w))}y=N}if(w=!1,y!==2)continue}}if(y===1){Lu(i,0),Vs(i,r,0,!0);break}e:{switch(d=i,w=y,w){case 0:case 1:throw Error(o(345));case 4:if((r&4194048)!==r)break;case 6:Vs(d,r,rr,!qs);break e;case 2:qo=null;break;case 3:case 5:break;default:throw Error(o(329))}if((r&62914560)===r&&(y=wf+300-Dt(),10<y)){if(Vs(d,r,rr,!qs),tn(d,0,!0)!==0)break e;ls=r,d.timeoutHandle=cm(Dg.bind(null,d,l,qo,xf,hh,r,rr,Ul,Nu,qs,w,"Throttled",-0,0),y);break e}Dg(d,l,qo,xf,hh,r,rr,Ul,Nu,qs,w,null,-0,0)}}break}while(!0);Ma(i)}function Dg(i,r,l,d,y,w,N,F,le,Te,ke,Be,Ce,Re){if(i.timeoutHandle=-1,Be=r.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zo},Tg(r,w,Be);var nt=(w&62914560)===w?wf-Dt():(w&4194048)===w?Rg-Dt():0;if(nt=Qb(Be,nt),nt!==null){ls=w,i.cancelPendingCommit=nt(zg.bind(null,i,r,w,l,d,y,N,F,le,ke,Be,null,Ce,Re)),Vs(i,w,N,!Te);return}}zg(i,r,w,l,d,y,N,F,le)}function pb(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],w=y.getSnapshot;y=y.value;try{if(!Ci(w(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vs(i,r,l,d){r&=~dh,r&=~Ul,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var y=r;0<y;){var w=31-Kt(y),N=1<<w;d[w]=-1,y&=~N}l!==0&&cr(i,l,r)}function Ef(){return(vn&6)===0?(Lc(0),!1):!0}function vh(){if(Zt!==null){if(_n===0)var i=Zt.return;else i=Zt,Ar=wa=null,vu(i),qe=null,it=0,i=Zt;for(;i!==null;)fg(i.alternate,i),i=i.return;Zt=null}}function Lu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Db(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ls=0,vh(),Dn=i,Zt=l=Lo(i.current,null),$t=r,_n=0,or=null,qs=!1,Tu=Go(i,r),fh=!1,Nu=rr=dh=Ul=Hs=fi=0,qo=Nc=null,hh=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var y=31-Kt(d),w=1<<y;r|=i[y],d&=~w}return ss=r,xl(),l}function Pg(i,r){pt=null,ne.H=bc,r===he||r===Z?(r=Pe(),_n=3):r===xe?(r=Pe(),_n=4):_n=r===Wd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,or=r,Zt===null&&(fi=1,pf(i,Ro(r,i.current)))}function Ug(){var i=Hn.current;return i===null?!0:($t&4194048)===$t?sn===null:($t&62914560)===$t||($t&536870912)!==0?i===sn:!1}function Og(){var i=ne.H;return ne.H=bc,i===null?bc:i}function Fg(){var i=ne.A;return ne.A=db,i}function Tf(){fi=4,qs||($t&4194048)!==$t&&Hn.current!==null||(Tu=!0),(Hs&134217727)===0&&(Ul&134217727)===0||Dn===null||Vs(Dn,$t,rr,!1)}function yh(i,r,l){var d=vn;vn|=2;var y=Og(),w=Fg();(Dn!==i||$t!==r)&&(xf=null,Lu(i,r)),r=!1;var N=fi;e:do try{if(_n!==0&&Zt!==null){var F=Zt,le=or;switch(_n){case 8:vh(),N=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var Te=_n;if(_n=0,or=null,Ru(i,F,le,Te),l&&Tu){N=0;break e}break;default:Te=_n,_n=0,or=null,Ru(i,F,le,Te)}}gb(),N=fi;break}catch(ke){Pg(i,ke)}while(!0);return r&&i.shellSuspendCounter++,Ar=wa=null,vn=d,ne.H=y,ne.A=w,Zt===null&&(Dn=null,$t=0,xl()),N}function gb(){for(;Zt!==null;)Bg(Zt)}function mb(i,r){var l=vn;vn|=2;var d=Og(),y=Fg();Dn!==i||$t!==r?(xf=null,Af=Dt()+500,Lu(i,r)):Tu=Go(i,r);e:do try{if(_n!==0&&Zt!==null){r=Zt;var w=or;t:switch(_n){case 1:_n=0,or=null,Ru(i,r,w,1);break;case 2:case 9:if(Se(w)){_n=0,or=null,qg(r);break}r=function(){_n!==2&&_n!==9||Dn!==i||(_n=7),Ma(i)},w.then(r,r);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:Se(w)?(_n=0,or=null,qg(r)):(_n=0,or=null,Ru(i,r,w,7));break;case 5:var N=null;switch(Zt.tag){case 26:N=Zt.memoizedState;case 5:case 27:var F=Zt;if(N?Em(N):F.stateNode.complete){_n=0,or=null;var le=F.sibling;if(le!==null)Zt=le;else{var Te=F.return;Te!==null?(Zt=Te,Nf(Te)):Zt=null}break t}}_n=0,or=null,Ru(i,r,w,5);break;case 6:_n=0,or=null,Ru(i,r,w,6);break;case 8:vh(),fi=6;break e;default:throw Error(o(462))}}vb();break}catch(ke){Pg(i,ke)}while(!0);return Ar=wa=null,ne.H=d,ne.A=y,vn=l,Zt!==null?0:(Dn=null,$t=0,xl(),fi)}function vb(){for(;Zt!==null&&!St();)Bg(Zt)}function Bg(i){var r=ug(i.alternate,i,ss);i.memoizedProps=i.pendingProps,r===null?Nf(i):Zt=r}function qg(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=ig(l,r,r.pendingProps,r.type,void 0,$t);break;case 11:r=ig(l,r,r.pendingProps,r.type.render,r.ref,$t);break;case 5:vu(r);default:fg(l,r),r=Zt=Nl(r,ss),r=ug(l,r,ss)}i.memoizedProps=i.pendingProps,r===null?Nf(i):Zt=r}function Ru(i,r,l,d){Ar=wa=null,vu(r),qe=null,it=0;var y=r.return;try{if(rb(i,y,r,l,$t)){fi=1,pf(i,Ro(l,i.current)),Zt=null;return}}catch(w){if(y!==null)throw Zt=y,w;fi=1,pf(i,Ro(l,i.current)),Zt=null;return}r.flags&32768?(Xt||d===1?i=!0:Tu||($t&536870912)!==0?i=!1:(qs=i=!0,(d===2||d===9||d===3||d===6)&&(d=Hn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Hg(r,i)):Nf(r)}function Nf(i){var r=i;do{if((r.flags&32768)!==0){Hg(r,qs);return}i=r.return;var l=lb(r.alternate,r,ss);if(l!==null){Zt=l;return}if(r=r.sibling,r!==null){Zt=r;return}Zt=r=i}while(r!==null);fi===0&&(fi=5)}function Hg(i,r){do{var l=ub(i.alternate,i);if(l!==null){l.flags&=32767,Zt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Zt=i;return}Zt=i=l}while(i!==null);fi=6,Zt=null}function zg(i,r,l,d,y,w,N,F,le){i.cancelPendingCommit=null;do Cf();while(Di!==0);if((vn&6)!==0)throw Error(o(327));if(r!==null){if(r===i.current)throw Error(o(177));if(w=r.lanes|r.childLanes,w|=iu,Mr(i,l,w,N,F,le),i===Dn&&(Zt=Dn=null,$t=0),Cu=r,Gs=i,ls=l,ph=w,gh=y,Mg=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_b(zt,function(){return jg(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=ne.T,ne.T=null,y=ae.p,ae.p=2,N=vn,vn|=4;try{cb(i,r,l)}finally{vn=N,ae.p=y,ne.T=d}}Di=1,Gg(),Vg(),Yg()}}function Gg(){if(Di===1){Di=0;var i=Gs,r=Cu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var d=ae.p;ae.p=2;var y=vn;vn|=4;try{Ag(r,i);var w=Rh,N=Wr(i.containerInfo),F=w.focusedElem,le=w.selectionRange;if(N!==F&&F&&F.ownerDocument&&Kr(F.ownerDocument.documentElement,F)){if(le!==null&&_r(F)){var Te=le.start,ke=le.end;if(ke===void 0&&(ke=Te),"selectionStart"in F)F.selectionStart=Te,F.selectionEnd=Math.min(ke,F.value.length);else{var Be=F.ownerDocument||document,Ce=Be&&Be.defaultView||window;if(Ce.getSelection){var Re=Ce.getSelection(),nt=F.textContent.length,Et=Math.min(le.start,nt),Mn=le.end===void 0?Et:Math.min(le.end,nt);!Re.extend&&Et>Mn&&(N=Mn,Mn=Et,Et=N);var be=Cs(F,Et),pe=Cs(F,Mn);if(be&&pe&&(Re.rangeCount!==1||Re.anchorNode!==be.node||Re.anchorOffset!==be.offset||Re.focusNode!==pe.node||Re.focusOffset!==pe.offset)){var Ee=Be.createRange();Ee.setStart(be.node,be.offset),Re.removeAllRanges(),Et>Mn?(Re.addRange(Ee),Re.extend(pe.node,pe.offset)):(Ee.setEnd(pe.node,pe.offset),Re.addRange(Ee))}}}}for(Be=[],Re=F;Re=Re.parentNode;)Re.nodeType===1&&Be.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Be.length;F++){var Fe=Be[F];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}qf=!!Lh,Rh=Lh=null}finally{vn=y,ae.p=d,ne.T=l}}i.current=r,Di=2}}function Vg(){if(Di===2){Di=0;var i=Gs,r=Cu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var d=ae.p;ae.p=2;var y=vn;vn|=4;try{yg(i,r.alternate,r)}finally{vn=y,ae.p=d,ne.T=l}}Di=3}}function Yg(){if(Di===4||Di===3){Di=0,dt();var i=Gs,r=Cu,l=ls,d=Mg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Di=5:(Di=0,Cu=Gs=null,Jg(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(zs=null),ii(l),r=r.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Yt,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=ne.T,y=ae.p,ae.p=2,ne.T=null;try{for(var w=i.onRecoverableError,N=0;N<d.length;N++){var F=d[N];w(F.value,{componentStack:F.stack})}}finally{ne.T=r,ae.p=y}}(ls&3)!==0&&Cf(),Ma(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===mh?Cc++:(Cc=0,mh=i):Cc=0,Lc(0)}}function Jg(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Rl(r)))}function Cf(){return Gg(),Vg(),Yg(),jg()}function jg(){if(Di!==5)return!1;var i=Gs,r=ph;ph=0;var l=ii(ls),d=ne.T,y=ae.p;try{ae.p=32>l?32:l,ne.T=null,l=gh,gh=null;var w=Gs,N=ls;if(Di=0,Cu=Gs=null,ls=0,(vn&6)!==0)throw Error(o(331));var F=vn;if(vn|=4,Cg(w.current),Eg(w,w.current,N,l),vn=F,Lc(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Yt,w)}catch{}return!0}finally{ae.p=y,ne.T=d,Jg(i,r)}}function Kg(i,r,l){r=Ro(l,r),r=Kd(i.stateNode,r,2),i=qt(i,r,2),i!==null&&(ht(i,2),Ma(i))}function wn(i,r,l){if(i.tag===3)Kg(i,i,l);else for(;r!==null;){if(r.tag===3){Kg(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))){i=Ro(l,i),l=W0(2),d=qt(r,l,2),d!==null&&(X0(l,d,r,i),ht(d,2),Ma(d));break}}r=r.return}}function bh(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new hb;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(l)||(fh=!0,y.add(l),i=yb.bind(null,i,r,l),r.then(i,i))}function yb(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Dn===i&&($t&l)===l&&(fi===4||fi===3&&($t&62914560)===$t&&300>Dt()-wf?(vn&2)===0&&Lu(i,0):dh|=l,Nu===$t&&(Nu=0)),Ma(i)}function Wg(i,r){r===0&&(r=ur()),i=Zr(i,r),i!==null&&(ht(i,r),Ma(i))}function bb(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Wg(i,l)}function Sb(i,r){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(o(314))}d!==null&&d.delete(r),Wg(i,l)}function _b(i,r){return gt(i,r)}var Lf=null,Mu=null,Sh=!1,Rf=!1,_h=!1,Ys=0;function Ma(i){i!==Mu&&i.next===null&&(Mu===null?Lf=Mu=i:Mu=Mu.next=i),Rf=!0,Sh||(Sh=!0,Ab())}function Lc(i,r){if(!_h&&Rf){_h=!0;do for(var l=!1,d=Lf;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var w=0;else{var N=d.suspendedLanes,F=d.pingedLanes;w=(1<<31-Kt(42|i)+1)-1,w&=y&~(N&~F),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,$g(d,w))}else w=$t,w=tn(d,d===Dn?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Go(d,w)||(l=!0,$g(d,w));d=d.next}while(l);_h=!1}}function wb(){Xg()}function Xg(){Rf=Sh=!1;var i=0;Ys!==0&&kb()&&(i=Ys);for(var r=Dt(),l=null,d=Lf;d!==null;){var y=d.next,w=Zg(d,r);w===0?(d.next=null,l===null?Lf=y:l.next=y,y===null&&(Mu=l)):(l=d,(i!==0||(w&3)!==0)&&(Rf=!0)),d=y}Di!==0&&Di!==5||Lc(i),Ys!==0&&(Ys=0)}function Zg(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var N=31-Kt(w),F=1<<N,le=y[N];le===-1?((F&l)===0||(F&d)!==0)&&(y[N]=Pi(F,r)):le<=r&&(i.expiredLanes|=F),w&=~F}if(r=Dn,l=$t,l=tn(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(_n===2||_n===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&$e(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Go(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&$e(d),ii(l)){case 2:case 8:l=jt;break;case 32:l=zt;break;case 268435456:l=It;break;default:l=zt}return d=Qg.bind(null,i),l=gt(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&$e(d),i.callbackPriority=2,i.callbackNode=null,2}function Qg(i,r){if(Di!==0&&Di!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Cf()&&i.callbackNode!==l)return null;var d=$t;return d=tn(i,i===Dn?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(kg(i,d,r),Zg(i,Dt()),i.callbackNode!=null&&i.callbackNode===l?Qg.bind(null,i):null)}function $g(i,r){if(Cf())return null;kg(i,r,!0)}function Ab(){Pb(function(){(vn&6)!==0?gt(Mt,wb):Xg()})}function wh(){if(Ys===0){var i=m;i===0&&(i=Ct,Ct<<=1,(Ct&261888)===0&&(Ct=256)),Ys=i}return Ys}function em(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eo(""+i)}function tm(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function xb(i,r,l,d,y){if(r==="submit"&&l&&l.stateNode===y){var w=em((y[On]||null).action),N=d.submitter;N&&(r=(r=N[On]||null)?em(r.formAction):N.getAttribute("formAction"),r!==null&&(w=r,N=null));var F=new To("action","action",null,d,y);i.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var le=N?tm(y,N):new FormData(y);zd(l,{pending:!0,data:le,method:y.method,action:w},null,le)}}else typeof w=="function"&&(F.preventDefault(),le=N?tm(y,N):new FormData(y),zd(l,{pending:!0,data:le,method:y.method,action:w},w,le))},currentTarget:y}]})}}for(var Ah=0;Ah<ja.length;Ah++){var xh=ja[Ah],Eb=xh.toLowerCase(),Tb=xh[0].toUpperCase()+xh.slice(1);Co(Eb,"on"+Tb)}Co(Ja,"onAnimationEnd"),Co(wl,"onAnimationIteration"),Co(oc,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(ef,"onTransitionRun"),Co(tf,"onTransitionStart"),Co(nf,"onTransitionCancel"),Co(rc,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function nm(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],y=d.event;d=d.listeners;e:{var w=void 0;if(r)for(var N=d.length-1;0<=N;N--){var F=d[N],le=F.instance,Te=F.currentTarget;if(F=F.listener,le!==w&&y.isPropagationStopped())break e;w=F,y.currentTarget=Te;try{w(y)}catch(ke){Al(ke)}y.currentTarget=null,w=le}else for(N=0;N<d.length;N++){if(F=d[N],le=F.instance,Te=F.currentTarget,F=F.listener,le!==w&&y.isPropagationStopped())break e;w=F,y.currentTarget=Te;try{w(y)}catch(ke){Al(ke)}y.currentTarget=null,w=le}}}}function Qt(i,r){var l=r[fo];l===void 0&&(l=r[fo]=new Set);var d=i+"__bubble";l.has(d)||(im(r,i,2,!1),l.add(d))}function Eh(i,r,l){var d=0;r&&(d|=4),im(l,i,d,r)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Th(i){if(!i[Mf]){i[Mf]=!0,rl.forEach(function(l){l!=="selectionchange"&&(Nb.has(l)||Eh(l,!1,i),Eh(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Mf]||(r[Mf]=!0,Eh("selectionchange",!1,r))}}function im(i,r,l,d){switch(Im(r)){case 2:var y=tS;break;case 8:y=nS;break;default:y=Hh}l=y.bind(null,r,l,i),y=void 0,!vl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function Nh(i,r,l,d,y){var w=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var F=d.stateNode.containerInfo;if(F===y)break;if(N===4)for(N=d.return;N!==null;){var le=N.tag;if((le===3||le===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;F!==null;){if(N=Jo(F),N===null)return;if(le=N.tag,le===5||le===6||le===26||le===27){d=w=N;continue e}F=F.parentNode}}d=d.return}Ql(function(){var Te=w,ke=Ba(l),Be=[];e:{var Ce=ac.get(i);if(Ce!==void 0){var Re=To,nt=i;switch(i){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":Re=nn;break;case"focusin":nt="focus",Re=qr;break;case"focusout":nt="blur",Re=qr;break;case"beforeblur":case"afterblur":Re=qr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=pi;break;case Ja:case wl:case oc:Re=x;break;case rc:Re=Ni;break;case"scroll":case"scrollend":Re=_s;break;case"wheel":Re=Qo;break;case"copy":case"cut":case"paste":Re=ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Qn;break;case"toggle":case"beforetoggle":Re=bl}var Et=(r&4)!==0,Mn=!Et&&(i==="scroll"||i==="scrollend"),be=Et?Ce!==null?Ce+"Capture":null:Ce;Et=[];for(var pe=Te,Ee;pe!==null;){var Fe=pe;if(Ee=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Ee===null||be===null||(Fe=go(pe,be),Fe!=null&&Et.push(Mc(pe,Fe,Ee))),Mn)break;pe=pe.return}0<Et.length&&(Ce=new Re(Ce,nt,null,l,ke),Be.push({event:Ce,listeners:Et}))}}if((r&7)===0){e:{if(Ce=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",Ce&&l!==Dr&&(nt=l.relatedTarget||l.fromElement)&&(Jo(nt)||nt[Ui]))break e;if((Re||Ce)&&(Ce=ke.window===ke?ke:(Ce=ke.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Re?(nt=l.relatedTarget||l.toElement,Re=Te,nt=nt?Jo(nt):null,nt!==null&&(Mn=s(nt),Et=nt.tag,nt!==Mn||Et!==5&&Et!==27&&Et!==6)&&(nt=null)):(Re=null,nt=Te),Re!==nt)){if(Et=yl,Fe="onMouseLeave",be="onMouseEnter",pe="mouse",(i==="pointerout"||i==="pointerover")&&(Et=Qn,Fe="onPointerLeave",be="onPointerEnter",pe="pointer"),Mn=Re==null?Ce:Oa(Re),Ee=nt==null?Ce:Oa(nt),Ce=new Et(Fe,pe+"leave",Re,l,ke),Ce.target=Mn,Ce.relatedTarget=Ee,Fe=null,Jo(ke)===Te&&(Et=new Et(be,pe+"enter",nt,l,ke),Et.target=Ee,Et.relatedTarget=Mn,Fe=Et),Mn=Fe,Re&&nt)t:{for(Et=Cb,be=Re,pe=nt,Ee=0,Fe=be;Fe;Fe=Et(Fe))Ee++;Fe=0;for(var yt=pe;yt;yt=Et(yt))Fe++;for(;0<Ee-Fe;)be=Et(be),Ee--;for(;0<Fe-Ee;)pe=Et(pe),Fe--;for(;Ee--;){if(be===pe||pe!==null&&be===pe.alternate){Et=be;break t}be=Et(be),pe=Et(pe)}Et=null}else Et=null;Re!==null&&om(Be,Ce,Re,Et,!1),nt!==null&&Mn!==null&&om(Be,Mn,nt,Et,!0)}}e:{if(Ce=Te?Oa(Te):window,Re=Ce.nodeName&&Ce.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Ce.type==="file")var dn=ya;else if(Sl(Ce))if(to)dn=br;else{dn=$n;var lt=Ts}else Re=Ce.nodeName,!Re||Re.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Te&&pl(Te.elementType)&&(dn=ya):dn=nu;if(dn&&(dn=dn(i,Te))){vo(Be,dn,l,ke);break e}lt&&lt(i,Ce,Te),i==="focusout"&&Te&&Ce.type==="number"&&Te.memoizedProps.value!=null&&fl(Ce,"number",Ce.value)}switch(lt=Te?Oa(Te):window,i){case"focusin":(Sl(lt)||lt.contentEditable==="true")&&(yo=lt,Xr=Te,Oi=null);break;case"focusout":Oi=Xr=yo=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,cn(Be,l,ke);break;case"selectionchange":if(Ya)break;case"keydown":case"keyup":cn(Be,l,ke)}var Gt;if(gr)e:{switch(i){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else mr?va(i,l)&&(en="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(en="onCompositionStart");en&&(Gr&&l.locale!=="ko"&&(mr||en!=="onCompositionStart"?en==="onCompositionEnd"&&mr&&(Gt=$l()):(mo=ke,Ha="value"in mo?mo.value:mo.textContent,mr=!0)),lt=If(Te,en),0<lt.length&&(en=new ye(en,i,null,l,ke),Be.push({event:en,listeners:lt}),Gt?en.data=Gt:(Gt=As(l),Gt!==null&&(en.data=Gt)))),(Gt=Va?Ki(i,l):Vr(i,l))&&(en=If(Te,"onBeforeInput"),0<en.length&&(lt=new ye("onBeforeInput","beforeinput",null,l,ke),Be.push({event:lt,listeners:en}),lt.data=Gt)),xb(Be,i,Te,l,ke)}nm(Be,r)})}function Mc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function If(i,r){for(var l=r+"Capture",d=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=go(i,l),y!=null&&d.unshift(Mc(i,y,w)),y=go(i,r),y!=null&&d.push(Mc(i,y,w))),i.tag===3)return d;i=i.return}return[]}function Cb(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function om(i,r,l,d,y){for(var w=r._reactName,N=[];l!==null&&l!==d;){var F=l,le=F.alternate,Te=F.stateNode;if(F=F.tag,le!==null&&le===d)break;F!==5&&F!==26&&F!==27||Te===null||(le=Te,y?(Te=go(l,w),Te!=null&&N.unshift(Mc(l,Te,le))):y||(Te=go(l,w),Te!=null&&N.push(Mc(l,Te,le)))),l=l.return}N.length!==0&&i.push({event:r,listeners:N})}var Lb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function rm(i){return(typeof i=="string"?i:""+i).replace(Lb,`
`).replace(Rb,"")}function am(i,r){return r=rm(r),rm(i)===r}function Rn(i,r,l,d,y,w){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Xo(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Xo(i,""+d);break;case"className":kr(i,"class",d);break;case"tabIndex":kr(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(i,l,d);break;case"style":Wl(i,d,w);break;case"data":if(r!=="object"){kr(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=eo(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(r!=="input"&&Rn(i,r,"name",y.name,y,null),Rn(i,r,"formEncType",y.formEncType,y,null),Rn(i,r,"formMethod",y.formMethod,y,null),Rn(i,r,"formTarget",y.formTarget,y,null)):(Rn(i,r,"encType",y.encType,y,null),Rn(i,r,"method",y.method,y,null),Rn(i,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=eo(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Zo);break;case"onScroll":d!=null&&Qt("scroll",i);break;case"onScrollEnd":d!=null&&Qt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(o(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=eo(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":Qt("beforetoggle",i),Qt("toggle",i),po(i,"popover",d);break;case"xlinkActuate":Wo(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wo(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wo(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wo(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wo(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wo(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wo(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wo(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wo(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":po(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gl.get(l)||l,po(i,l,d))}}function Ch(i,r,l,d,y,w){switch(l){case"style":Wl(i,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(o(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Xo(i,d):(typeof d=="number"||typeof d=="bigint")&&Xo(i,""+d);break;case"onScroll":d!=null&&Qt("scroll",i);break;case"onScrollEnd":d!=null&&Qt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),w=i[On]||null,w=w!=null?w[l]:null,typeof w=="function"&&i.removeEventListener(r,w,y),typeof d=="function")){typeof w!="function"&&w!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,y);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):po(i,l,d)}}}function $i(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",i),Qt("load",i);var d=!1,y=!1,w;for(w in l)if(l.hasOwnProperty(w)){var N=l[w];if(N!=null)switch(w){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Rn(i,r,w,N,l,null)}}y&&Rn(i,r,"srcSet",l.srcSet,l,null),d&&Rn(i,r,"src",l.src,l,null);return;case"input":Qt("invalid",i);var F=w=N=y=null,le=null,Te=null;for(d in l)if(l.hasOwnProperty(d)){var ke=l[d];if(ke!=null)switch(d){case"name":y=ke;break;case"type":N=ke;break;case"checked":le=ke;break;case"defaultChecked":Te=ke;break;case"value":w=ke;break;case"defaultValue":F=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(o(137,r));break;default:Rn(i,r,d,ke,l,null)}}jl(i,w,F,le,Te,N,y,!1);return;case"select":Qt("invalid",i),d=N=w=null;for(y in l)if(l.hasOwnProperty(y)&&(F=l[y],F!=null))switch(y){case"value":w=F;break;case"defaultValue":N=F;break;case"multiple":d=F;default:Rn(i,r,y,F,l,null)}r=w,l=N,i.multiple=!!d,r!=null?ji(i,!!d,r,!1):l!=null&&ji(i,!!d,l,!0);return;case"textarea":Qt("invalid",i),w=y=d=null;for(N in l)if(l.hasOwnProperty(N)&&(F=l[N],F!=null))switch(N){case"value":d=F;break;case"defaultValue":y=F;break;case"children":w=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(91));break;default:Rn(i,r,N,F,l,null)}hl(i,d,y,w);return;case"option":for(le in l)if(l.hasOwnProperty(le)&&(d=l[le],d!=null))switch(le){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Rn(i,r,le,d,l,null)}return;case"dialog":Qt("beforetoggle",i),Qt("toggle",i),Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":Qt("load",i);break;case"video":case"audio":for(d=0;d<Rc.length;d++)Qt(Rc[d],i);break;case"image":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"embed":case"source":case"link":Qt("error",i),Qt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in l)if(l.hasOwnProperty(Te)&&(d=l[Te],d!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Rn(i,r,Te,d,l,null)}return;default:if(pl(r)){for(ke in l)l.hasOwnProperty(ke)&&(d=l[ke],d!==void 0&&Ch(i,r,ke,d,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(d=l[F],d!=null&&Rn(i,r,F,d,l,null))}function Mb(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,N=null,F=null,le=null,Te=null,ke=null;for(Re in l){var Be=l[Re];if(l.hasOwnProperty(Re)&&Be!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":le=Be;default:d.hasOwnProperty(Re)||Rn(i,r,Re,null,d,Be)}}for(var Ce in d){var Re=d[Ce];if(Be=l[Ce],d.hasOwnProperty(Ce)&&(Re!=null||Be!=null))switch(Ce){case"type":w=Re;break;case"name":y=Re;break;case"checked":Te=Re;break;case"defaultChecked":ke=Re;break;case"value":N=Re;break;case"defaultValue":F=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(o(137,r));break;default:Re!==Be&&Rn(i,r,Ce,Re,d,Be)}}ys(i,N,F,le,Te,ke,w,y);return;case"select":Re=N=F=Ce=null;for(w in l)if(le=l[w],l.hasOwnProperty(w)&&le!=null)switch(w){case"value":break;case"multiple":Re=le;default:d.hasOwnProperty(w)||Rn(i,r,w,null,d,le)}for(y in d)if(w=d[y],le=l[y],d.hasOwnProperty(y)&&(w!=null||le!=null))switch(y){case"value":Ce=w;break;case"defaultValue":F=w;break;case"multiple":N=w;default:w!==le&&Rn(i,r,y,w,d,le)}r=F,l=N,d=Re,Ce!=null?ji(i,!!l,Ce,!1):!!d!=!!l&&(r!=null?ji(i,!!l,r,!0):ji(i,!!l,l?[]:"",!1));return;case"textarea":Re=Ce=null;for(F in l)if(y=l[F],l.hasOwnProperty(F)&&y!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Rn(i,r,F,null,d,y)}for(N in d)if(y=d[N],w=l[N],d.hasOwnProperty(N)&&(y!=null||w!=null))switch(N){case"value":Ce=y;break;case"defaultValue":Re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:y!==w&&Rn(i,r,N,y,d,w)}dl(i,Ce,Re);return;case"option":for(var nt in l)if(Ce=l[nt],l.hasOwnProperty(nt)&&Ce!=null&&!d.hasOwnProperty(nt))switch(nt){case"selected":i.selected=!1;break;default:Rn(i,r,nt,null,d,Ce)}for(le in d)if(Ce=d[le],Re=l[le],d.hasOwnProperty(le)&&Ce!==Re&&(Ce!=null||Re!=null))switch(le){case"selected":i.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:Rn(i,r,le,Ce,d,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in l)Ce=l[Et],l.hasOwnProperty(Et)&&Ce!=null&&!d.hasOwnProperty(Et)&&Rn(i,r,Et,null,d,Ce);for(Te in d)if(Ce=d[Te],Re=l[Te],d.hasOwnProperty(Te)&&Ce!==Re&&(Ce!=null||Re!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(o(137,r));break;default:Rn(i,r,Te,Ce,d,Re)}return;default:if(pl(r)){for(var Mn in l)Ce=l[Mn],l.hasOwnProperty(Mn)&&Ce!==void 0&&!d.hasOwnProperty(Mn)&&Ch(i,r,Mn,void 0,d,Ce);for(ke in d)Ce=d[ke],Re=l[ke],!d.hasOwnProperty(ke)||Ce===Re||Ce===void 0&&Re===void 0||Ch(i,r,ke,Ce,d,Re);return}}for(var be in l)Ce=l[be],l.hasOwnProperty(be)&&Ce!=null&&!d.hasOwnProperty(be)&&Rn(i,r,be,null,d,Ce);for(Be in d)Ce=d[Be],Re=l[Be],!d.hasOwnProperty(Be)||Ce===Re||Ce==null&&Re==null||Rn(i,r,Be,Ce,d,Re)}function sm(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ib(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],w=y.transferSize,N=y.initiatorType,F=y.duration;if(w&&F&&sm(N)){for(N=0,F=y.responseEnd,d+=1;d<l.length;d++){var le=l[d],Te=le.startTime;if(Te>F)break;var ke=le.transferSize,Be=le.initiatorType;ke&&sm(Be)&&(le=le.responseEnd,N+=ke*(le<F?1:(F-Te)/(le-Te)))}if(--d,r+=8*(w+N)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lh=null,Rh=null;function kf(i){return i.nodeType===9?i:i.ownerDocument}function lm(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function um(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Mh(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ih=null;function kb(){var i=window.event;return i&&i.type==="popstate"?i===Ih?!1:(Ih=i,!0):(Ih=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(i){return fm.resolve(null).then(i).catch(Ub)}:cm;function Ub(i){setTimeout(function(){throw i})}function Js(i){return i==="head"}function dm(i,r){var l=r,d=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(y),Pu(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Ic(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Ic(l);for(var w=l.firstChild;w;){var N=w.nextSibling,F=w.nodeName;w[Yo]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=N}}else l==="body"&&Ic(i.ownerDocument.body);l=y}while(l);Pu(r)}function hm(i,r){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function kh(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kh(l),ha(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Ob(i,r,l,d){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Yo])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Tr(i.nextSibling),i===null)break}return null}function Fb(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Tr(i.nextSibling),i===null))return null;return i}function pm(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Tr(i.nextSibling),i===null))return null;return i}function Dh(i){return i.data==="$?"||i.data==="$~"}function Ph(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Bb(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Tr(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Uh=null;function gm(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Tr(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function mm(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function vm(i,r,l){switch(r=kf(l),i){case"html":if(i=r.documentElement,!i)throw Error(o(452));return i;case"head":if(i=r.head,!i)throw Error(o(453));return i;case"body":if(i=r.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function Ic(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ha(i)}var Nr=new Map,ym=new Set;function Df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var us=ae.d;ae.d={f:qb,r:Hb,D:zb,C:Gb,L:Vb,m:Yb,X:jb,S:Jb,M:Kb};function qb(){var i=us.f(),r=Ef();return i||r}function Hb(i){var r=jo(i);r!==null&&r.tag===5&&r.type==="form"?P0(r):us.r(i)}var Iu=typeof document>"u"?null:document;function bm(i,r,l){var d=Iu;if(d&&typeof r=="string"&&r){var y=oi(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),ym.has(y)||(ym.add(y),i={rel:i,crossOrigin:l,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),$i(r,"link",i),Zn(r),d.head.appendChild(r)))}}function zb(i){us.D(i),bm("dns-prefetch",i,null)}function Gb(i,r){us.C(i,r),bm("preconnect",i,r)}function Vb(i,r,l){us.L(i,r,l);var d=Iu;if(d&&i&&r){var y='link[rel="preload"][as="'+oi(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+oi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+oi(l.imageSizes)+'"]')):y+='[href="'+oi(i)+'"]';var w=y;switch(r){case"style":w=ku(i);break;case"script":w=Du(i)}Nr.has(w)||(i=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Nr.set(w,i),d.querySelector(y)!==null||r==="style"&&d.querySelector(kc(w))||r==="script"&&d.querySelector(Dc(w))||(r=d.createElement("link"),$i(r,"link",i),Zn(r),d.head.appendChild(r)))}}function Yb(i,r){us.m(i,r);var l=Iu;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+oi(d)+'"][href="'+oi(i)+'"]',w=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Du(i)}if(!Nr.has(w)&&(i=_({rel:"modulepreload",href:i},r),Nr.set(w,i),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Dc(w)))return}d=l.createElement("link"),$i(d,"link",i),Zn(d),l.head.appendChild(d)}}}function Jb(i,r,l){us.S(i,r,l);var d=Iu;if(d&&i){var y=fr(d).hoistableStyles,w=ku(i);r=r||"default";var N=y.get(w);if(!N){var F={loading:0,preload:null};if(N=d.querySelector(kc(w)))F.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Nr.get(w))&&Oh(i,l);var le=N=d.createElement("link");Zn(le),$i(le,"link",i),le._p=new Promise(function(Te,ke){le.onload=Te,le.onerror=ke}),le.addEventListener("load",function(){F.loading|=1}),le.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Pf(N,r,d)}N={type:"stylesheet",instance:N,count:1,state:F},y.set(w,N)}}}function jb(i,r){us.X(i,r);var l=Iu;if(l&&i){var d=fr(l).hoistableScripts,y=Du(i),w=d.get(y);w||(w=l.querySelector(Dc(y)),w||(i=_({src:i,async:!0},r),(r=Nr.get(y))&&Fh(i,r),w=l.createElement("script"),Zn(w),$i(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(y,w))}}function Kb(i,r){us.M(i,r);var l=Iu;if(l&&i){var d=fr(l).hoistableScripts,y=Du(i),w=d.get(y);w||(w=l.querySelector(Dc(y)),w||(i=_({src:i,async:!0,type:"module"},r),(r=Nr.get(y))&&Fh(i,r),w=l.createElement("script"),Zn(w),$i(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(y,w))}}function Sm(i,r,l,d){var y=(y=ce.current)?Df(y):null;if(!y)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ku(l.href),l=fr(y).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ku(l.href);var w=fr(y).hoistableStyles,N=w.get(i);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,N),(w=y.querySelector(kc(i)))&&!w._p&&(N.instance=w,N.state.loading=5),Nr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Nr.set(i,l),w||Wb(y,i,l,N.state))),r&&d===null)throw Error(o(528,""));return N}if(r&&d!==null)throw Error(o(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Du(l),l=fr(y).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function ku(i){return'href="'+oi(i)+'"'}function kc(i){return'link[rel="stylesheet"]['+i+"]"}function _m(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function Wb(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),$i(r,"link",l),Zn(r),i.head.appendChild(r))}function Du(i){return'[src="'+oi(i)+'"]'}function Dc(i){return"script[async]"+i}function wm(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+oi(l.href)+'"]');if(d)return r.instance=d,Zn(d),d;var y=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Zn(d),$i(d,"style",y),Pf(d,l.precedence,i),r.instance=d;case"stylesheet":y=ku(l.href);var w=i.querySelector(kc(y));if(w)return r.state.loading|=4,r.instance=w,Zn(w),w;d=_m(l),(y=Nr.get(y))&&Oh(d,y),w=(i.ownerDocument||i).createElement("link"),Zn(w);var N=w;return N._p=new Promise(function(F,le){N.onload=F,N.onerror=le}),$i(w,"link",d),r.state.loading|=4,Pf(w,l.precedence,i),r.instance=w;case"script":return w=Du(l.src),(y=i.querySelector(Dc(w)))?(r.instance=y,Zn(y),y):(d=l,(y=Nr.get(w))&&(d=_({},l),Fh(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),Zn(y),$i(y,"link",d),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(o(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Pf(d,l.precedence,i));return r.instance}function Pf(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,w=y,N=0;N<d.length;N++){var F=d[N];if(F.dataset.precedence===r)w=F;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Oh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Fh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Uf=null;function Am(i,r,l){if(Uf===null){var d=new Map,y=Uf=new Map;y.set(l,d)}else y=Uf,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var w=l[y];if(!(w[Yo]||w[bn]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(r)||"";N=i+N;var F=d.get(N);F?F.push(w):d.set(N,[w])}}return d}function xm(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function Xb(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Em(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Zb(i,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=ku(d.href),w=r.querySelector(kc(y));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Of.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=w,Zn(w);return}w=r.ownerDocument||r,d=_m(d),(y=Nr.get(y))&&Oh(d,y),w=w.createElement("link"),Zn(w);var N=w;N._p=new Promise(function(F,le){N.onload=F,N.onerror=le}),$i(w,"link",d),l.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Of.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var Bh=0;function Qb(i,r){return i.stylesheets&&i.count===0&&Bf(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Bf(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+r);0<i.imgBytes&&Bh===0&&(Bh=62500*Ib());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bf(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Bh?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ff=null;function Bf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ff=new Map,r.forEach($b,i),Ff=null,Of.call(i))}function $b(i,r){if(!(r.state.loading&4)){var l=Ff.get(i);if(l)var d=l.get(null);else{l=new Map,Ff.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var N=y[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),d=N)}d&&l.set(null,d)}y=r.instance,N=y.getAttribute("data-precedence"),w=l.get(N)||d,w===d&&l.set(null,y),l.set(N,y),this.count++,d=Of.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Pc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function eS(i,r,l,d,y,w,N,F,le){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.hiddenUpdates=Ao(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function Tm(i,r,l,d,y,w,N,F,le,Te,ke,Be){return i=new eS(i,r,l,N,le,Te,ke,Be,F),r=1,w===!0&&(r|=24),w=Bi(3,null,null,r),i.current=w,w.stateNode=i,r=Ds(),r.refCount++,i.pooledCache=r,r.refCount++,w.memoizedState={element:d,isDehydrated:l,cache:r},Je(w),i}function Nm(i){return i?(i=Li,i):Li}function Cm(i,r,l,d,y,w){y=Nm(y),d.context===null?d.context=y:d.pendingContext=y,d=At(r),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=qt(i,d,r),l!==null&&(Ho(l,i,r),gn(l,i,r))}function Lm(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function qh(i,r){Lm(i,r),(i=i.alternate)&&Lm(i,r)}function Rm(i){if(i.tag===13||i.tag===31){var r=Zr(i,67108864);r!==null&&Ho(r,i,67108864),qh(i,67108864)}}function Mm(i){if(i.tag===13||i.tag===31){var r=ar();r=Un(r);var l=Zr(i,r);l!==null&&Ho(l,i,r),qh(i,r)}}var qf=!0;function tS(i,r,l,d){var y=ne.T;ne.T=null;var w=ae.p;try{ae.p=2,Hh(i,r,l,d)}finally{ae.p=w,ne.T=y}}function nS(i,r,l,d){var y=ne.T;ne.T=null;var w=ae.p;try{ae.p=8,Hh(i,r,l,d)}finally{ae.p=w,ne.T=y}}function Hh(i,r,l,d){if(qf){var y=zh(d);if(y===null)Nh(i,r,d,Hf,l),km(i,d);else if(oS(y,i,r,l,d))d.stopPropagation();else if(km(i,d),r&4&&-1<iS.indexOf(i)){for(;y!==null;){var w=jo(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=ct(w.pendingLanes);if(N!==0){var F=w;for(F.pendingLanes|=2,F.entangledLanes|=2;N;){var le=1<<31-Kt(N);F.entanglements[1]|=le,N&=~le}Ma(w),(vn&6)===0&&(Af=Dt()+500,Lc(0))}}break;case 31:case 13:F=Zr(w,2),F!==null&&Ho(F,w,2),Ef(),qh(w,2)}if(w=zh(d),w===null&&Nh(i,r,d,Hf,l),w===y)break;y=w}y!==null&&d.stopPropagation()}else Nh(i,r,d,null,l)}}function zh(i){return i=Ba(i),Gh(i)}var Hf=null;function Gh(i){if(Hf=null,i=Jo(i),i!==null){var r=s(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=u(r),i!==null)return i;i=null}else if(l===31){if(i=c(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hf=i,null}function Im(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Mt:return 2;case jt:return 8;case zt:case at:return 32;case It:return 268435456;default:return 32}default:return 32}}var Vh=!1,js=null,Ks=null,Ws=null,Uc=new Map,Oc=new Map,Xs=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(i,r){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(r.pointerId)}}function Fc(i,r,l,d,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[y]},r!==null&&(r=jo(r),r!==null&&Rm(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function oS(i,r,l,d,y){switch(r){case"focusin":return js=Fc(js,i,r,l,d,y),!0;case"dragenter":return Ks=Fc(Ks,i,r,l,d,y),!0;case"mouseover":return Ws=Fc(Ws,i,r,l,d,y),!0;case"pointerover":var w=y.pointerId;return Uc.set(w,Fc(Uc.get(w)||null,i,r,l,d,y)),!0;case"gotpointercapture":return w=y.pointerId,Oc.set(w,Fc(Oc.get(w)||null,i,r,l,d,y)),!0}return!1}function Dm(i){var r=Jo(i.target);if(r!==null){var l=s(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){i.blockedOn=r,da(i.priority,function(){Mm(l)});return}}else if(r===31){if(r=c(l),r!==null){i.blockedOn=r,da(i.priority,function(){Mm(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=zh(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Dr=d,l.target.dispatchEvent(d),Dr=null}else return r=jo(l),r!==null&&Rm(r),i.blockedOn=l,!1;r.shift()}return!0}function Pm(i,r,l){zf(i)&&l.delete(r)}function rS(){Vh=!1,js!==null&&zf(js)&&(js=null),Ks!==null&&zf(Ks)&&(Ks=null),Ws!==null&&zf(Ws)&&(Ws=null),Uc.forEach(Pm),Oc.forEach(Pm)}function Gf(i,r){i.blockedOn===r&&(i.blockedOn=null,Vh||(Vh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rS)))}var Vf=null;function Um(i){Vf!==i&&(Vf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===i&&(Vf=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],y=i[r+2];if(typeof d!="function"){if(Gh(d||l)===null)continue;break}var w=jo(l);w!==null&&(i.splice(r,3),r-=3,zd(w,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function Pu(i){function r(le){return Gf(le,i)}js!==null&&Gf(js,i),Ks!==null&&Gf(Ks,i),Ws!==null&&Gf(Ws,i),Uc.forEach(r),Oc.forEach(r);for(var l=0;l<Xs.length;l++){var d=Xs[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Xs.length&&(l=Xs[0],l.blockedOn===null);)Dm(l),l.blockedOn===null&&Xs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],w=l[d+1],N=y[On]||null;if(typeof w=="function")N||Um(l);else if(N){var F=null;if(w&&w.hasAttribute("formAction")){if(y=w,N=w[On]||null)F=N.formAction;else if(Gh(y)!==null)continue}else F=N.action;typeof F=="function"?l[d+1]=F:(l.splice(d,3),d-=3),Um(l)}}}function Om(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Yh(i){this._internalRoot=i}Yf.prototype.render=Yh.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(o(409));var l=r.current,d=ar();Cm(l,d,i,r,null,null)},Yf.prototype.unmount=Yh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Cm(i.current,2,null,i,null,null),Ef(),r[Ui]=null}};function Yf(i){this._internalRoot=i}Yf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Si();i={blockedOn:null,target:i,priority:r};for(var l=0;l<Xs.length&&r!==0&&r<Xs[l].priority;l++);Xs.splice(l,0,i),l===0&&Dm(i)}};var Fm=e.version;if(Fm!=="19.2.4")throw Error(o(527,Fm,"19.2.4"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=f(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var aS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Yt=Jf.inject(aS),_t=Jf}catch{}}return qc.createRoot=function(i,r){if(!a(i))throw Error(o(299));var l=!1,d="",y=Y0,w=J0,N=j0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=Tm(i,1,!1,null,null,l,d,null,y,w,N,Om),i[Ui]=r.current,Th(i),new Yh(r)},qc.hydrateRoot=function(i,r,l){if(!a(i))throw Error(o(299));var d=!1,y="",w=Y0,N=J0,F=j0,le=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.formState!==void 0&&(le=l.formState)),r=Tm(i,1,!0,r,l??null,d,y,le,w,N,F,Om),r.context=Nm(null),l=r.current,d=ar(),d=Un(d),y=At(d),y.callback=null,qt(l,y,d),l=d,r.current.lanes=l,ht(r,l),Ma(r),i[Ui]=r.current,Th(i),new Yf(r)},qc.version="19.2.4",qc}var Km;function bS(){if(Km)return Kh.exports;Km=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kh.exports=yS(),Kh.exports}var SS=bS();const _S=Xv(SS),il={en:{title:"Seizure Alert",subtitle:"Press the button below if you feel a seizure starting.",emergencyButton:"EMERGENCY",alertTitle:"MEDICAL EMERGENCY",alertStatus:"I am having a seizure. I am not in control.",durationLabel:"DURATION",instructionsTitle:"Instructions for Bystanders",instructions:["Stay calm. I should be okay in a few minutes.","Time the seizure. Call 911 if it lasts more than 5 minutes.","Keep me safe. Move sharp objects away.","Gently roll me onto my side to help with breathing.","Cushion my head with something soft.","Do NOT hold me down or restrict my movements.","Do NOT put anything in my mouth.","Stay with me until the seizure is over and I am fully awake."],ttsIntro:"A medical emergency is in progress. Please follow these instructions.",emergencyContacts:"Emergency Contacts",noContactsMessage:"No emergency contacts have been added. Please add them in Settings.",imOkButton:"I'm OK",sirenMute:"Mute siren",sirenUnmute:"Unmute siren",aiButton:"AI",chatTitle:"Aura Health Assistant",chatPlaceholder:"Type your message...",chatMicListening:"Listening...",chatMicError:"Mic error, please type.",chatInitialGreeting:"Hello! I'm Aura. I can provide information on seizure first aid. How can I help? Note: I am not a medical professional.",settingsTitle:"Settings",settingsContacts:"Contacts",settingsAPIKey:"API Key",settingsAddContact:"Add Contact",settingsContactName:"Name",settingsContactRelation:"Relation (e.g., Spouse)",settingsContactPhone:"Phone Number",settingsSave:"Save",settingsCancel:"Cancel",settingsAPIKeyLabel:"Gemini API Key",settingsAPIKeyPlaceholder:"Enter your API key",settingsAPIKeyDesc:"Aura AI features require a Gemini API Key. Get one from Google AI Studio. Your key is saved only on this device.",chatAPIKeyMissing:"Please add your Gemini API Key in settings to use Aura.",settingsPatientInfo:"Patient Information",settingsPatientName:"Patient Name",settingsBloodType:"Blood Type",settingsMedicalConditions:"Medical Conditions / Allergies",settingsBloodTypePlaceholder:"Select Blood Type",reportsTitle:"Alert History",openReports:"Open Alert History",noReportsMessage:"No alert history has been recorded yet.",reportDurationLabel:"Duration",reportNotesLabel:"Notes",addNotes:"Add Notes",editNotes:"Edit Notes",saveNotes:"Save Notes",cancelNotes:"Cancel",deleteReport:"Delete Report",notesPlaceholder:"Add notes about this event (e.g., potential triggers, feelings)..."},es:{title:"Alerta de Convulsin",subtitle:"Presiona el botn de abajo si sientes que comienza una convulsin.",emergencyButton:"EMERGENCIA",alertTitle:"EMERGENCIA MDICA",alertStatus:"Estoy teniendo una convulsin. No estoy en control.",durationLabel:"DURACIN",instructionsTitle:"Instrucciones para Testigos",instructions:["Mantn la calma. Estar bien en unos minutos.","Cronometra la convulsin. Llama al 911 si dura ms de 5 minutos.","Mantenme a salvo. Aleja los objetos afilados.","Grame suavemente de lado para ayudarme a respirar.","Amortigua mi cabeza con algo suave.","NO me sujetes ni restrinjas mis movimientos.","NO pongas nada en mi boca.","Qudate conmigo hasta que termine la convulsin y est completamente despierto."],ttsIntro:"Una emergencia mdica est en curso. Por favor, siga estas instrucciones.",emergencyContacts:"Contactos de Emergencia",noContactsMessage:"No se han aadido contactos de emergencia. Por favor, adelos en Configuracin.",imOkButton:"Estoy Bien",sirenMute:"Silenciar sirena",sirenUnmute:"Activar sirena",aiButton:"IA",chatTitle:"Asistente de Salud Aura",chatPlaceholder:"Escribe tu mensaje...",chatMicListening:"Escuchando...",chatMicError:"Error de micrfono, por favor escribe.",chatInitialGreeting:"Hola! Soy Aura. Puedo proporcionar informacin sobre primeros auxilios para convulsiones. Cmo puedo ayudar? Nota: No soy un profesional mdico.",settingsTitle:"Configuracin",settingsContacts:"Contactos",settingsAPIKey:"Clave API",settingsAddContact:"Aadir Contacto",settingsContactName:"Nombre",settingsContactRelation:"Relacin (ej. Esposo/a)",settingsContactPhone:"Nmero de Telfono",settingsSave:"Guardar",settingsCancel:"Cancelar",settingsAPIKeyLabel:"Clave API de Gemini",settingsAPIKeyPlaceholder:"Introduce tu clave API",settingsAPIKeyDesc:"Las funciones de IA de Aura requieren una clave API de Gemini. Obtn una en Google AI Studio. Tu clave se guarda solo en este dispositivo.",chatAPIKeyMissing:"Por favor, aade tu clave API de Gemini en la configuracin para usar Aura.",reportsTitle:"Historial de Alertas",openReports:"Abrir Historial de Alertas",noReportsMessage:"An no se ha registrado ningn historial de alertas.",reportDurationLabel:"Duracin",reportNotesLabel:"Notas",addNotes:"Aadir Notas",editNotes:"Editar Notas",saveNotes:"Guardar Notas",cancelNotes:"Cancelar",deleteReport:"Eliminar Reporte",notesPlaceholder:"Aade notas sobre este evento (ej. posibles desencadenantes, sentimientos)..."}},wS=t=>`
  You are Aura, a compassionate AI assistant specialized in seizure first aid.
  Your goal is to provide clear, simple, and calm information.
  You MUST NOT provide any medical advice, diagnosis, or treatment plans.
  If asked for medical advice, you MUST politely decline and strongly recommend consulting a healthcare professional or emergency services.
  You MUST respond exclusively in the following language: ${t==="es"?"Spanish":"English"}.
  Keep your answers concise and easy to understand.
`,AS=({language:t,onActivateAlert:e,onOpenChat:n})=>{const o=il[t];return $.jsx("div",{className:"relative flex flex-col items-center justify-center h-screen w-screen bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-200 text-center p-4",children:$.jsxs("main",{className:"flex flex-col items-center justify-center flex-grow min-h-0 -mt-16",children:[$.jsx("img",{src:"Seizures_Alert_App.png",alt:`${o.title} Logo`,className:"w-56 h-56 md:w-72 md:h-72 mb-6 rounded-3xl shadow-lg"}),$.jsx("p",{className:"text-lg md:text-2xl mb-8 max-w-lg font-medium",children:o.subtitle}),$.jsxs("div",{className:"relative",children:[$.jsxs("button",{onClick:e,className:"relative flex items-center justify-center w-64 h-64 md:w-80 md:h-80 bg-red-600 text-white rounded-full animate-breathe transition-transform duration-150 ease-in-out active:scale-95 focus:outline-none focus:ring-4 focus:ring-red-400","aria-label":o.emergencyButton,children:[$.jsx("span",{className:"absolute h-full w-full rounded-full bg-red-500 animate-pulse"}),$.jsx("span",{className:"relative text-4xl md:text-5xl font-bold tracking-wider",children:o.emergencyButton})]}),$.jsx("button",{onClick:n,className:"absolute top-0 right-0 transform -translate-y-2 translate-x-2 bg-blue-600 text-white p-0 w-12 h-12 flex items-center justify-center rounded-full shadow-lg hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors focus:outline-none focus:ring-4 focus:ring-blue-400 z-10 font-black text-lg","aria-label":"Open AI Health Assistant",children:o.aiButton})]})]})})},xS=()=>{const t=Ye.useRef(null),e=Ye.useRef(null),n=Ye.useRef(null),o=Ye.useRef([]),[a,s]=Ye.useState(!1),[u,c]=Ye.useState(!0),h=Ye.useCallback(()=>{t.current&&t.current.state==="suspended"&&t.current.resume().then(()=>{c(!0)}).catch(_=>{console.warn("Audio resume failed (autoplay policy):",_),c(!1)})},[]),f=Ye.useCallback(()=>{o.current.forEach(clearInterval),o.current=[],e.current&&(e.current.stop(),e.current.disconnect()),n.current&&n.current.disconnect(),t.current&&t.current.state!=="closed"&&t.current.close().catch(_=>console.error("Error closing AudioContext",_)),e.current=null,n.current=null,t.current=null,typeof navigator.vibrate=="function"&&navigator.vibrate(0)},[]),g=Ye.useCallback(()=>{if(typeof navigator.vibrate=="function"){const _=window.setInterval(()=>{navigator.vibrate([500,200,500,200])},1400);o.current.push(_)}try{const _=new(window.AudioContext||window.webkitAudioContext);t.current=_,_.state==="suspended"?_.resume().then(()=>{c(!0)}).catch(()=>{c(!1)}):c(!0);const A=_.createOscillator(),S=_.createGain();n.current=S,A.type="sine",A.connect(S),S.connect(_.destination),S.gain.setValueAtTime(a?0:1,_.currentTime),A.start(0);let C=800;const I=window.setInterval(()=>{_.state==="running"&&(C=C===800?1e3:800,A.frequency.setValueAtTime(C,_.currentTime))},500);o.current.push(I),e.current=A}catch(_){console.error("Web Audio API is not supported in this browser.",_)}},[a]);return Ye.useCallback(()=>{if(n.current&&t.current){t.current.state==="suspended"&&t.current.resume();const _=!a;s(_),n.current.gain.exponentialRampToValueAtTime(_?1e-4:1,t.current.currentTime+.1)}},[a]),Ye.useEffect(()=>(g(),document.documentElement.requestFullscreen().catch(_=>{console.log(`Error attempting to enable full-screen mode: ${_.message} (${_.name})`)}),()=>{f(),document.fullscreenElement&&document.exitFullscreen()}),[g,f]),{isMuted:a,toggleSound:()=>s(_=>!_),stopAlert:f,startAlert:g,hasAudioPermission:u,attemptResume:h}};var ES={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let TS,NS;function CS(){return{geminiUrl:TS,vertexUrl:NS}}function LS(t,e,n,o){var a,s;if(!(t!=null&&t.baseUrl)){const u=CS();return e?(a=u.vertexUrl)!==null&&a!==void 0?a:n:(s=u.geminiUrl)!==null&&s!==void 0?s:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ms{}function Xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const s=e[a];return s!=null?String(s):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(t,e,n){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(n))for(let f=0;f<h.length;f++){const g=h[f];v(g,e.slice(s+1),n[f])}else for(const f of h)v(f,e.slice(s+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];v(h[0],e.slice(s+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(s in t){const u=t[s];return Array.isArray(u)?u.map(c=>p(c,e.slice(o+1),n)):n}else return n}else t=t[a]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function RS(t,e){for(const[n,o]of Object.entries(e)){const a=n.split("."),s=o.split("."),u=new Set;let c=-1;for(let h=0;h<a.length;h++)if(a[h]==="*"){c=h;break}if(c!==-1&&s.length>c)for(let h=c;h<s.length;h++){const f=s[h];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&u.add(f)}Rp(t,a,s,0,u)}}function Rp(t,e,n,o,a){if(o>=e.length||typeof t!="object"||t===null)return;const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const h of c[u])Rp(h,e,n,o+1,a)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(f=>!f.startsWith("_")&&!a.has(f)),h={};for(const f of c)h[f]=u[f];for(const[f,g]of Object.entries(h)){const _=[];for(const A of n.slice(o))A==="*"?_.push(f):_.push(A);v(u,_,g)}for(const f of c)delete u[f]}}else{const u=t;s in u&&Rp(u[s],e,n,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(t){const e={},n=p(t,["operationName"]);n!=null&&v(e,["operationName"],n);const o=p(t,["resourceName"]);return o!=null&&v(e,["_url","resourceName"],o),e}function IS(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["metadata"]);o!=null&&v(e,["metadata"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);s!=null&&v(e,["error"],s);const u=p(t,["response","generateVideoResponse"]);return u!=null&&v(e,["response"],DS(u)),e}function kS(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["metadata"]);o!=null&&v(e,["metadata"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);s!=null&&v(e,["error"],s);const u=p(t,["response"]);return u!=null&&v(e,["response"],PS(u)),e}function DS(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>US(u))),v(e,["generatedVideos"],s)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&v(e,["raiMediaFilteredCount"],o);const a=p(t,["raiMediaFilteredReasons"]);return a!=null&&v(e,["raiMediaFilteredReasons"],a),e}function PS(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>OS(u))),v(e,["generatedVideos"],s)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&v(e,["raiMediaFilteredCount"],o);const a=p(t,["raiMediaFilteredReasons"]);return a!=null&&v(e,["raiMediaFilteredReasons"],a),e}function US(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],GS(n)),e}function OS(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],VS(n)),e}function FS(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function BS(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function qS(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["metadata"]);o!=null&&v(e,["metadata"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);s!=null&&v(e,["error"],s);const u=p(t,["response"]);return u!=null&&v(e,["response"],HS(u)),e}function HS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&v(e,["parent"],o);const a=p(t,["documentName"]);return a!=null&&v(e,["documentName"],a),e}function Zv(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["metadata"]);o!=null&&v(e,["metadata"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);s!=null&&v(e,["error"],s);const u=p(t,["response"]);return u!=null&&v(e,["response"],zS(u)),e}function zS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&v(e,["parent"],o);const a=p(t,["documentName"]);return a!=null&&v(e,["documentName"],a),e}function GS(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const o=p(t,["encodedVideo"]);o!=null&&v(e,["videoBytes"],l0(o));const a=p(t,["encoding"]);return a!=null&&v(e,["mimeType"],a),e}function VS(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&v(e,["videoBytes"],l0(o));const a=p(t,["mimeType"]);return a!=null&&v(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wm||(Wm={}));var Xm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Xm||(Xm={}));var Zm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Zm||(Zm={}));var el;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(el||(el={}));var Qm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qm||(Qm={}));var $m;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($m||($m={}));var e1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(e1||(e1={}));var t1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(t1||(t1={}));var n1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(n1||(n1={}));var i1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(i1||(i1={}));var o1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(o1||(o1={}));var r1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(r1||(r1={}));var a1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(a1||(a1={}));var s1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(s1||(s1={}));var l1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(l1||(l1={}));var u1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(u1||(u1={}));var c1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(c1||(c1={}));var f1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(f1||(f1={}));var d1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(d1||(d1={}));var h1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(h1||(h1={}));var p1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(p1||(p1={}));var Wc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wc||(Wc={}));var g1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(g1||(g1={}));var m1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(m1||(m1={}));var v1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(v1||(v1={}));var Mp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mp||(Mp={}));var y1;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(y1||(y1={}));var b1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(b1||(b1={}));var Ip;(function(t){t.COLLECTION="COLLECTION"})(Ip||(Ip={}));var S1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(S1||(S1={}));var _1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_1||(_1={}));var w1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(w1||(w1={}));var A1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(A1||(A1={}));var x1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(x1||(x1={}));var E1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(E1||(E1={}));var T1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(T1||(T1={}));var N1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(N1||(N1={}));var C1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(C1||(C1={}));var L1;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(L1||(L1={}));var R1;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(R1||(R1={}));var M1;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(M1||(M1={}));var I1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(I1||(I1={}));var k1;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(k1||(k1={}));var D1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(D1||(D1={}));var P1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(P1||(P1={}));var U1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(U1||(U1={}));var O1;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(O1||(O1={}));var F1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(F1||(F1={}));var B1;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(B1||(B1={}));var q1;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(q1||(q1={}));var H1;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(H1||(H1={}));var z1;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(z1||(z1={}));var G1;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(G1||(G1={}));var V1;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(V1||(V1={}));var Y1;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Y1||(Y1={}));var J1;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(J1||(J1={}));var zu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(zu||(zu={}));class kp{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hc{get text(){var e,n,o,a,s,u,c,h;if(((a=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const _=[];for(const A of(h=(c=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[S,C]of Object.entries(A))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(C!==null||C!==void 0)&&_.push(S);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;g=!0,f+=A.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,n,o,a,s,u,c,h;if(((a=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const _ of(h=(c=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[A,S]of Object.entries(_))A!=="inlineData"&&(S!==null||S!==void 0)&&g.push(A);_.inlineData&&typeof _.inlineData.data=="string"&&(f+=atob(_.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,o,a,s,u,c,h;if(((a=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(h=(c=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,o,a,s,u,c,h,f;if(((a=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(h=(c=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,o,a,s,u,c,h,f;if(((a=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(h=(c=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class j1{}class K1{}class YS{}class JS{}class jS{}class KS{}class W1{}class X1{}class Z1{}class WS{}class pd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new pd;let a;const s=e;return n?a=kS(s):a=IS(s),Object.assign(o,a),o}}class Q1{}class $1{}class e2{}class t2{}class XS{}class ZS{}class QS{}class u0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new u0,s=qS(e);return Object.assign(o,s),o}}class $S{}class e_{}class t_{}class n_{}class n2{}class i_{get text(){var e,n,o;let a="",s=!1;const u=[];for(const c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[h,f]of Object.entries(c))h!=="text"&&h!=="thought"&&f!==null&&u.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,a+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?a:void 0}get data(){var e,n,o;let a="";const s=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,h]of Object.entries(u))c!=="inlineData"&&h!==null&&s.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(a+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class o_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class c0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new c0,s=Zv(e);return Object.assign(o,s),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qv(t,e){const n=pn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $v(t){return Array.isArray(t)?t.map(e=>gd(e)):[gd(t)]}function gd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ey(t){const e=gd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ty(t){const e=gd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function i2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ny(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>i2(e)):[i2(t)]}function Dp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function o2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function r2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function lo(t){if(t==null)throw new Error("ContentUnion is required");return Dp(t)?t:{role:"user",parts:ny(t)}}function f0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=lo(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=lo(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>lo(n)):[lo(e)]}function Cr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(o2(t)||r2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lo(t)]}const e=[],n=[],o=Dp(t[0]);for(const a of t){const s=Dp(a);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(a);else{if(o2(a)||r2(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return o||e.push({role:"user",parts:ny(n)}),e}function r_(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(el).includes(n[0].toUpperCase())?n[0].toUpperCase():el.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(el).includes(o.toUpperCase())?o.toUpperCase():el.TYPE_UNSPECIFIED})}}function Yu(t){const e={},n=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&r_(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(el).includes(c.toUpperCase())?c.toUpperCase():el.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Yu(c);else if(o.includes(u)){const h=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}h.push(Yu(f))}e[u]=h}else if(a.includes(u)){const h={};for(const[f,g]of Object.entries(c))h[f]=Yu(g);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=c}return e}function d0(t){return Yu(t)}function h0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function p0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ec(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yu(e.response));return t}function tc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function a_(t,e,n,o=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function vs(t,e){if(typeof e!="string")throw new Error("name must be a string");return a_(t,e,"cachedContents")}function iy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ol(t){return l0(t)}function s_(t){return t!=null&&typeof t=="object"&&"name"in t}function l_(t){return t!=null&&typeof t=="object"&&"video"in t}function u_(t){return t!=null&&typeof t=="object"&&"uri"in t}function oy(t){var e;let n;if(s_(t)&&(n=t.name),!(u_(t)&&(n=t.uri,n===void 0))&&!(l_(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ry(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ay(t){for(const e of["models","tunedModels","publisherModels"])if(c_(t,e))return t[e];return[]}function c_(t,e){return t!==null&&typeof t=="object"&&e in t}function f_(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function d_(t,e={}){const n=[],o=new Set;for(const a of t){const s=a.name;if(o.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);o.add(s);const u=f_(a,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function sy(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function h_(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ly(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let s=!1;for(const u of a){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function uy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(t){const e={},n=p(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const o=p(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>K_(u))),v(e,["inlinedResponses"],s)}const a=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["inlinedEmbedContentResponses"],s)}return e}function g_(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const o=p(t,["gcsDestination","outputUriPrefix"]);o!=null&&v(e,["gcsUri"],o);const a=p(t,["bigqueryDestination","outputUri"]);return a!=null&&v(e,["bigqueryUri"],a),e}function m_(t){const e={},n=p(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const o=p(t,["gcsUri"]);o!=null&&v(e,["gcsDestination","outputUriPrefix"],o);const a=p(t,["bigqueryUri"]);if(a!=null&&v(e,["bigqueryDestination","outputUri"],a),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ad(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["metadata","displayName"]);o!=null&&v(e,["displayName"],o);const a=p(t,["metadata","state"]);a!=null&&v(e,["state"],uy(a));const s=p(t,["metadata","createTime"]);s!=null&&v(e,["createTime"],s);const u=p(t,["metadata","endTime"]);u!=null&&v(e,["endTime"],u);const c=p(t,["metadata","updateTime"]);c!=null&&v(e,["updateTime"],c);const h=p(t,["metadata","model"]);h!=null&&v(e,["model"],h);const f=p(t,["metadata","output"]);return f!=null&&v(e,["dest"],p_(ly(f))),e}function Pp(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["displayName"]);o!=null&&v(e,["displayName"],o);const a=p(t,["state"]);a!=null&&v(e,["state"],uy(a));const s=p(t,["error"]);s!=null&&v(e,["error"],s);const u=p(t,["createTime"]);u!=null&&v(e,["createTime"],u);const c=p(t,["startTime"]);c!=null&&v(e,["startTime"],c);const h=p(t,["endTime"]);h!=null&&v(e,["endTime"],h);const f=p(t,["updateTime"]);f!=null&&v(e,["updateTime"],f);const g=p(t,["model"]);g!=null&&v(e,["model"],g);const _=p(t,["inputConfig"]);_!=null&&v(e,["src"],v_(_));const A=p(t,["outputConfig"]);A!=null&&v(e,["dest"],g_(ly(A)));const S=p(t,["completionStats"]);return S!=null&&v(e,["completionStats"],S),e}function v_(t){const e={},n=p(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const o=p(t,["gcsSource","uris"]);o!=null&&v(e,["gcsUri"],o);const a=p(t,["bigquerySource","inputUri"]);return a!=null&&v(e,["bigqueryUri"],a),e}function y_(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=p(e,["fileName"]);o!=null&&v(n,["fileName"],o);const a=p(e,["inlinedRequests"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>j_(t,u))),v(n,["requests","requests"],s)}return n}function b_(t){const e={},n=p(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const o=p(t,["gcsUri"]);o!=null&&v(e,["gcsSource","uris"],o);const a=p(t,["bigqueryUri"]);if(a!=null&&v(e,["bigquerySource","inputUri"],a),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function S_(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function __(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],nc(t,o)),n}function w_(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],nc(t,o)),n}function A_(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const o=p(t,["citationMetadata"]);o!=null&&v(e,["citationMetadata"],x_(o));const a=p(t,["tokenCount"]);a!=null&&v(e,["tokenCount"],a);const s=p(t,["finishReason"]);s!=null&&v(e,["finishReason"],s);const u=p(t,["avgLogprobs"]);u!=null&&v(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&v(e,["index"],h);const f=p(t,["logprobsResult"]);f!=null&&v(e,["logprobsResult"],f);const g=p(t,["safetyRatings"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(S=>S)),v(e,["safetyRatings"],A)}const _=p(t,["urlContextMetadata"]);return _!=null&&v(e,["urlContextMetadata"],_),e}function x_(t){const e={},n=p(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["citations"],o)}return e}function cy(t){const e={},n=p(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>tw(s))),v(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&v(e,["role"],o),e}function E_(t,e){const n={},o=p(t,["displayName"]);if(e!==void 0&&o!=null&&v(e,["batch","displayName"],o),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function T_(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=p(t,["dest"]);return e!==void 0&&a!=null&&v(e,["outputConfig"],m_(h_(a))),n}function a2(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["_url","model"],pn(t,o));const a=p(e,["src"]);a!=null&&v(n,["batch","inputConfig"],y_(t,sy(t,a)));const s=p(e,["config"]);return s!=null&&E_(s,n),n}function N_(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["model"],pn(t,o));const a=p(e,["src"]);a!=null&&v(n,["inputConfig"],b_(sy(t,a)));const s=p(e,["config"]);return s!=null&&T_(s,n),n}function C_(t,e){const n={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&v(e,["batch","displayName"],o),n}function L_(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["_url","model"],pn(t,o));const a=p(e,["src"]);a!=null&&v(n,["batch","inputConfig"],U_(t,a));const s=p(e,["config"]);return s!=null&&C_(s,n),n}function R_(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],nc(t,o)),n}function M_(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],nc(t,o)),n}function I_(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["name"]);o!=null&&v(e,["name"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);return s!=null&&v(e,["error"],s),e}function k_(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["name"]);o!=null&&v(e,["name"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);return s!=null&&v(e,["error"],s),e}function D_(t,e){const n={},o=p(e,["contents"]);if(o!=null){let s=f0(t,o);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["requests[]","request","content"],s)}const a=p(e,["config"]);return a!=null&&(v(n,["_self"],P_(a,n)),RS(n,{"requests[].*":"requests[].request.*"})),n}function P_(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&v(e,["requests[]","taskType"],o);const a=p(t,["title"]);e!==void 0&&a!=null&&v(e,["requests[]","title"],a);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&v(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U_(t,e){const n={},o=p(e,["fileName"]);o!=null&&v(n,["file_name"],o);const a=p(e,["inlinedRequests"]);return a!=null&&v(n,["requests"],D_(t,a)),n}function O_(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function F_(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const o=p(t,["args"]);o!=null&&v(e,["args"],o);const a=p(t,["name"]);if(a!=null&&v(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B_(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const o=p(t,["mode"]);if(o!=null&&v(e,["mode"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function q_(t,e,n){const o={},a=p(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],cy(lo(a)));const s=p(e,["temperature"]);s!=null&&v(o,["temperature"],s);const u=p(e,["topP"]);u!=null&&v(o,["topP"],u);const c=p(e,["topK"]);c!=null&&v(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&v(o,["candidateCount"],h);const f=p(e,["maxOutputTokens"]);f!=null&&v(o,["maxOutputTokens"],f);const g=p(e,["stopSequences"]);g!=null&&v(o,["stopSequences"],g);const _=p(e,["responseLogprobs"]);_!=null&&v(o,["responseLogprobs"],_);const A=p(e,["logprobs"]);A!=null&&v(o,["logprobs"],A);const S=p(e,["presencePenalty"]);S!=null&&v(o,["presencePenalty"],S);const C=p(e,["frequencyPenalty"]);C!=null&&v(o,["frequencyPenalty"],C);const I=p(e,["seed"]);I!=null&&v(o,["seed"],I);const M=p(e,["responseMimeType"]);M!=null&&v(o,["responseMimeType"],M);const R=p(e,["responseSchema"]);R!=null&&v(o,["responseSchema"],d0(R));const j=p(e,["responseJsonSchema"]);if(j!=null&&v(o,["responseJsonSchema"],j),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=p(e,["safetySettings"]);if(n!==void 0&&q!=null){let se=q;Array.isArray(se)&&(se=se.map(oe=>nw(oe))),v(n,["safetySettings"],se)}const B=p(e,["tools"]);if(n!==void 0&&B!=null){let se=tc(B);Array.isArray(se)&&(se=se.map(oe=>ow(ec(oe)))),v(n,["tools"],se)}const X=p(e,["toolConfig"]);if(n!==void 0&&X!=null&&v(n,["toolConfig"],iw(X)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ve=p(e,["cachedContent"]);n!==void 0&&ve!=null&&v(n,["cachedContent"],vs(t,ve));const de=p(e,["responseModalities"]);de!=null&&v(o,["responseModalities"],de);const re=p(e,["mediaResolution"]);re!=null&&v(o,["mediaResolution"],re);const G=p(e,["speechConfig"]);if(G!=null&&v(o,["speechConfig"],h0(G)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=p(e,["thinkingConfig"]);te!=null&&v(o,["thinkingConfig"],te);const U=p(e,["imageConfig"]);U!=null&&v(o,["imageConfig"],J_(U));const Y=p(e,["enableEnhancedCivicAnswers"]);if(Y!=null&&v(o,["enableEnhancedCivicAnswers"],Y),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function H_(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(f=>A_(f))),v(e,["candidates"],h)}const a=p(t,["modelVersion"]);a!=null&&v(e,["modelVersion"],a);const s=p(t,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const u=p(t,["responseId"]);u!=null&&v(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function z_(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],nc(t,o)),n}function G_(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],nc(t,o)),n}function V_(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Y_(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function J_(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const o=p(t,["imageSize"]);if(o!=null&&v(e,["imageSize"],o),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function j_(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["request","model"],pn(t,o));const a=p(e,["contents"]);if(a!=null){let c=Cr(a);Array.isArray(c)&&(c=c.map(h=>cy(h))),v(n,["request","contents"],c)}const s=p(e,["metadata"]);s!=null&&v(n,["metadata"],s);const u=p(e,["config"]);return u!=null&&v(n,["request","generationConfig"],q_(t,u,p(n,["request"],{}))),n}function K_(t){const e={},n=p(t,["response"]);n!=null&&v(e,["response"],H_(n));const o=p(t,["metadata"]);o!=null&&v(e,["metadata"],o);const a=p(t,["error"]);return a!=null&&v(e,["error"],a),e}function W_(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);if(e!==void 0&&a!=null&&v(e,["_query","pageToken"],a),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function X_(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const s=p(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),n}function Z_(t){const e={},n=p(t,["config"]);return n!=null&&W_(n,e),e}function Q_(t){const e={},n=p(t,["config"]);return n!=null&&X_(n,e),e}function $_(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["operations"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>ad(u))),v(e,["batchJobs"],s)}return e}function ew(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["batchPredictionJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Pp(u))),v(e,["batchJobs"],s)}return e}function tw(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&v(e,["executableCode"],a);const s=p(t,["fileData"]);s!=null&&v(e,["fileData"],O_(s));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],F_(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&v(e,["inlineData"],S_(h));const f=p(t,["text"]);f!=null&&v(e,["text"],f);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const _=p(t,["thoughtSignature"]);_!=null&&v(e,["thoughtSignature"],_);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function nw(t){const e={},n=p(t,["category"]);if(n!=null&&v(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&v(e,["threshold"],o),e}function iw(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const o=p(t,["functionCallingConfig"]);return o!=null&&v(e,["functionCallingConfig"],B_(o)),e}function ow(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["functionDeclarations"],g)}const u=p(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],V_(u));const c=p(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],Y_(c));const h=p(t,["googleSearchRetrieval"]);h!=null&&v(e,["googleSearchRetrieval"],h);const f=p(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ps;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ps||(ps={}));class Gl{constructor(e,n,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,a)}init(e,n,o){var a,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(a=u.config)===null||a===void 0?void 0:a.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rw extends ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Gl(ps.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=a2(this.apiClient,e),o=n._url,a=Xe("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,h=c.requests,f=[];for(const g of h){const _=Object.assign({},g);if(_.systemInstruction){const A=_.systemInstruction;delete _.systemInstruction;const S=_.request;S.systemInstruction=A,_.request=S}f.push(_)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const s=this.getGcsUri(e),u=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?o.dest=`${s.slice(0,-6)}/dest`:o.dest=`${s}_dest_${a}`;else if(u)o.dest=`${u}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=N_(this.apiClient,e);return c=Xe("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>Pp(g))}else{const f=a2(this.apiClient,e);return c=Xe("{model}:batchGenerateContent",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>ad(g))}}async createEmbeddingsInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=L_(this.apiClient,e);return s=Xe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>ad(h))}}async get(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=G_(this.apiClient,e);return c=Xe("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>Pp(g))}else{const f=z_(this.apiClient,e);return c=Xe("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>ad(g))}}async cancel(e){var n,o,a,s;let u="",c={};if(this.apiClient.isVertexAI()){const h=w_(this.apiClient,e);u=Xe("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const h=__(this.apiClient,e);u=Xe("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=Q_(e);return c=Xe("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=ew(g),A=new n2;return Object.assign(A,_),A})}else{const f=Z_(e);return c=Xe("batches",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=$_(g),A=new n2;return Object.assign(A,_),A})}}async delete(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=M_(this.apiClient,e);return c=Xe("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>k_(g))}else{const f=R_(this.apiClient,e);return c=Xe("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>I_(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aw(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function s2(t){const e={},n=p(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Lw(s))),v(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&v(e,["role"],o),e}function sw(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&v(e,["ttl"],o);const a=p(t,["expireTime"]);e!==void 0&&a!=null&&v(e,["expireTime"],a);const s=p(t,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let g=Cr(u);Array.isArray(g)&&(g=g.map(_=>s2(_))),v(e,["contents"],g)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],s2(lo(c)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>Mw(_))),v(e,["tools"],g)}const f=p(t,["toolConfig"]);if(e!==void 0&&f!=null&&v(e,["toolConfig"],Rw(f)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lw(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&v(e,["ttl"],o);const a=p(t,["expireTime"]);e!==void 0&&a!=null&&v(e,["expireTime"],a);const s=p(t,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let _=Cr(u);Array.isArray(_)&&(_=_.map(A=>A)),v(e,["contents"],_)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],lo(c));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(A=>Iw(A))),v(e,["tools"],_)}const f=p(t,["toolConfig"]);e!==void 0&&f!=null&&v(e,["toolConfig"],f);const g=p(t,["kmsKeyName"]);return e!==void 0&&g!=null&&v(e,["encryption_spec","kmsKeyName"],g),n}function uw(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["model"],Qv(t,o));const a=p(e,["config"]);return a!=null&&sw(a,n),n}function cw(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["model"],Qv(t,o));const a=p(e,["config"]);return a!=null&&lw(a,n),n}function fw(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],vs(t,o)),n}function dw(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],vs(t,o)),n}function hw(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function pw(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function gw(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function mw(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const o=p(t,["args"]);o!=null&&v(e,["args"],o);const a=p(t,["name"]);if(a!=null&&v(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vw(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const o=p(t,["mode"]);if(o!=null&&v(e,["mode"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yw(t){const e={},n=p(t,["description"]);n!=null&&v(e,["description"],n);const o=p(t,["name"]);o!=null&&v(e,["name"],o);const a=p(t,["parameters"]);a!=null&&v(e,["parameters"],a);const s=p(t,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const c=p(t,["responseJsonSchema"]);if(c!=null&&v(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bw(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],vs(t,o)),n}function Sw(t,e){const n={},o=p(e,["name"]);return o!=null&&v(n,["_url","name"],vs(t,o)),n}function _w(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function ww(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Aw(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&v(e,["_query","pageToken"],a),n}function xw(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&v(e,["_query","pageToken"],a),n}function Ew(t){const e={},n=p(t,["config"]);return n!=null&&Aw(n,e),e}function Tw(t){const e={},n=p(t,["config"]);return n!=null&&xw(n,e),e}function Nw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["cachedContents"],s)}return e}function Cw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["cachedContents"],s)}return e}function Lw(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&v(e,["executableCode"],a);const s=p(t,["fileData"]);s!=null&&v(e,["fileData"],gw(s));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],mw(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&v(e,["inlineData"],aw(h));const f=p(t,["text"]);f!=null&&v(e,["text"],f);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const _=p(t,["thoughtSignature"]);_!=null&&v(e,["thoughtSignature"],_);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function Rw(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const o=p(t,["functionCallingConfig"]);return o!=null&&v(e,["functionCallingConfig"],vw(o)),e}function Mw(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["functionDeclarations"],g)}const u=p(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],_w(u));const c=p(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],ww(c));const h=p(t,["googleSearchRetrieval"]);h!=null&&v(e,["googleSearchRetrieval"],h);const f=p(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function Iw(t){const e={},n=p(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const o=p(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&v(e,["enterpriseWebSearch"],s);const u=p(t,["functionDeclarations"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(A=>yw(A))),v(e,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const h=p(t,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const f=p(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const g=p(t,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function kw(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&v(e,["ttl"],o);const a=p(t,["expireTime"]);return e!==void 0&&a!=null&&v(e,["expireTime"],a),n}function Dw(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&v(e,["ttl"],o);const a=p(t,["expireTime"]);return e!==void 0&&a!=null&&v(e,["expireTime"],a),n}function Pw(t,e){const n={},o=p(e,["name"]);o!=null&&v(n,["_url","name"],vs(t,o));const a=p(e,["config"]);return a!=null&&kw(a,n),n}function Uw(t,e){const n={},o=p(e,["name"]);o!=null&&v(n,["_url","name"],vs(t,o));const a=p(e,["config"]);return a!=null&&Dw(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Gl(ps.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=cw(this.apiClient,e);return c=Xe("cachedContents",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const f=uw(this.apiClient,e);return c=Xe("cachedContents",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=Sw(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const f=bw(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=dw(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=pw(g),A=new e2;return Object.assign(A,_),A})}else{const f=fw(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=hw(g),A=new e2;return Object.assign(A,_),A})}}async update(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=Uw(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const f=Pw(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=Tw(e);return c=Xe("cachedContents",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=Cw(g),A=new t2;return Object.assign(A,_),A})}else{const f=Ew(e);return c=Xe("cachedContents",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=Nw(g),A=new t2;return Object.assign(A,_),A})}}}function md(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n}function l2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t){return this instanceof kt?(this.v=t,this):new kt(t)}function aa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(S){return function(C){return Promise.resolve(C).then(S,_)}}function c(S,C){o[S]&&(a[S]=function(I){return new Promise(function(M,R){s.push([S,I,M,R])>1||h(S,I)})},C&&(a[S]=C(a[S])))}function h(S,C){try{f(o[S](C))}catch(I){A(s[0][3],I)}}function f(S){S.value instanceof kt?Promise.resolve(S.value.v).then(g,_):A(s[0][2],S)}function g(S){h("next",S)}function _(S){h("throw",S)}function A(S,C){S(C),s.shift(),s.length&&h(s[0][0],s[0][1])}}function sa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof l2=="function"?l2(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(s){n[s]=t[s]&&function(u){return new Promise(function(c,h){u=t[s](u),a(c,h,u.done,u.value)})}}function a(s,u,c,h){Promise.resolve(h).then(function(f){s({value:f,done:c})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:fy(n)}function fy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Bw(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function u2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let s=!0;for(;o<n&&t[o].role==="model";)a.push(t[o]),s&&!fy(t[o])&&(s=!1),o++;s?e.push(...a):e.pop()}return e}class qw{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Hw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Hw{constructor(e,n,o,a={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=a,this.history=s,this.sendPromise=Promise.resolve(),Bw(s)}async sendMessage(e){var n;await this.sendPromise;const o=lo(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,u,c;const h=await a,f=(u=(s=h.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,g=h.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let A=[];g!=null&&(A=(c=g.slice(_))!==null&&c!==void 0?c:[]);const S=f?[f]:[];this.recordHistory(o,S,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const o=lo(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const s=await a;return this.processStreamResponse(s,o)}getHistory(e=!1){const n=e?u2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return aa(this,arguments,function*(){var a,s,u,c,h,f;const g=[];try{for(var _=!0,A=sa(e),S;S=yield kt(A.next()),a=S.done,!a;_=!0){c=S.value,_=!1;const C=c;if(Fw(C)){const I=(f=(h=C.candidates)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.content;I!==void 0&&g.push(I)}yield yield kt(C)}}catch(C){s={error:C}}finally{try{!_&&!a&&(u=A.return)&&(yield kt(u.call(A)))}finally{if(s)throw s.error}}this.recordHistory(n,g)})}recordHistory(e,n,o){let a=[];n.length>0&&n.every(s=>s.role!==void 0)?a=n:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...u2(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(t){const e={},n=p(t,["file"]);return n!=null&&v(e,["file"],n),e}function Gw(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Vw(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],oy(n)),e}function Yw(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Jw(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],oy(n)),e}function jw(t){const e={},n=p(t,["uris"]);return n!=null&&v(e,["uris"],n),e}function Kw(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&v(e,["_query","pageToken"],a),n}function Ww(t){const e={},n=p(t,["config"]);return n!=null&&Kw(n,e),e}function Xw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["files"],s)}return e}function Zw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),v(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw extends ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Gl(ps.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ww(e);return s=Xe("files",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const f=Xw(h),g=new $S;return Object.assign(g,f),g})}}async createInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=zw(e);return s=Xe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=Gw(h),g=new e_;return Object.assign(g,f),g})}}async get(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Jw(e);return s=Xe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Vw(e);return s=Xe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const f=Yw(h),g=new t_;return Object.assign(g,f),g})}}async registerFilesInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jw(e);return s=Xe("files:register",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=Zw(h),g=new n_;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sd(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function $w(t){const e={},n=p(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>gA(s))),v(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&v(e,["role"],o),e}function eA(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function tA(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const o=p(t,["args"]);o!=null&&v(e,["args"],o);const a=p(t,["name"]);if(a!=null&&v(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nA(t){const e={},n=p(t,["description"]);n!=null&&v(e,["description"],n);const o=p(t,["name"]);o!=null&&v(e,["name"],o);const a=p(t,["parameters"]);a!=null&&v(e,["parameters"],a);const s=p(t,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const c=p(t,["responseJsonSchema"]);if(c!=null&&v(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function iA(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const o=p(t,["responseJsonSchema"]);o!=null&&v(e,["responseJsonSchema"],o);const a=p(t,["audioTimestamp"]);a!=null&&v(e,["audioTimestamp"],a);const s=p(t,["candidateCount"]);s!=null&&v(e,["candidateCount"],s);const u=p(t,["enableAffectiveDialog"]);u!=null&&v(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&v(e,["logprobs"],h);const f=p(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const g=p(t,["mediaResolution"]);g!=null&&v(e,["mediaResolution"],g);const _=p(t,["presencePenalty"]);_!=null&&v(e,["presencePenalty"],_);const A=p(t,["responseLogprobs"]);A!=null&&v(e,["responseLogprobs"],A);const S=p(t,["responseMimeType"]);S!=null&&v(e,["responseMimeType"],S);const C=p(t,["responseModalities"]);C!=null&&v(e,["responseModalities"],C);const I=p(t,["responseSchema"]);I!=null&&v(e,["responseSchema"],I);const M=p(t,["routingConfig"]);M!=null&&v(e,["routingConfig"],M);const R=p(t,["seed"]);R!=null&&v(e,["seed"],R);const j=p(t,["speechConfig"]);j!=null&&v(e,["speechConfig"],j);const q=p(t,["stopSequences"]);q!=null&&v(e,["stopSequences"],q);const B=p(t,["temperature"]);B!=null&&v(e,["temperature"],B);const X=p(t,["thinkingConfig"]);X!=null&&v(e,["thinkingConfig"],X);const ve=p(t,["topK"]);ve!=null&&v(e,["topK"],ve);const de=p(t,["topP"]);if(de!=null&&v(e,["topP"],de),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oA(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function rA(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function aA(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig"],o);const a=p(t,["responseModalities"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","responseModalities"],a);const s=p(t,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","maxOutputTokens"],h);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const g=p(t,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&v(e,["setup","generationConfig","speechConfig"],p0(_));const A=p(t,["thinkingConfig"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","thinkingConfig"],A);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=p(t,["systemInstruction"]);e!==void 0&&C!=null&&v(e,["setup","systemInstruction"],$w(lo(C)));const I=p(t,["tools"]);if(e!==void 0&&I!=null){let ve=tc(I);Array.isArray(ve)&&(ve=ve.map(de=>vA(ec(de)))),v(e,["setup","tools"],ve)}const M=p(t,["sessionResumption"]);e!==void 0&&M!=null&&v(e,["setup","sessionResumption"],mA(M));const R=p(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&v(e,["setup","inputAudioTranscription"],R);const j=p(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&v(e,["setup","outputAudioTranscription"],j);const q=p(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&v(e,["setup","realtimeInputConfig"],q);const B=p(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const X=p(t,["proactivity"]);if(e!==void 0&&X!=null&&v(e,["setup","proactivity"],X),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function sA(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig"],iA(o));const a=p(t,["responseModalities"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","responseModalities"],a);const s=p(t,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","maxOutputTokens"],h);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const g=p(t,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&v(e,["setup","generationConfig","speechConfig"],p0(_));const A=p(t,["thinkingConfig"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","thinkingConfig"],A);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=p(t,["systemInstruction"]);e!==void 0&&C!=null&&v(e,["setup","systemInstruction"],lo(C));const I=p(t,["tools"]);if(e!==void 0&&I!=null){let de=tc(I);Array.isArray(de)&&(de=de.map(re=>yA(ec(re)))),v(e,["setup","tools"],de)}const M=p(t,["sessionResumption"]);e!==void 0&&M!=null&&v(e,["setup","sessionResumption"],M);const R=p(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&v(e,["setup","inputAudioTranscription"],R);const j=p(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&v(e,["setup","outputAudioTranscription"],j);const q=p(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&v(e,["setup","realtimeInputConfig"],q);const B=p(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const X=p(t,["proactivity"]);e!==void 0&&X!=null&&v(e,["setup","proactivity"],X);const ve=p(t,["explicitVadSignal"]);return e!==void 0&&ve!=null&&v(e,["setup","explicitVadSignal"],ve),n}function lA(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["setup","model"],pn(t,o));const a=p(e,["config"]);return a!=null&&v(n,["config"],aA(a,n)),n}function uA(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["setup","model"],pn(t,o));const a=p(e,["config"]);return a!=null&&v(n,["config"],sA(a,n)),n}function cA(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function fA(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["weightedPrompts"],o)}return e}function dA(t){const e={},n=p(t,["media"]);if(n!=null){let f=$v(n);Array.isArray(f)&&(f=f.map(g=>sd(g))),v(e,["mediaChunks"],f)}const o=p(t,["audio"]);o!=null&&v(e,["audio"],sd(ty(o)));const a=p(t,["audioStreamEnd"]);a!=null&&v(e,["audioStreamEnd"],a);const s=p(t,["video"]);s!=null&&v(e,["video"],sd(ey(s)));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&v(e,["activityEnd"],h),e}function hA(t){const e={},n=p(t,["media"]);if(n!=null){let f=$v(n);Array.isArray(f)&&(f=f.map(g=>g)),v(e,["mediaChunks"],f)}const o=p(t,["audio"]);o!=null&&v(e,["audio"],ty(o));const a=p(t,["audioStreamEnd"]);a!=null&&v(e,["audioStreamEnd"],a);const s=p(t,["video"]);s!=null&&v(e,["video"],ey(s));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&v(e,["activityEnd"],h),e}function pA(t){const e={},n=p(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const o=p(t,["serverContent"]);o!=null&&v(e,["serverContent"],o);const a=p(t,["toolCall"]);a!=null&&v(e,["toolCall"],a);const s=p(t,["toolCallCancellation"]);s!=null&&v(e,["toolCallCancellation"],s);const u=p(t,["usageMetadata"]);u!=null&&v(e,["usageMetadata"],bA(u));const c=p(t,["goAway"]);c!=null&&v(e,["goAway"],c);const h=p(t,["sessionResumptionUpdate"]);h!=null&&v(e,["sessionResumptionUpdate"],h);const f=p(t,["voiceActivityDetectionSignal"]);f!=null&&v(e,["voiceActivityDetectionSignal"],f);const g=p(t,["voiceActivity"]);return g!=null&&v(e,["voiceActivity"],SA(g)),e}function gA(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&v(e,["executableCode"],a);const s=p(t,["fileData"]);s!=null&&v(e,["fileData"],eA(s));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],tA(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&v(e,["inlineData"],sd(h));const f=p(t,["text"]);f!=null&&v(e,["text"],f);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const _=p(t,["thoughtSignature"]);_!=null&&v(e,["thoughtSignature"],_);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function mA(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vA(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["functionDeclarations"],g)}const u=p(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],oA(u));const c=p(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],rA(c));const h=p(t,["googleSearchRetrieval"]);h!=null&&v(e,["googleSearchRetrieval"],h);const f=p(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function yA(t){const e={},n=p(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const o=p(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&v(e,["enterpriseWebSearch"],s);const u=p(t,["functionDeclarations"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(A=>nA(A))),v(e,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const h=p(t,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const f=p(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const g=p(t,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function bA(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const o=p(t,["cachedContentTokenCount"]);o!=null&&v(e,["cachedContentTokenCount"],o);const a=p(t,["candidatesTokenCount"]);a!=null&&v(e,["responseTokenCount"],a);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&v(e,["toolUsePromptTokenCount"],s);const u=p(t,["thoughtsTokenCount"]);u!=null&&v(e,["thoughtsTokenCount"],u);const c=p(t,["totalTokenCount"]);c!=null&&v(e,["totalTokenCount"],c);const h=p(t,["promptTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(C=>C)),v(e,["promptTokensDetails"],S)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(C=>C)),v(e,["cacheTokensDetails"],S)}const g=p(t,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(C=>C)),v(e,["responseTokensDetails"],S)}const _=p(t,["toolUsePromptTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(C=>C)),v(e,["toolUsePromptTokensDetails"],S)}const A=p(t,["trafficType"]);return A!=null&&v(e,["trafficType"],A),e}function SA(t){const e={},n=p(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _A(t,e){const n={},o=p(t,["data"]);if(o!=null&&v(n,["data"],o),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=p(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function wA(t,e){const n={},o=p(t,["content"]);o!=null&&v(n,["content"],o);const a=p(t,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],AA(a));const s=p(t,["tokenCount"]);s!=null&&v(n,["tokenCount"],s);const u=p(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const c=p(t,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const h=p(t,["groundingMetadata"]);h!=null&&v(n,["groundingMetadata"],h);const f=p(t,["index"]);f!=null&&v(n,["index"],f);const g=p(t,["logprobsResult"]);g!=null&&v(n,["logprobsResult"],g);const _=p(t,["safetyRatings"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(C=>C)),v(n,["safetyRatings"],S)}const A=p(t,["urlContextMetadata"]);return A!=null&&v(n,["urlContextMetadata"],A),n}function AA(t,e){const n={},o=p(t,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),v(n,["citations"],a)}return n}function xA(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let u=Cr(s);Array.isArray(u)&&(u=u.map(c=>c)),v(o,["contents"],u)}return o}function EA(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["tokensInfo"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(n,["tokensInfo"],s)}return n}function TA(t,e){const n={},o=p(t,["values"]);o!=null&&v(n,["values"],o);const a=p(t,["statistics"]);return a!=null&&v(n,["statistics"],NA(a)),n}function NA(t,e){const n={},o=p(t,["truncated"]);o!=null&&v(n,["truncated"],o);const a=p(t,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Td(t,e){const n={},o=p(t,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>U3(u))),v(n,["parts"],s)}const a=p(t,["role"]);return a!=null&&v(n,["role"],a),n}function CA(t,e){const n={},o=p(t,["controlType"]);o!=null&&v(n,["controlType"],o);const a=p(t,["enableControlImageComputation"]);return a!=null&&v(n,["computeControl"],a),n}function LA(t,e){const n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function RA(t,e,n){const o={},a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&v(e,["systemInstruction"],lo(a));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>gy(h))),v(e,["tools"],c)}const u=p(t,["generationConfig"]);return e!==void 0&&u!=null&&v(e,["generationConfig"],_3(u)),o}function MA(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let c=Cr(s);Array.isArray(c)&&(c=c.map(h=>Td(h))),v(o,["contents"],c)}const u=p(e,["config"]);return u!=null&&LA(u),o}function IA(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let c=Cr(s);Array.isArray(c)&&(c=c.map(h=>h)),v(o,["contents"],c)}const u=p(e,["config"]);return u!=null&&RA(u,o),o}function kA(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["totalTokens"]);a!=null&&v(n,["totalTokens"],a);const s=p(t,["cachedContentTokenCount"]);return s!=null&&v(n,["cachedContentTokenCount"],s),n}function DA(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["totalTokens"]);return a!=null&&v(n,["totalTokens"],a),n}function PA(t,e,n){const o={},a=p(e,["model"]);return a!=null&&v(o,["_url","name"],pn(t,a)),o}function UA(t,e,n){const o={},a=p(e,["model"]);return a!=null&&v(o,["_url","name"],pn(t,a)),o}function OA(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&v(n,["sdkHttpResponse"],o),n}function FA(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&v(n,["sdkHttpResponse"],o),n}function BA(t,e,n){const o={},a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const u=p(t,["numberOfImages"]);e!==void 0&&u!=null&&v(e,["parameters","sampleCount"],u);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const h=p(t,["guidanceScale"]);e!==void 0&&h!=null&&v(e,["parameters","guidanceScale"],h);const f=p(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const g=p(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&v(e,["parameters","safetySetting"],g);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&v(e,["parameters","personGeneration"],_);const A=p(t,["includeSafetyAttributes"]);e!==void 0&&A!=null&&v(e,["parameters","includeSafetyAttributes"],A);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&v(e,["parameters","includeRaiReason"],S);const C=p(t,["language"]);e!==void 0&&C!=null&&v(e,["parameters","language"],C);const I=p(t,["outputMimeType"]);e!==void 0&&I!=null&&v(e,["parameters","outputOptions","mimeType"],I);const M=p(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&v(e,["parameters","outputOptions","compressionQuality"],M);const R=p(t,["addWatermark"]);e!==void 0&&R!=null&&v(e,["parameters","addWatermark"],R);const j=p(t,["labels"]);e!==void 0&&j!=null&&v(e,["labels"],j);const q=p(t,["editMode"]);e!==void 0&&q!=null&&v(e,["parameters","editMode"],q);const B=p(t,["baseSteps"]);return e!==void 0&&B!=null&&v(e,["parameters","editConfig","baseSteps"],B),o}function qA(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["prompt"]);s!=null&&v(o,["instances[0]","prompt"],s);const u=p(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(f=>z3(f))),v(o,["instances[0]","referenceImages"],h)}const c=p(e,["config"]);return c!=null&&BA(c,o),o}function HA(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Nd(u))),v(n,["generatedImages"],s)}return n}function zA(t,e,n){const o={},a=p(t,["taskType"]);e!==void 0&&a!=null&&v(e,["requests[]","taskType"],a);const s=p(t,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const u=p(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&v(e,["requests[]","outputDimensionality"],u),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function GA(t,e,n){const o={},a=p(t,["taskType"]);e!==void 0&&a!=null&&v(e,["instances[]","task_type"],a);const s=p(t,["title"]);e!==void 0&&s!=null&&v(e,["instances[]","title"],s);const u=p(t,["outputDimensionality"]);e!==void 0&&u!=null&&v(e,["parameters","outputDimensionality"],u);const c=p(t,["mimeType"]);e!==void 0&&c!=null&&v(e,["instances[]","mimeType"],c);const h=p(t,["autoTruncate"]);return e!==void 0&&h!=null&&v(e,["parameters","autoTruncate"],h),o}function VA(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let h=f0(t,s);Array.isArray(h)&&(h=h.map(f=>f)),v(o,["requests[]","content"],h)}const u=p(e,["config"]);u!=null&&zA(u,o);const c=p(e,["model"]);return c!==void 0&&v(o,["requests[]","model"],pn(t,c)),o}function YA(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let c=f0(t,s);Array.isArray(c)&&(c=c.map(h=>h)),v(o,["instances[]","content"],c)}const u=p(e,["config"]);return u!=null&&GA(u,o),o}function JA(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),v(n,["embeddings"],u)}const s=p(t,["metadata"]);return s!=null&&v(n,["metadata"],s),n}function jA(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["predictions[]","embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>TA(c))),v(n,["embeddings"],u)}const s=p(t,["metadata"]);return s!=null&&v(n,["metadata"],s),n}function KA(t,e){const n={},o=p(t,["endpoint"]);o!=null&&v(n,["name"],o);const a=p(t,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function WA(t,e){const n={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["fileUri"]);o!=null&&v(n,["fileUri"],o);const a=p(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function XA(t,e){const n={},o=p(t,["id"]);o!=null&&v(n,["id"],o);const a=p(t,["args"]);a!=null&&v(n,["args"],a);const s=p(t,["name"]);if(s!=null&&v(n,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function ZA(t,e){const n={},o=p(t,["allowedFunctionNames"]);o!=null&&v(n,["allowedFunctionNames"],o);const a=p(t,["mode"]);if(a!=null&&v(n,["mode"],a),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function QA(t,e){const n={},o=p(t,["description"]);o!=null&&v(n,["description"],o);const a=p(t,["name"]);a!=null&&v(n,["name"],a);const s=p(t,["parameters"]);s!=null&&v(n,["parameters"],s);const u=p(t,["parametersJsonSchema"]);u!=null&&v(n,["parametersJsonSchema"],u);const c=p(t,["response"]);c!=null&&v(n,["response"],c);const h=p(t,["responseJsonSchema"]);if(h!=null&&v(n,["responseJsonSchema"],h),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function $A(t,e,n,o){const a={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Td(lo(s)));const u=p(e,["temperature"]);u!=null&&v(a,["temperature"],u);const c=p(e,["topP"]);c!=null&&v(a,["topP"],c);const h=p(e,["topK"]);h!=null&&v(a,["topK"],h);const f=p(e,["candidateCount"]);f!=null&&v(a,["candidateCount"],f);const g=p(e,["maxOutputTokens"]);g!=null&&v(a,["maxOutputTokens"],g);const _=p(e,["stopSequences"]);_!=null&&v(a,["stopSequences"],_);const A=p(e,["responseLogprobs"]);A!=null&&v(a,["responseLogprobs"],A);const S=p(e,["logprobs"]);S!=null&&v(a,["logprobs"],S);const C=p(e,["presencePenalty"]);C!=null&&v(a,["presencePenalty"],C);const I=p(e,["frequencyPenalty"]);I!=null&&v(a,["frequencyPenalty"],I);const M=p(e,["seed"]);M!=null&&v(a,["seed"],M);const R=p(e,["responseMimeType"]);R!=null&&v(a,["responseMimeType"],R);const j=p(e,["responseSchema"]);j!=null&&v(a,["responseSchema"],d0(j));const q=p(e,["responseJsonSchema"]);if(q!=null&&v(a,["responseJsonSchema"],q),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=p(e,["safetySettings"]);if(n!==void 0&&B!=null){let oe=B;Array.isArray(oe)&&(oe=oe.map(Ae=>G3(Ae))),v(n,["safetySettings"],oe)}const X=p(e,["tools"]);if(n!==void 0&&X!=null){let oe=tc(X);Array.isArray(oe)&&(oe=oe.map(Ae=>X3(ec(Ae)))),v(n,["tools"],oe)}const ve=p(e,["toolConfig"]);if(n!==void 0&&ve!=null&&v(n,["toolConfig"],W3(ve)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=p(e,["cachedContent"]);n!==void 0&&de!=null&&v(n,["cachedContent"],vs(t,de));const re=p(e,["responseModalities"]);re!=null&&v(a,["responseModalities"],re);const G=p(e,["mediaResolution"]);G!=null&&v(a,["mediaResolution"],G);const te=p(e,["speechConfig"]);if(te!=null&&v(a,["speechConfig"],h0(te)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=p(e,["thinkingConfig"]);U!=null&&v(a,["thinkingConfig"],U);const Y=p(e,["imageConfig"]);Y!=null&&v(a,["imageConfig"],T3(Y));const se=p(e,["enableEnhancedCivicAnswers"]);if(se!=null&&v(a,["enableEnhancedCivicAnswers"],se),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function e3(t,e,n,o){const a={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],lo(s));const u=p(e,["temperature"]);u!=null&&v(a,["temperature"],u);const c=p(e,["topP"]);c!=null&&v(a,["topP"],c);const h=p(e,["topK"]);h!=null&&v(a,["topK"],h);const f=p(e,["candidateCount"]);f!=null&&v(a,["candidateCount"],f);const g=p(e,["maxOutputTokens"]);g!=null&&v(a,["maxOutputTokens"],g);const _=p(e,["stopSequences"]);_!=null&&v(a,["stopSequences"],_);const A=p(e,["responseLogprobs"]);A!=null&&v(a,["responseLogprobs"],A);const S=p(e,["logprobs"]);S!=null&&v(a,["logprobs"],S);const C=p(e,["presencePenalty"]);C!=null&&v(a,["presencePenalty"],C);const I=p(e,["frequencyPenalty"]);I!=null&&v(a,["frequencyPenalty"],I);const M=p(e,["seed"]);M!=null&&v(a,["seed"],M);const R=p(e,["responseMimeType"]);R!=null&&v(a,["responseMimeType"],R);const j=p(e,["responseSchema"]);j!=null&&v(a,["responseSchema"],d0(j));const q=p(e,["responseJsonSchema"]);q!=null&&v(a,["responseJsonSchema"],q);const B=p(e,["routingConfig"]);B!=null&&v(a,["routingConfig"],B);const X=p(e,["modelSelectionConfig"]);X!=null&&v(a,["modelConfig"],X);const ve=p(e,["safetySettings"]);if(n!==void 0&&ve!=null){let ue=ve;Array.isArray(ue)&&(ue=ue.map(we=>we)),v(n,["safetySettings"],ue)}const de=p(e,["tools"]);if(n!==void 0&&de!=null){let ue=tc(de);Array.isArray(ue)&&(ue=ue.map(we=>gy(ec(we)))),v(n,["tools"],ue)}const re=p(e,["toolConfig"]);n!==void 0&&re!=null&&v(n,["toolConfig"],re);const G=p(e,["labels"]);n!==void 0&&G!=null&&v(n,["labels"],G);const te=p(e,["cachedContent"]);n!==void 0&&te!=null&&v(n,["cachedContent"],vs(t,te));const U=p(e,["responseModalities"]);U!=null&&v(a,["responseModalities"],U);const Y=p(e,["mediaResolution"]);Y!=null&&v(a,["mediaResolution"],Y);const se=p(e,["speechConfig"]);se!=null&&v(a,["speechConfig"],h0(se));const oe=p(e,["audioTimestamp"]);oe!=null&&v(a,["audioTimestamp"],oe);const Ae=p(e,["thinkingConfig"]);Ae!=null&&v(a,["thinkingConfig"],Ae);const ne=p(e,["imageConfig"]);if(ne!=null&&v(a,["imageConfig"],N3(ne)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ae=p(e,["modelArmorConfig"]);return n!==void 0&&ae!=null&&v(n,["modelArmorConfig"],ae),a}function c2(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let c=Cr(s);Array.isArray(c)&&(c=c.map(h=>Td(h))),v(o,["contents"],c)}const u=p(e,["config"]);return u!=null&&v(o,["generationConfig"],$A(t,u,o)),o}function f2(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["contents"]);if(s!=null){let c=Cr(s);Array.isArray(c)&&(c=c.map(h=>h)),v(o,["contents"],c)}const u=p(e,["config"]);return u!=null&&v(o,["generationConfig"],e3(t,u,o)),o}function d2(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>wA(g))),v(n,["candidates"],f)}const s=p(t,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=p(t,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const c=p(t,["responseId"]);c!=null&&v(n,["responseId"],c);const h=p(t,["usageMetadata"]);return h!=null&&v(n,["usageMetadata"],h),n}function h2(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(_=>_)),v(n,["candidates"],g)}const s=p(t,["createTime"]);s!=null&&v(n,["createTime"],s);const u=p(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const c=p(t,["promptFeedback"]);c!=null&&v(n,["promptFeedback"],c);const h=p(t,["responseId"]);h!=null&&v(n,["responseId"],h);const f=p(t,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function t3(t,e,n){const o={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);if(e!==void 0&&u!=null&&v(e,["parameters","guidanceScale"],u),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const g=p(t,["includeRaiReason"]);e!==void 0&&g!=null&&v(e,["parameters","includeRaiReason"],g);const _=p(t,["language"]);e!==void 0&&_!=null&&v(e,["parameters","language"],_);const A=p(t,["outputMimeType"]);e!==void 0&&A!=null&&v(e,["parameters","outputOptions","mimeType"],A);const S=p(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&v(e,["parameters","outputOptions","compressionQuality"],S),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(t,["imageSize"]);if(e!==void 0&&C!=null&&v(e,["parameters","sampleImageSize"],C),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function n3(t,e,n){const o={},a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const u=p(t,["numberOfImages"]);e!==void 0&&u!=null&&v(e,["parameters","sampleCount"],u);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const h=p(t,["guidanceScale"]);e!==void 0&&h!=null&&v(e,["parameters","guidanceScale"],h);const f=p(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const g=p(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&v(e,["parameters","safetySetting"],g);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&v(e,["parameters","personGeneration"],_);const A=p(t,["includeSafetyAttributes"]);e!==void 0&&A!=null&&v(e,["parameters","includeSafetyAttributes"],A);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&v(e,["parameters","includeRaiReason"],S);const C=p(t,["language"]);e!==void 0&&C!=null&&v(e,["parameters","language"],C);const I=p(t,["outputMimeType"]);e!==void 0&&I!=null&&v(e,["parameters","outputOptions","mimeType"],I);const M=p(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&v(e,["parameters","outputOptions","compressionQuality"],M);const R=p(t,["addWatermark"]);e!==void 0&&R!=null&&v(e,["parameters","addWatermark"],R);const j=p(t,["labels"]);e!==void 0&&j!=null&&v(e,["labels"],j);const q=p(t,["imageSize"]);e!==void 0&&q!=null&&v(e,["parameters","sampleImageSize"],q);const B=p(t,["enhancePrompt"]);return e!==void 0&&B!=null&&v(e,["parameters","enhancePrompt"],B),o}function i3(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["prompt"]);s!=null&&v(o,["instances[0]","prompt"],s);const u=p(e,["config"]);return u!=null&&t3(u,o),o}function o3(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["prompt"]);s!=null&&v(o,["instances[0]","prompt"],s);const u=p(e,["config"]);return u!=null&&n3(u,o),o}function r3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>v3(c))),v(n,["generatedImages"],u)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&v(n,["positivePromptSafetyAttributes"],hy(s)),n}function a3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Nd(c))),v(n,["generatedImages"],u)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&v(n,["positivePromptSafetyAttributes"],py(s)),n}function s3(t,e,n){const o={},a=p(t,["numberOfVideos"]);if(e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const c=p(t,["resolution"]);e!==void 0&&c!=null&&v(e,["parameters","resolution"],c);const h=p(t,["personGeneration"]);if(e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const g=p(t,["enhancePrompt"]);if(e!==void 0&&g!=null&&v(e,["parameters","enhancePrompt"],g),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=p(t,["lastFrame"]);e!==void 0&&_!=null&&v(e,["instances[0]","lastFrame"],Cd(_));const A=p(t,["referenceImages"]);if(e!==void 0&&A!=null){let S=A;Array.isArray(S)&&(S=S.map(C=>u4(C))),v(e,["instances[0]","referenceImages"],S)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function l3(t,e,n){const o={},a=p(t,["numberOfVideos"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const u=p(t,["fps"]);e!==void 0&&u!=null&&v(e,["parameters","fps"],u);const c=p(t,["durationSeconds"]);e!==void 0&&c!=null&&v(e,["parameters","durationSeconds"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&v(e,["parameters","seed"],h);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const g=p(t,["resolution"]);e!==void 0&&g!=null&&v(e,["parameters","resolution"],g);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&v(e,["parameters","personGeneration"],_);const A=p(t,["pubsubTopic"]);e!==void 0&&A!=null&&v(e,["parameters","pubsubTopic"],A);const S=p(t,["negativePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","negativePrompt"],S);const C=p(t,["enhancePrompt"]);e!==void 0&&C!=null&&v(e,["parameters","enhancePrompt"],C);const I=p(t,["generateAudio"]);e!==void 0&&I!=null&&v(e,["parameters","generateAudio"],I);const M=p(t,["lastFrame"]);e!==void 0&&M!=null&&v(e,["instances[0]","lastFrame"],ua(M));const R=p(t,["referenceImages"]);if(e!==void 0&&R!=null){let B=R;Array.isArray(B)&&(B=B.map(X=>c4(X))),v(e,["instances[0]","referenceImages"],B)}const j=p(t,["mask"]);e!==void 0&&j!=null&&v(e,["instances[0]","mask"],l4(j));const q=p(t,["compressionQuality"]);return e!==void 0&&q!=null&&v(e,["parameters","compressionQuality"],q),o}function u3(t,e){const n={},o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["metadata"]);a!=null&&v(n,["metadata"],a);const s=p(t,["done"]);s!=null&&v(n,["done"],s);const u=p(t,["error"]);u!=null&&v(n,["error"],u);const c=p(t,["response","generateVideoResponse"]);return c!=null&&v(n,["response"],h3(c)),n}function c3(t,e){const n={},o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["metadata"]);a!=null&&v(n,["metadata"],a);const s=p(t,["done"]);s!=null&&v(n,["done"],s);const u=p(t,["error"]);u!=null&&v(n,["error"],u);const c=p(t,["response"]);return c!=null&&v(n,["response"],p3(c)),n}function f3(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["prompt"]);s!=null&&v(o,["instances[0]","prompt"],s);const u=p(e,["image"]);u!=null&&v(o,["instances[0]","image"],Cd(u));const c=p(e,["video"]);c!=null&&v(o,["instances[0]","video"],my(c));const h=p(e,["source"]);h!=null&&g3(h,o);const f=p(e,["config"]);return f!=null&&s3(f,o),o}function d3(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["prompt"]);s!=null&&v(o,["instances[0]","prompt"],s);const u=p(e,["image"]);u!=null&&v(o,["instances[0]","image"],ua(u));const c=p(e,["video"]);c!=null&&v(o,["instances[0]","video"],vy(c));const h=p(e,["source"]);h!=null&&m3(h,o);const f=p(e,["config"]);return f!=null&&l3(f,o),o}function h3(t,e){const n={},o=p(t,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>b3(c))),v(n,["generatedVideos"],u)}const a=p(t,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&v(n,["raiMediaFilteredReasons"],s),n}function p3(t,e){const n={},o=p(t,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>S3(c))),v(n,["generatedVideos"],u)}const a=p(t,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&v(n,["raiMediaFilteredReasons"],s),n}function g3(t,e,n){const o={},a=p(t,["prompt"]);e!==void 0&&a!=null&&v(e,["instances[0]","prompt"],a);const s=p(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],Cd(s));const u=p(t,["video"]);return e!==void 0&&u!=null&&v(e,["instances[0]","video"],my(u)),o}function m3(t,e,n){const o={},a=p(t,["prompt"]);e!==void 0&&a!=null&&v(e,["instances[0]","prompt"],a);const s=p(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],ua(s));const u=p(t,["video"]);return e!==void 0&&u!=null&&v(e,["instances[0]","video"],vy(u)),o}function v3(t,e){const n={},o=p(t,["_self"]);o!=null&&v(n,["image"],C3(o));const a=p(t,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const s=p(t,["_self"]);return s!=null&&v(n,["safetyAttributes"],hy(s)),n}function Nd(t,e){const n={},o=p(t,["_self"]);o!=null&&v(n,["image"],dy(o));const a=p(t,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const s=p(t,["_self"]);s!=null&&v(n,["safetyAttributes"],py(s));const u=p(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function y3(t,e){const n={},o=p(t,["_self"]);o!=null&&v(n,["mask"],dy(o));const a=p(t,["labels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(n,["labels"],s)}return n}function b3(t,e){const n={},o=p(t,["video"]);return o!=null&&v(n,["video"],a4(o)),n}function S3(t,e){const n={},o=p(t,["_self"]);return o!=null&&v(n,["video"],s4(o)),n}function _3(t,e){const n={},o=p(t,["modelSelectionConfig"]);o!=null&&v(n,["modelConfig"],o);const a=p(t,["responseJsonSchema"]);a!=null&&v(n,["responseJsonSchema"],a);const s=p(t,["audioTimestamp"]);s!=null&&v(n,["audioTimestamp"],s);const u=p(t,["candidateCount"]);u!=null&&v(n,["candidateCount"],u);const c=p(t,["enableAffectiveDialog"]);c!=null&&v(n,["enableAffectiveDialog"],c);const h=p(t,["frequencyPenalty"]);h!=null&&v(n,["frequencyPenalty"],h);const f=p(t,["logprobs"]);f!=null&&v(n,["logprobs"],f);const g=p(t,["maxOutputTokens"]);g!=null&&v(n,["maxOutputTokens"],g);const _=p(t,["mediaResolution"]);_!=null&&v(n,["mediaResolution"],_);const A=p(t,["presencePenalty"]);A!=null&&v(n,["presencePenalty"],A);const S=p(t,["responseLogprobs"]);S!=null&&v(n,["responseLogprobs"],S);const C=p(t,["responseMimeType"]);C!=null&&v(n,["responseMimeType"],C);const I=p(t,["responseModalities"]);I!=null&&v(n,["responseModalities"],I);const M=p(t,["responseSchema"]);M!=null&&v(n,["responseSchema"],M);const R=p(t,["routingConfig"]);R!=null&&v(n,["routingConfig"],R);const j=p(t,["seed"]);j!=null&&v(n,["seed"],j);const q=p(t,["speechConfig"]);q!=null&&v(n,["speechConfig"],q);const B=p(t,["stopSequences"]);B!=null&&v(n,["stopSequences"],B);const X=p(t,["temperature"]);X!=null&&v(n,["temperature"],X);const ve=p(t,["thinkingConfig"]);ve!=null&&v(n,["thinkingConfig"],ve);const de=p(t,["topK"]);de!=null&&v(n,["topK"],de);const re=p(t,["topP"]);if(re!=null&&v(n,["topP"],re),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function w3(t,e,n){const o={},a=p(e,["model"]);return a!=null&&v(o,["_url","name"],pn(t,a)),o}function A3(t,e,n){const o={},a=p(e,["model"]);return a!=null&&v(o,["_url","name"],pn(t,a)),o}function x3(t,e){const n={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=p(t,["enableWidget"]);return o!=null&&v(n,["enableWidget"],o),n}function E3(t,e){const n={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=p(t,["timeRangeFilter"]);return o!=null&&v(n,["timeRangeFilter"],o),n}function T3(t,e){const n={},o=p(t,["aspectRatio"]);o!=null&&v(n,["aspectRatio"],o);const a=p(t,["imageSize"]);if(a!=null&&v(n,["imageSize"],a),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function N3(t,e){const n={},o=p(t,["aspectRatio"]);o!=null&&v(n,["aspectRatio"],o);const a=p(t,["imageSize"]);a!=null&&v(n,["imageSize"],a);const s=p(t,["personGeneration"]);s!=null&&v(n,["personGeneration"],s);const u=p(t,["outputMimeType"]);u!=null&&v(n,["imageOutputOptions","mimeType"],u);const c=p(t,["outputCompressionQuality"]);return c!=null&&v(n,["imageOutputOptions","compressionQuality"],c),n}function C3(t,e){const n={},o=p(t,["bytesBase64Encoded"]);o!=null&&v(n,["imageBytes"],ol(o));const a=p(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function dy(t,e){const n={},o=p(t,["gcsUri"]);o!=null&&v(n,["gcsUri"],o);const a=p(t,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],ol(a));const s=p(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}function Cd(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=p(t,["imageBytes"]);o!=null&&v(n,["bytesBase64Encoded"],ol(o));const a=p(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function ua(t,e){const n={},o=p(t,["gcsUri"]);o!=null&&v(n,["gcsUri"],o);const a=p(t,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ol(a));const s=p(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}function L3(t,e,n,o){const a={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const u=p(e,["pageToken"]);n!==void 0&&u!=null&&v(n,["_query","pageToken"],u);const c=p(e,["filter"]);n!==void 0&&c!=null&&v(n,["_query","filter"],c);const h=p(e,["queryBase"]);return n!==void 0&&h!=null&&v(n,["_url","models_url"],ry(t,h)),a}function R3(t,e,n,o){const a={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const u=p(e,["pageToken"]);n!==void 0&&u!=null&&v(n,["_query","pageToken"],u);const c=p(e,["filter"]);n!==void 0&&c!=null&&v(n,["_query","filter"],c);const h=p(e,["queryBase"]);return n!==void 0&&h!=null&&v(n,["_url","models_url"],ry(t,h)),a}function M3(t,e,n){const o={},a=p(e,["config"]);return a!=null&&L3(t,a,o),o}function I3(t,e,n){const o={},a=p(e,["config"]);return a!=null&&R3(t,a,o),o}function k3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const s=p(t,["_self"]);if(s!=null){let u=ay(s);Array.isArray(u)&&(u=u.map(c=>Up(c))),v(n,["models"],u)}return n}function D3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const s=p(t,["_self"]);if(s!=null){let u=ay(s);Array.isArray(u)&&(u=u.map(c=>Op(c))),v(n,["models"],u)}return n}function P3(t,e){const n={},o=p(t,["maskMode"]);o!=null&&v(n,["maskMode"],o);const a=p(t,["segmentationClasses"]);a!=null&&v(n,["maskClasses"],a);const s=p(t,["maskDilation"]);return s!=null&&v(n,["dilation"],s),n}function Up(t,e){const n={},o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["displayName"]);a!=null&&v(n,["displayName"],a);const s=p(t,["description"]);s!=null&&v(n,["description"],s);const u=p(t,["version"]);u!=null&&v(n,["version"],u);const c=p(t,["_self"]);c!=null&&v(n,["tunedModelInfo"],Z3(c));const h=p(t,["inputTokenLimit"]);h!=null&&v(n,["inputTokenLimit"],h);const f=p(t,["outputTokenLimit"]);f!=null&&v(n,["outputTokenLimit"],f);const g=p(t,["supportedGenerationMethods"]);g!=null&&v(n,["supportedActions"],g);const _=p(t,["temperature"]);_!=null&&v(n,["temperature"],_);const A=p(t,["maxTemperature"]);A!=null&&v(n,["maxTemperature"],A);const S=p(t,["topP"]);S!=null&&v(n,["topP"],S);const C=p(t,["topK"]);C!=null&&v(n,["topK"],C);const I=p(t,["thinking"]);return I!=null&&v(n,["thinking"],I),n}function Op(t,e){const n={},o=p(t,["name"]);o!=null&&v(n,["name"],o);const a=p(t,["displayName"]);a!=null&&v(n,["displayName"],a);const s=p(t,["description"]);s!=null&&v(n,["description"],s);const u=p(t,["versionId"]);u!=null&&v(n,["version"],u);const c=p(t,["deployedModels"]);if(c!=null){let A=c;Array.isArray(A)&&(A=A.map(S=>KA(S))),v(n,["endpoints"],A)}const h=p(t,["labels"]);h!=null&&v(n,["labels"],h);const f=p(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],Q3(f));const g=p(t,["defaultCheckpointId"]);g!=null&&v(n,["defaultCheckpointId"],g);const _=p(t,["checkpoints"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(S=>S)),v(n,["checkpoints"],A)}return n}function U3(t,e){const n={},o=p(t,["mediaResolution"]);o!=null&&v(n,["mediaResolution"],o);const a=p(t,["codeExecutionResult"]);a!=null&&v(n,["codeExecutionResult"],a);const s=p(t,["executableCode"]);s!=null&&v(n,["executableCode"],s);const u=p(t,["fileData"]);u!=null&&v(n,["fileData"],WA(u));const c=p(t,["functionCall"]);c!=null&&v(n,["functionCall"],XA(c));const h=p(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const f=p(t,["inlineData"]);f!=null&&v(n,["inlineData"],_A(f));const g=p(t,["text"]);g!=null&&v(n,["text"],g);const _=p(t,["thought"]);_!=null&&v(n,["thought"],_);const A=p(t,["thoughtSignature"]);A!=null&&v(n,["thoughtSignature"],A);const S=p(t,["videoMetadata"]);return S!=null&&v(n,["videoMetadata"],S),n}function O3(t,e){const n={},o=p(t,["productImage"]);return o!=null&&v(n,["image"],ua(o)),n}function F3(t,e,n){const o={},a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&v(e,["parameters","baseSteps"],s);const u=p(t,["outputGcsUri"]);e!==void 0&&u!=null&&v(e,["parameters","storageUri"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const g=p(t,["addWatermark"]);e!==void 0&&g!=null&&v(e,["parameters","addWatermark"],g);const _=p(t,["outputMimeType"]);e!==void 0&&_!=null&&v(e,["parameters","outputOptions","mimeType"],_);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&v(e,["parameters","outputOptions","compressionQuality"],A);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","enhancePrompt"],S);const C=p(t,["labels"]);return e!==void 0&&C!=null&&v(e,["labels"],C),o}function B3(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["source"]);s!=null&&H3(s,o);const u=p(e,["config"]);return u!=null&&F3(u,o),o}function q3(t,e){const n={},o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Nd(s))),v(n,["generatedImages"],a)}return n}function H3(t,e,n){const o={},a=p(t,["prompt"]);e!==void 0&&a!=null&&v(e,["instances[0]","prompt"],a);const s=p(t,["personImage"]);e!==void 0&&s!=null&&v(e,["instances[0]","personImage","image"],ua(s));const u=p(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(h=>O3(h))),v(e,["instances[0]","productImages"],c)}return o}function z3(t,e){const n={},o=p(t,["referenceImage"]);o!=null&&v(n,["referenceImage"],ua(o));const a=p(t,["referenceId"]);a!=null&&v(n,["referenceId"],a);const s=p(t,["referenceType"]);s!=null&&v(n,["referenceType"],s);const u=p(t,["maskImageConfig"]);u!=null&&v(n,["maskImageConfig"],P3(u));const c=p(t,["controlImageConfig"]);c!=null&&v(n,["controlImageConfig"],CA(c));const h=p(t,["styleImageConfig"]);h!=null&&v(n,["styleImageConfig"],h);const f=p(t,["subjectImageConfig"]);return f!=null&&v(n,["subjectImageConfig"],f),n}function hy(t,e){const n={},o=p(t,["safetyAttributes","categories"]);o!=null&&v(n,["categories"],o);const a=p(t,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const s=p(t,["contentType"]);return s!=null&&v(n,["contentType"],s),n}function py(t,e){const n={},o=p(t,["safetyAttributes","categories"]);o!=null&&v(n,["categories"],o);const a=p(t,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const s=p(t,["contentType"]);return s!=null&&v(n,["contentType"],s),n}function G3(t,e){const n={},o=p(t,["category"]);if(o!=null&&v(n,["category"],o),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=p(t,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function V3(t,e){const n={},o=p(t,["image"]);return o!=null&&v(n,["image"],ua(o)),n}function Y3(t,e,n){const o={},a=p(t,["mode"]);e!==void 0&&a!=null&&v(e,["parameters","mode"],a);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&v(e,["parameters","maxPredictions"],s);const u=p(t,["confidenceThreshold"]);e!==void 0&&u!=null&&v(e,["parameters","confidenceThreshold"],u);const c=p(t,["maskDilation"]);e!==void 0&&c!=null&&v(e,["parameters","maskDilation"],c);const h=p(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&v(e,["parameters","binaryColorThreshold"],h);const f=p(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),o}function J3(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["source"]);s!=null&&K3(s,o);const u=p(e,["config"]);return u!=null&&Y3(u,o),o}function j3(t,e){const n={},o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>y3(s))),v(n,["generatedMasks"],a)}return n}function K3(t,e,n){const o={},a=p(t,["prompt"]);e!==void 0&&a!=null&&v(e,["instances[0]","prompt"],a);const s=p(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],ua(s));const u=p(t,["scribbleImage"]);return e!==void 0&&u!=null&&v(e,["instances[0]","scribble"],V3(u)),o}function W3(t,e){const n={},o=p(t,["retrievalConfig"]);o!=null&&v(n,["retrievalConfig"],o);const a=p(t,["functionCallingConfig"]);return a!=null&&v(n,["functionCallingConfig"],ZA(a)),n}function X3(t,e){const n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["computerUse"]);o!=null&&v(n,["computerUse"],o);const a=p(t,["fileSearch"]);a!=null&&v(n,["fileSearch"],a);const s=p(t,["codeExecution"]);if(s!=null&&v(n,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=p(t,["functionDeclarations"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(A=>A)),v(n,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&v(n,["googleMaps"],x3(c));const h=p(t,["googleSearch"]);h!=null&&v(n,["googleSearch"],E3(h));const f=p(t,["googleSearchRetrieval"]);f!=null&&v(n,["googleSearchRetrieval"],f);const g=p(t,["urlContext"]);return g!=null&&v(n,["urlContext"],g),n}function gy(t,e){const n={},o=p(t,["retrieval"]);o!=null&&v(n,["retrieval"],o);const a=p(t,["computerUse"]);if(a!=null&&v(n,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&v(n,["codeExecution"],s);const u=p(t,["enterpriseWebSearch"]);u!=null&&v(n,["enterpriseWebSearch"],u);const c=p(t,["functionDeclarations"]);if(c!=null){let A=c;Array.isArray(A)&&(A=A.map(S=>QA(S))),v(n,["functionDeclarations"],A)}const h=p(t,["googleMaps"]);h!=null&&v(n,["googleMaps"],h);const f=p(t,["googleSearch"]);f!=null&&v(n,["googleSearch"],f);const g=p(t,["googleSearchRetrieval"]);g!=null&&v(n,["googleSearchRetrieval"],g);const _=p(t,["urlContext"]);return _!=null&&v(n,["urlContext"],_),n}function Z3(t,e){const n={},o=p(t,["baseModel"]);o!=null&&v(n,["baseModel"],o);const a=p(t,["createTime"]);a!=null&&v(n,["createTime"],a);const s=p(t,["updateTime"]);return s!=null&&v(n,["updateTime"],s),n}function Q3(t,e){const n={},o=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&v(n,["baseModel"],o);const a=p(t,["createTime"]);a!=null&&v(n,["createTime"],a);const s=p(t,["updateTime"]);return s!=null&&v(n,["updateTime"],s),n}function $3(t,e,n){const o={},a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const s=p(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const u=p(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&v(e,["defaultCheckpointId"],u),o}function e4(t,e,n){const o={},a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const s=p(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const u=p(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&v(e,["defaultCheckpointId"],u),o}function t4(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","name"],pn(t,a));const s=p(e,["config"]);return s!=null&&$3(s,o),o}function n4(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["config"]);return s!=null&&e4(s,o),o}function i4(t,e,n){const o={},a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&v(e,["parameters","safetySetting"],s);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&v(e,["parameters","personGeneration"],u);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&v(e,["parameters","includeRaiReason"],c);const h=p(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const g=p(t,["enhanceInputImage"]);e!==void 0&&g!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],g);const _=p(t,["imagePreservationFactor"]);e!==void 0&&_!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const A=p(t,["labels"]);e!==void 0&&A!=null&&v(e,["labels"],A);const S=p(t,["numberOfImages"]);e!==void 0&&S!=null&&v(e,["parameters","sampleCount"],S);const C=p(t,["mode"]);return e!==void 0&&C!=null&&v(e,["parameters","mode"],C),o}function o4(t,e,n){const o={},a=p(e,["model"]);a!=null&&v(o,["_url","model"],pn(t,a));const s=p(e,["image"]);s!=null&&v(o,["instances[0]","image"],ua(s));const u=p(e,["upscaleFactor"]);u!=null&&v(o,["parameters","upscaleConfig","upscaleFactor"],u);const c=p(e,["config"]);return c!=null&&i4(c,o),o}function r4(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Nd(u))),v(n,["generatedImages"],s)}return n}function a4(t,e){const n={},o=p(t,["uri"]);o!=null&&v(n,["uri"],o);const a=p(t,["encodedVideo"]);a!=null&&v(n,["videoBytes"],ol(a));const s=p(t,["encoding"]);return s!=null&&v(n,["mimeType"],s),n}function s4(t,e){const n={},o=p(t,["gcsUri"]);o!=null&&v(n,["uri"],o);const a=p(t,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ol(a));const s=p(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}function l4(t,e){const n={},o=p(t,["image"]);o!=null&&v(n,["_self"],ua(o));const a=p(t,["maskMode"]);return a!=null&&v(n,["maskMode"],a),n}function u4(t,e){const n={},o=p(t,["image"]);o!=null&&v(n,["image"],Cd(o));const a=p(t,["referenceType"]);return a!=null&&v(n,["referenceType"],a),n}function c4(t,e){const n={},o=p(t,["image"]);o!=null&&v(n,["image"],ua(o));const a=p(t,["referenceType"]);return a!=null&&v(n,["referenceType"],a),n}function my(t,e){const n={},o=p(t,["uri"]);o!=null&&v(n,["uri"],o);const a=p(t,["videoBytes"]);a!=null&&v(n,["encodedVideo"],ol(a));const s=p(t,["mimeType"]);return s!=null&&v(n,["encoding"],s),n}function vy(t,e){const n={},o=p(t,["uri"]);o!=null&&v(n,["gcsUri"],o);const a=p(t,["videoBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ol(a));const s=p(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f4(t,e){const n={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&v(e,["displayName"],o),n}function d4(t){const e={},n=p(t,["config"]);return n!=null&&f4(n,e),e}function h4(t,e){const n={},o=p(t,["force"]);return e!==void 0&&o!=null&&v(e,["_query","force"],o),n}function p4(t){const e={},n=p(t,["name"]);n!=null&&v(e,["_url","name"],n);const o=p(t,["config"]);return o!=null&&h4(o,e),e}function g4(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function m4(t,e){const n={},o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&v(e,["chunkingConfig"],a),n}function v4(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const o=p(t,["metadata"]);o!=null&&v(e,["metadata"],o);const a=p(t,["done"]);a!=null&&v(e,["done"],a);const s=p(t,["error"]);s!=null&&v(e,["error"],s);const u=p(t,["response"]);return u!=null&&v(e,["response"],b4(u)),e}function y4(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const o=p(t,["fileName"]);o!=null&&v(e,["fileName"],o);const a=p(t,["config"]);return a!=null&&m4(a,e),e}function b4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&v(e,["parent"],o);const a=p(t,["documentName"]);return a!=null&&v(e,["documentName"],a),e}function S4(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&v(e,["_query","pageToken"],a),n}function _4(t){const e={},n=p(t,["config"]);return n!=null&&S4(n,e),e}function w4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["fileSearchStores"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["fileSearchStores"],s)}return e}function yy(t,e){const n={},o=p(t,["mimeType"]);e!==void 0&&o!=null&&v(e,["mimeType"],o);const a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const s=p(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>h)),v(e,["customMetadata"],c)}const u=p(t,["chunkingConfig"]);return e!==void 0&&u!=null&&v(e,["chunkingConfig"],u),n}function A4(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const o=p(t,["config"]);return o!=null&&yy(o,e),e}function x4(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E4="Content-Type",T4="X-Server-Timeout",N4="User-Agent",Fp="x-goog-api-client",C4="1.39.0",L4=`google-genai-sdk/${C4}`,R4="v1beta1",M4="v1beta";class I4{constructor(e){var n,o,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:R4}else{if(!this.clientOptions.apiKey)throw new Xc({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:M4,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const a=[this.getRequestUrlInternal(n)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ip.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,n),a=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))a.searchParams.append(u,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,a.toString(),e.abortSignal),this.unaryApiCall(a,s,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[a,s]of Object.entries(n))typeof s=="object"?o[a]=Object.assign(Object.assign({},o[a]),s):s!==void 0&&(o[a]=s);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,n),a=this.constructUrl(e.path,n,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,a.toString(),e.abortSignal),this.streamApiCall(a,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,a){if(n&&n.timeout||a){const s=new AbortController,u=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}a&&a.addEventListener("abort",()=>{s.abort()}),e.signal=u}return n&&n.extraBody!==null&&k4(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async a=>(await p2(a),new kp(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async a=>(await p2(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return aa(this,arguments,function*(){var o;const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),s=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let u="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:g}=yield kt(a.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=s.decode(g,{stream:!0});try{const C=JSON.parse(_);if("error"in C){const I=JSON.parse(JSON.stringify(C.error)),M=I.status,R=I.code,j=`got status: ${M}. ${JSON.stringify(C)}`;if(R>=400&&R<600)throw new Xc({message:j,status:R})}}catch(C){if(C.name==="ApiError")throw C}u+=_;let A=-1,S=0;for(;;){A=-1,S=0;for(const M of h){const R=u.indexOf(M);R!==-1&&(A===-1||R<A)&&(A=R,S=M.length)}if(A===-1)break;const C=u.substring(0,A);u=u.substring(A+S);const I=C.trim();if(I.startsWith(c)){const M=I.substring(c.length).trim();try{const R=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield kt(new kp(R))}catch(R){throw new Error(`exception parsing stream chunk ${M}. ${R}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=L4+" "+this.clientOptions.userAgentExtra;return e[N4]=n,e[Fp]=n,e[E4]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[a,s]of Object.entries(e.headers))o.append(a,s);e.timeout&&e.timeout>0&&o.append(T4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);a.sizeBytes=String(u.size);const c=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=c;const h={file:a},f=this.getFileName(e),g=Xe("upload/v1beta/files",h._url),_=await this.fetchUploadUrl(g,a.sizeBytes,a.mimeType,f,h,n==null?void 0:n.httpOptions);return s.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,o){var a;const s=this.clientOptions.uploader,u=await s.stat(n),c=String(u.size),h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),_={};o!=null&&yy(o,_);const A=await this.fetchUploadUrl(f,c,h,g,_,o==null?void 0:o.httpOptions);return s.uploadToFileSearchStore(n,A,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,a,s,u){var c;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:h});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function p2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw n>=400&&n<600?new Xc({message:a,status:n}):new Error(a)}}function k4(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(s,u){const c=Object.assign({},s);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const f=u[h],g=c[h];f&&typeof f=="object"&&!Array.isArray(f)&&g&&typeof g=="object"&&!Array.isArray(g)?c[h]=o(g,f):(g&&f&&typeof g!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof g}, New type: ${typeof f}. Overwriting.`),c[h]=f)}return c}const a=o(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D4="mcp_used/unknown";let P4=!1;function by(t){for(const e of t)if(U4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return P4}function Sy(t){var e;const n=(e=t[Fp])!==null&&e!==void 0?e:"";t[Fp]=(n+` ${D4}`).trimStart()}function U4(t){return t!==null&&typeof t=="object"&&t instanceof g0}function O4(t){return aa(this,arguments,function*(n,o=100){let a,s=0;for(;s<o;){const u=yield kt(n.listTools({cursor:a}));for(const c of u.tools)yield yield kt(c),s++;if(!u.nextCursor)break;a=u.nextCursor}})}class g0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new g0(e,n)}async initialize(){var e,n,o,a;if(this.mcpTools.length>0)return;const s={},u=[];for(const g of this.mcpClients)try{for(var c=!0,h=(n=void 0,sa(O4(g))),f;f=await h.next(),e=f.done,!e;c=!0){a=f.value,c=!1;const _=a;u.push(_);const A=_.name;if(s[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);s[A]=g}}catch(_){n={error:_}}finally{try{!c&&!e&&(o=h.return)&&await o.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),d_(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const u=await a.callTool({name:o.name,arguments:o.args},void 0,s);n.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function F4(t,e,n){const o=new o_;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(o,a),e(o)}class B4{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=z4(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const g=new Promise(q=>{f=q}),_=e.callbacks,A=function(){f({})},S=this.apiClient,C={onopen:A,onmessage:q=>{F4(S,_.onmessage,q)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(q){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(q){}},I=this.webSocketFactory.create(h,H4(u),C);I.connect(),await g;const j={setup:{model:pn(this.apiClient,e.model)}};return I.send(JSON.stringify(j)),new q4(I,this.apiClient)}}class q4{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fA(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=cA(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(zu.PLAY)}pause(){this.sendPlaybackControl(zu.PAUSE)}stop(){this.sendPlaybackControl(zu.STOP)}resetContext(){this.sendPlaybackControl(zu.RESET_CONTEXT)}close(){this.conn.close()}}function H4(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function z4(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function V4(t,e,n){const o=new i_;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const s=JSON.parse(a);if(t.isVertexAI()){const u=pA(s);Object.assign(o,u)}else Object.assign(o,s);e(o)}class Y4{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new B4(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,a,s,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&by(e.config.tools)&&Sy(_);const A=W4(_);if(this.apiClient.isVertexAI()){const G=this.apiClient.getProject(),te=this.apiClient.getLocation(),U=this.apiClient.getApiKey(),Y=!!G&&!!te||!!U;this.apiClient.getCustomBaseUrl()&&!Y?g=h:(g=`${h}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A,g))}else{const G=this.apiClient.getApiKey();let te="BidiGenerateContent",U="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",U="access_token"),g=`${h}/ws/google.ai.generativelanguage.${f}.GenerativeService.${te}?${U}=${G}`}let S=()=>{};const C=new Promise(G=>{S=G}),I=e.callbacks,M=function(){var G;(G=I==null?void 0:I.onopen)===null||G===void 0||G.call(I),S({})},R=this.apiClient,j={onopen:M,onmessage:G=>{V4(R,I.onmessage,G)},onerror:(n=I==null?void 0:I.onerror)!==null&&n!==void 0?n:function(G){},onclose:(o=I==null?void 0:I.onclose)!==null&&o!==void 0?o:function(G){}},q=this.webSocketFactory.create(g,K4(A),j);q.connect(),await C;let B=pn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const G=this.apiClient.getProject(),te=this.apiClient.getLocation();G&&te&&(B=`projects/${G}/locations/${te}/`+B)}let X={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wc.AUDIO]}:e.config.responseModalities=[Wc.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ve=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],de=[];for(const G of ve)if(this.isCallableTool(G)){const te=G;de.push(await te.tool())}else de.push(G);de.length>0&&(e.config.tools=de);const re={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=uA(this.apiClient,re):X=lA(this.apiClient,re),delete X.config,q.send(JSON.stringify(X)),new j4(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const J4={turnComplete:!0};class j4{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Cr(n.turns),e.isVertexAI()||(o=o.map(a=>Td(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(G4)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},J4),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:hA(e)}:n={realtimeInput:dA(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function K4(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function W4(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g2=10;function m2(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ju(u)){a=!0;break}if(!a)return!0;const s=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Ju(t){return"callTool"in t&&typeof t.callTool=="function"}function X4(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>Ju(a)))!==null&&o!==void 0?o:!1}function v2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,a)=>{if(Ju(o))return;const s=o;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(a)}),n}function y2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z4 extends ms{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,a,s,u,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!X4(n)||m2(n.config))return await this.generateContentInternal(h);const f=v2(n);if(f.length>0){const I=f.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let g,_;const A=Cr(h.contents),S=(s=(a=(o=h.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:g2;let C=0;for(;C<S&&(g=await this.generateContentInternal(h),!(!g.functionCalls||g.functionCalls.length===0));){const I=g.candidates[0].content,M=[];for(const R of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(Ju(R)){const q=await R.callTool(g.functionCalls);M.push(...q)}C++,_={role:"user",parts:M},h.contents=Cr(h.contents),h.contents.push(I),h.contents.push(_),y2(h.config)&&(A.push(I),A.push(_))}return y2(h.config)&&(g.automaticFunctionCallingHistory=A),g},this.generateContentStream=async n=>{var o,a,s,u,c;if(this.maybeMoveToResponseJsonSchem(n),m2(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const h=v2(n);if(h.length>0){const _=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(a=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,g=(c=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var a;let s;const u=[];if(o!=null&&o.generatedImages)for(const h of o.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((a=h==null?void 0:h.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?s=h==null?void 0:h.safetyAttributes:u.push(h);let c;return s?c={generatedImages:u,positivePromptSafetyAttributes:s,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Gl(ps.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var o,a,s,u,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(s=n.source)===null||s===void 0?void 0:s.video)===null||u===void 0)&&u.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,a;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const u=await Promise.all(s.map(async h=>Ju(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&by(e.config.tools)){const h=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let f=Object.assign({},h);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Sy(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,o,a;const s=new Map;for(const u of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Ju(u)){const c=u,h=await c.tool();for(const f of(a=h.functionDeclarations)!==null&&a!==void 0?a:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,c)}}return s}async processAfcStream(e){var n,o,a;const s=(a=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:g2;let u=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(f,g,_){return aa(this,arguments,function*(){for(var A,S,C,I,M,R;c<s;){u&&(c++,u=!1);const X=yield kt(f.processParamsMaybeAddMcpUsage(_)),ve=yield kt(f.generateContentStreamInternal(X)),de=[],re=[];try{for(var j=!0,q=(S=void 0,sa(ve)),B;B=yield kt(q.next()),A=B.done,!A;j=!0){I=B.value,j=!1;const G=I;if(yield yield kt(G),G.candidates&&(!((M=G.candidates[0])===null||M===void 0)&&M.content)){re.push(G.candidates[0].content);for(const te of(R=G.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(c<s&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(te.functionCall.name)){const U=yield kt(g.get(te.functionCall.name).callTool([te.functionCall]));de.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(G){S={error:G}}finally{try{!j&&!A&&(C=q.return)&&(yield kt(C.call(q)))}finally{if(S)throw S.error}}if(de.length>0){u=!0;const G=new Hc;G.candidates=[{content:{role:"user",parts:de}}],yield yield kt(G);const te=[];te.push(...re),te.push({role:"user",parts:de});const U=Cr(_.contents).concat(te);_.contents=U}else break}})})(this,h,e)}async generateContentInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=f2(this.apiClient,e);return c=Xe("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=h2(g),A=new Hc;return Object.assign(A,_),A})}else{const f=c2(this.apiClient,e);return c=Xe("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=d2(g),A=new Hc;return Object.assign(A,_),A})}}async generateContentStreamInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=f2(this.apiClient,e);return c=Xe("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(_){return aa(this,arguments,function*(){var A,S,C,I;try{for(var M=!0,R=sa(_),j;j=yield kt(R.next()),A=j.done,!A;M=!0){I=j.value,M=!1;const q=I,B=h2(yield kt(q.json()),e);B.sdkHttpResponse={headers:q.headers};const X=new Hc;Object.assign(X,B),yield yield kt(X)}}catch(q){S={error:q}}finally{try{!M&&!A&&(C=R.return)&&(yield kt(C.call(R)))}finally{if(S)throw S.error}}})})}else{const f=c2(this.apiClient,e);return c=Xe("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(_){return aa(this,arguments,function*(){var A,S,C,I;try{for(var M=!0,R=sa(_),j;j=yield kt(R.next()),A=j.done,!A;M=!0){I=j.value,M=!1;const q=I,B=d2(yield kt(q.json()),e);B.sdkHttpResponse={headers:q.headers};const X=new Hc;Object.assign(X,B),yield yield kt(X)}}catch(q){S={error:q}}finally{try{!M&&!A&&(C=R.return)&&(yield kt(C.call(R)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=YA(this.apiClient,e);return c=Xe("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=jA(g),A=new j1;return Object.assign(A,_),A})}else{const f=VA(this.apiClient,e);return c=Xe("{model}:batchEmbedContents",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=JA(g),A=new j1;return Object.assign(A,_),A})}}async generateImagesInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=o3(this.apiClient,e);return c=Xe("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=a3(g),A=new K1;return Object.assign(A,_),A})}else{const f=i3(this.apiClient,e);return c=Xe("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=r3(g),A=new K1;return Object.assign(A,_),A})}}async editImageInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=qA(this.apiClient,e);return s=Xe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const f=HA(h),g=new YS;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=o4(this.apiClient,e);return s=Xe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const f=r4(h),g=new JS;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=B3(this.apiClient,e);return s=Xe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=q3(h),g=new jS;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=J3(this.apiClient,e);return s=Xe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=j3(h),g=new KS;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=A3(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>Op(g))}else{const f=w3(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Up(g))}}async listInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=I3(this.apiClient,e);return c=Xe("{models_url}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=D3(g),A=new W1;return Object.assign(A,_),A})}else{const f=M3(this.apiClient,e);return c=Xe("{models_url}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=k3(g),A=new W1;return Object.assign(A,_),A})}}async update(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=n4(this.apiClient,e);return c=Xe("{model}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>Op(g))}else{const f=t4(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Up(g))}}async delete(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=UA(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=FA(g),A=new X1;return Object.assign(A,_),A})}else{const f=PA(this.apiClient,e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=OA(g),A=new X1;return Object.assign(A,_),A})}}async countTokens(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=IA(this.apiClient,e);return c=Xe("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=DA(g),A=new Z1;return Object.assign(A,_),A})}else{const f=MA(this.apiClient,e);return c=Xe("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=kA(g),A=new Z1;return Object.assign(A,_),A})}}async computeTokens(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=xA(this.apiClient,e);return s=Xe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const f=EA(h),g=new WS;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=d3(this.apiClient,e);return c=Xe("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>{const _=c3(g),A=new pd;return Object.assign(A,_),A})}else{const f=f3(this.apiClient,e);return c=Xe("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const _=u3(g),A=new pd;return Object.assign(A,_),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q4 extends ms{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=BS(e);return c=Xe("{operationName}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u}else{const f=FS(e);return c=Xe("{operationName}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=MS(e);return s=Xe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $4(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function ex(t){const e={},n=p(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>ux(s))),v(e,["parts"],a)}const o=p(t,["role"]);return o!=null&&v(e,["role"],o),e}function tx(t,e,n){const o={},a=p(e,["expireTime"]);n!==void 0&&a!=null&&v(n,["expireTime"],a);const s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&v(n,["newSessionExpireTime"],s);const u=p(e,["uses"]);n!==void 0&&u!=null&&v(n,["uses"],u);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],lx(t,c));const h=p(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&v(n,["fieldMask"],h),o}function nx(t,e){const n={},o=p(e,["config"]);return o!=null&&v(n,["config"],tx(t,o,n)),n}function ix(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&v(e,["mimeType"],o),e}function ox(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const o=p(t,["args"]);o!=null&&v(e,["args"],o);const a=p(t,["name"]);if(a!=null&&v(e,["name"],a),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rx(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function ax(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function sx(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig"],o);const a=p(t,["responseModalities"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","responseModalities"],a);const s=p(t,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","maxOutputTokens"],h);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","mediaResolution"],f);const g=p(t,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&v(e,["setup","generationConfig","speechConfig"],p0(_));const A=p(t,["thinkingConfig"]);e!==void 0&&A!=null&&v(e,["setup","generationConfig","thinkingConfig"],A);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],S);const C=p(t,["systemInstruction"]);e!==void 0&&C!=null&&v(e,["setup","systemInstruction"],ex(lo(C)));const I=p(t,["tools"]);if(e!==void 0&&I!=null){let ve=tc(I);Array.isArray(ve)&&(ve=ve.map(de=>fx(ec(de)))),v(e,["setup","tools"],ve)}const M=p(t,["sessionResumption"]);e!==void 0&&M!=null&&v(e,["setup","sessionResumption"],cx(M));const R=p(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&v(e,["setup","inputAudioTranscription"],R);const j=p(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&v(e,["setup","outputAudioTranscription"],j);const q=p(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&v(e,["setup","realtimeInputConfig"],q);const B=p(t,["contextWindowCompression"]);e!==void 0&&B!=null&&v(e,["setup","contextWindowCompression"],B);const X=p(t,["proactivity"]);if(e!==void 0&&X!=null&&v(e,["setup","proactivity"],X),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lx(t,e){const n={},o=p(e,["model"]);o!=null&&v(n,["setup","model"],pn(t,o));const a=p(e,["config"]);return a!=null&&v(n,["config"],sx(a,n)),n}function ux(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&v(e,["codeExecutionResult"],o);const a=p(t,["executableCode"]);a!=null&&v(e,["executableCode"],a);const s=p(t,["fileData"]);s!=null&&v(e,["fileData"],ix(s));const u=p(t,["functionCall"]);u!=null&&v(e,["functionCall"],ox(u));const c=p(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&v(e,["inlineData"],$4(h));const f=p(t,["text"]);f!=null&&v(e,["text"],f);const g=p(t,["thought"]);g!=null&&v(e,["thought"],g);const _=p(t,["thoughtSignature"]);_!=null&&v(e,["thoughtSignature"],_);const A=p(t,["videoMetadata"]);return A!=null&&v(e,["videoMetadata"],A),e}function cx(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fx(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["functionDeclarations"],g)}const u=p(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],rx(u));const c=p(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],ax(c));const h=p(t,["googleSearchRetrieval"]);h!=null&&v(e,["googleSearchRetrieval"],h);const f=p(t,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(s=>`${n}.${s}`);e.push(...a)}else e.push(n)}return e.join(",")}function hx(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const s=o.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const s=dx(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];a.length>0&&(c=a.map(f=>u.includes(f)?`generationConfig.${f}`:f));const h=[];s&&h.push(s),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class px extends ms{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=nx(this.apiClient,e);s=Xe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const h=hx(c,e.config);return a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(t,e){const n={},o=p(t,["force"]);return e!==void 0&&o!=null&&v(e,["_query","force"],o),n}function mx(t){const e={},n=p(t,["name"]);n!=null&&v(e,["_url","name"],n);const o=p(t,["config"]);return o!=null&&gx(o,e),e}function vx(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function yx(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&v(e,["_query","pageSize"],o);const a=p(t,["pageToken"]);return e!==void 0&&a!=null&&v(e,["_query","pageToken"],a),n}function bx(t){const e={},n=p(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const o=p(t,["config"]);return o!=null&&yx(o,e),e}function Sx(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&v(e,["nextPageToken"],o);const a=p(t,["documents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),v(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _x extends ms{constructor(e){super(),this.apiClient=e,this.list=async n=>new Gl(ps.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vx(e);return s=Xe("{name}",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,o;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mx(e);a=Xe("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=bx(e);return s=Xe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=Sx(h),g=new XS;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wx extends ms{constructor(e,n=new _x(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Gl(ps.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=d4(e);return s=Xe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g4(e);return s=Xe("{name}",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,o;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p4(e);a=Xe("{name}",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_4(e);return s=Xe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=w4(h),g=new ZS;return Object.assign(g,f),g})}}async uploadToFileSearchStoreInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=A4(e);return s=Xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=x4(h),g=new QS;return Object.assign(g,f),g})}}async importFile(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=y4(e);return s=Xe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const f=v4(h),g=new u0;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _y=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return _y=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const Ax=()=>_y();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const qp=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lr extends Error{}class wo extends Lr{constructor(e,n,o,a){super(`${wo.makeMessage(e,n,o)}`),this.status=e,this.headers=a,this.error=n}static makeMessage(e,n,o){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,n,o,a){if(!e||!a)return new Ld({message:o,cause:qp(n)});const s=n;return e===400?new Ay(e,s,o,a):e===401?new xy(e,s,o,a):e===403?new Ey(e,s,o,a):e===404?new Ty(e,s,o,a):e===409?new Ny(e,s,o,a):e===422?new Cy(e,s,o,a):e===429?new Ly(e,s,o,a):e>=500?new Ry(e,s,o,a):new wo(e,s,o,a)}}class Hp extends wo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ld extends wo{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class wy extends Ld{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ay extends wo{}class xy extends wo{}class Ey extends wo{}class Ty extends wo{}class Ny extends wo{}class Cy extends wo{}class Ly extends wo{}class Ry extends wo{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xx=/^[a-z][a-z0-9+.-]*:/i,Ex=t=>xx.test(t);let zp=t=>(zp=Array.isArray,zp(t));const Tx=zp;let Nx=Tx;const b2=Nx;function Cx(t){if(!t)return!0;for(const e in t)return!1;return!0}function Lx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Rx=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Lr(`${t} must be an integer`);if(e<0)throw new Lr(`${t} must be a positive integer`);return e},Mx=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Dx=()=>{var t,e,n,o,a;const s=kx();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bu,"X-Stainless-OS":_2(Deno.build.os),"X-Stainless-Arch":S2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bu,"X-Stainless-OS":_2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":S2((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const u=Px();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Px(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const a=o[1]||0,s=o[2]||0,u=o[3]||0;return{browser:e,version:`${a}.${s}.${u}`}}}return null}const S2=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",_2=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let jf;const Ux=()=>jf??(jf=Dx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ox(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function My(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Fx(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return My({start(){},async pull(n){const{done:o,value:a}=await e.next();o?n.close():n.enqueue(a)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Iy(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Bx(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),a=o.cancel();o.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ky=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Qh(t,e,n){return ky(),new File(t,e??"unknown_file",n)}function Hx(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const zx=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dy=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Gx=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Dy(t),Vx=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Yx(t,e,n){if(ky(),t=await t,Gx(t))return t instanceof File?t:Qh([await t.arrayBuffer()],t.name);if(Vx(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Qh(await Gp(a),e,n)}const o=await Gp(t);if(e||(e=Hx(t)),!(n!=null&&n.type)){const a=o.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return Qh(o,e,n)}async function Gp(t){var e,n,o,a,s;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(Dy(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(zx(t))try{for(var c=!0,h=sa(t),f;f=await h.next(),e=f.done,!e;c=!0){a=f.value,c=!1;const g=a;u.push(...await Gp(g))}}catch(g){n={error:g}}finally{try{!c&&!e&&(o=h.return)&&await o.call(h)}finally{if(n)throw n.error}}else{const g=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${Jx(t)}`)}return u}function Jx(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Py{constructor(e){this._client=e}}Py._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uy(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const w2=Object.freeze(Object.create(null)),jx=(t=Uy)=>(function(n,...o){if(n.length===1)return n[0];let a=!1;const s=[],u=n.reduce((g,_,A)=>{var S,C,I;/[?#]/.test(_)&&(a=!0);const M=o[A];let R=(a?encodeURIComponent:t)(""+M);return A!==o.length&&(M==null||typeof M=="object"&&M.toString===((I=Object.getPrototypeOf((C=Object.getPrototypeOf((S=M.hasOwnProperty)!==null&&S!==void 0?S:w2))!==null&&C!==void 0?C:w2))===null||I===void 0?void 0:I.toString))&&(R=M+"",s.push({start:g.length+_.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),g+_+(A===o.length?"":R)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=h.exec(c))!==null;)s.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(s.sort((g,_)=>g.start-_.start),s.length>0){let g=0;const _=s.reduce((A,S)=>{const C=" ".repeat(S.start-g),I="^".repeat(S.length);return g=S.start+S.length,A+C+I},"");throw new Lr(`Path parameters result in path with invalid segments:
${s.map(A=>A.error).join(`
`)}
${u}
${_}`)}return u}),Kf=jx(Uy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oy extends Py{create(e,n){var o;const{api_version:a=this._client.apiVersion}=e,s=md(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Lr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Lr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Kf`/${a}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Kf`/${a}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Kf`/${a}/interactions/${e}/cancel`,o)}get(e,n={},o){var a;const s=n??{},{api_version:u=this._client.apiVersion}=s,c=md(s,["api_version"]);return this._client.get(Kf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},o),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}Oy._key=Object.freeze(["interactions"]);class Fy extends Oy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kx(t){let e=0;for(const a of t)e+=a.length;const n=new Uint8Array(e);let o=0;for(const a of t)n.set(a,o),o+=a.length;return n}let Wf;function m0(t){let e;return(Wf??(e=new globalThis.TextEncoder,Wf=e.encode.bind(e)))(t)}let Xf;function A2(t){let e;return(Xf??(e=new globalThis.TextDecoder,Xf=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?m0(e):e;this.buffer=Kx([this.buffer,n]);const o=[];let a;for(;(a=Wx(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){o.push(A2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,u=A2(this.buffer.subarray(0,s));o.push(u),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Rd.NEWLINE_CHARS=new Set([`
`,"\r"]);Rd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Wx(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Xx(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vd={off:0,error:200,warn:300,info:400,debug:500},x2=(t,e,n)=>{if(t){if(Lx(vd,t))return t;_o(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(vd))}`)}};function Yc(){}function Zf(t,e,n){return!e||vd[t]>vd[n]?Yc:e[t].bind(e)}const Zx={error:Yc,warn:Yc,info:Yc,debug:Yc};let E2=new WeakMap;function _o(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Zx;const a=E2.get(n);if(a&&a[0]===o)return a[1];const s={error:Zf("error",n,o),warn:Zf("warn",n,o),info:Zf("info",n,o),debug:Zf("debug",n,o)};return E2.set(n,[o,s]),s}const Ol=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gu{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let a=!1;const s=o?_o(o):console;function u(){return aa(this,arguments,function*(){var h,f,g,_;if(a)throw new Lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let A=!1;try{try{for(var S=!0,C=sa(Qx(e,n)),I;I=yield kt(C.next()),h=I.done,!h;S=!0){_=I.value,S=!1;const M=_;if(!A)if(M.data.startsWith("[DONE]")){A=!0;continue}else try{yield yield kt(JSON.parse(M.data))}catch(R){throw s.error("Could not parse message into JSON:",M.data),s.error("From chunk:",M.raw),R}}}catch(M){f={error:M}}finally{try{!S&&!h&&(g=C.return)&&(yield kt(g.call(C)))}finally{if(f)throw f.error}}A=!0}catch(M){if(Bp(M))return yield kt(void 0);throw M}finally{A||n.abort()}})}return new Gu(u,n,o)}static fromReadableStream(e,n,o){let a=!1;function s(){return aa(this,arguments,function*(){var h,f,g,_;const A=new Rd,S=Iy(e);try{for(var C=!0,I=sa(S),M;M=yield kt(I.next()),h=M.done,!h;C=!0){_=M.value,C=!1;const R=_;for(const j of A.decode(R))yield yield kt(j)}}catch(R){f={error:R}}finally{try{!C&&!h&&(g=I.return)&&(yield kt(g.call(I)))}finally{if(f)throw f.error}}for(const R of A.flush())yield yield kt(R)})}function u(){return aa(this,arguments,function*(){var h,f,g,_;if(a)throw new Lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let A=!1;try{try{for(var S=!0,C=sa(s()),I;I=yield kt(C.next()),h=I.done,!h;S=!0){_=I.value,S=!1;const M=_;A||M&&(yield yield kt(JSON.parse(M)))}}catch(M){f={error:M}}finally{try{!S&&!h&&(g=C.return)&&(yield kt(g.call(C)))}finally{if(f)throw f.error}}A=!0}catch(M){if(Bp(M))return yield kt(void 0);throw M}finally{A||n.abort()}})}return new Gu(u,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),a=s=>({next:()=>{if(s.length===0){const u=o.next();e.push(u),n.push(u)}return s.shift()}});return[new Gu(()=>a(e),this.controller,this.client),new Gu(()=>a(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return My({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:a,done:s}=await n.next();if(s)return o.close();const u=m0(JSON.stringify(a)+`
`);o.enqueue(u)}catch(a){o.error(a)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function Qx(t,e){return aa(this,arguments,function*(){var o,a,s,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Lr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Lr("Attempted to iterate over a response with no body");const c=new eE,h=new Rd,f=Iy(t.body);try{for(var g=!0,_=sa($x(f)),A;A=yield kt(_.next()),o=A.done,!o;g=!0){u=A.value,g=!1;const S=u;for(const C of h.decode(S)){const I=c.decode(C);I&&(yield yield kt(I))}}}catch(S){a={error:S}}finally{try{!g&&!o&&(s=_.return)&&(yield kt(s.call(_)))}finally{if(a)throw a.error}}for(const S of h.flush()){const C=c.decode(S);C&&(yield yield kt(C))}})}function $x(t){return aa(this,arguments,function*(){var n,o,a,s;let u=new Uint8Array;try{for(var c=!0,h=sa(t),f;f=yield kt(h.next()),n=f.done,!n;c=!0){s=f.value,c=!1;const g=s;if(g==null)continue;const _=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?m0(g):g;let A=new Uint8Array(u.length+_.length);A.set(u),A.set(_,u.length),u=A;let S;for(;(S=Xx(u))!==-1;)yield yield kt(u.slice(0,S)),u=u.slice(S)}}catch(g){o={error:g}}finally{try{!c&&!n&&(a=h.return)&&(yield kt(a.call(h)))}finally{if(o)throw o.error}}u.length>0&&(yield yield kt(u))})}class eE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,a]=tE(e,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function tE(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nE(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:a,startTime:s}=e,u=await(async()=>{var c;if(e.options.stream)return _o(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Gu.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),f=(c=h==null?void 0:h.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return _o(t).debug(`[${o}] response parsed`,Ol({retryOfRequestLogID:a,url:n.url,status:n.status,body:u,durationMs:Date.now()-s})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v0 extends Promise{constructor(e,n,o=nE){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new v0(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const By=Symbol("brand.privateNullableHeaders");function*iE(t){if(!t)return;if(By in t){const{values:o,nulls:a}=t;yield*o.entries();for(const s of a)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():b2(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const a=o[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const s=b2(o[1])?o[1]:[o[1]];let u=!1;for(const c of s)c!==void 0&&(e&&!u&&(u=!0,yield[a,null]),yield[a,c])}}const zc=t=>{const e=new Headers,n=new Set;for(const o of t){const a=new Set;for(const[s,u]of iE(o)){const c=s.toLowerCase();a.has(c)||(e.delete(s),a.add(c)),u===null?(e.delete(s),n.add(c)):(e.append(s,u),n.delete(c))}}return{[By]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $h=t=>{var e,n,o,a,s,u;if(typeof globalThis.process<"u")return(o=(n=(e=ES)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(u=(s=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||s===void 0?void 0:s.call(a,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qy;class Md{constructor(e){var n,o,a,s,u,c,h,{baseURL:f=$h("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=$h("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,A=md(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:g,apiVersion:_},A),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(o=S.timeout)!==null&&o!==void 0?o:Md.DEFAULT_TIMEOUT,this.logger=(a=S.logger)!==null&&a!==void 0?a:console;const C="warn";this.logLevel=C,this.logLevel=(u=(s=x2(S.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:x2($h("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:C,this.fetchOptions=S.fetchOptions,this.maxRetries=(c=S.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=S.fetch)!==null&&h!==void 0?h:Ox(),this.encoder=qx,this._options=S,this.apiKey=g,this.apiVersion=_,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=zc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Lr(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Bu}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ax()}`}makeStatusError(e,n,o,a){return wo.generate(e,n,o,a)}buildURL(e,n,o){const a=!this.baseURLOverridden()&&o||this.baseURL,s=Ex(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return Cx(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(a=>Object.assign({method:e,path:n},a)))}request(e,n=null){return new v0(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var a,s,u;const c=await e,h=(a=c.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:f,url:g,timeout:_}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(f,{url:g,options:c});const A="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=o===void 0?"":`, retryOf: ${o}`,C=Date.now();if(_o(this).debug(`[${A}] sending request`,Ol({retryOfRequestLogID:o,method:c.method,url:g,options:c,headers:f.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Hp;const I=new AbortController,M=await this.fetchWithTimeout(g,f,_,I).catch(qp),R=Date.now();if(M instanceof globalThis.Error){const q=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Hp;const B=Bp(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(n)return _o(this).info(`[${A}] connection ${B?"timed out":"failed"} - ${q}`),_o(this).debug(`[${A}] connection ${B?"timed out":"failed"} (${q})`,Ol({retryOfRequestLogID:o,url:g,durationMs:R-C,message:M.message})),this.retryRequest(c,n,o??A);throw _o(this).info(`[${A}] connection ${B?"timed out":"failed"} - error; no more retries left`),_o(this).debug(`[${A}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Ol({retryOfRequestLogID:o,url:g,durationMs:R-C,message:M.message})),B?new wy:new Ld({cause:M})}const j=`[${A}${S}] ${f.method} ${g} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${R-C}ms`;if(!M.ok){const q=await this.shouldRetry(M);if(n&&q){const G=`retrying, ${n} attempts remaining`;return await Bx(M.body),_o(this).info(`${j} - ${G}`),_o(this).debug(`[${A}] response error (${G})`,Ol({retryOfRequestLogID:o,url:M.url,status:M.status,headers:M.headers,durationMs:R-C})),this.retryRequest(c,n,o??A,M.headers)}const B=q?"error; no more retries left":"error; not retryable";_o(this).info(`${j} - ${B}`);const X=await M.text().catch(G=>qp(G).message),ve=Mx(X),de=ve?void 0:X;throw _o(this).debug(`[${A}] response error (${B})`,Ol({retryOfRequestLogID:o,url:M.url,status:M.status,headers:M.headers,message:de,durationMs:Date.now()-C})),this.makeStatusError(M.status,ve,de,M.headers)}return _o(this).info(j),_o(this).debug(`[${A}] response start`,Ol({retryOfRequestLogID:o,url:M.url,status:M.status,headers:M.headers,durationMs:R-C})),{response:M,options:c,controller:I,requestLogID:A,retryOfRequestLogID:o,startTime:C}}async fetchWithTimeout(e,n,o,a){const s=n||{},{signal:u,method:c}=s,h=md(s,["signal","method"]);u&&u.addEventListener("abort",()=>a.abort());const f=setTimeout(()=>a.abort(),o),g=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},g?{duplex:"half"}:{}),{method:"GET"}),h);c&&(_.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,a){var s;let u;const c=a==null?void 0:a.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(u=f)}const h=a==null?void 0:a.get("retry-after");if(h&&!u){const f=parseFloat(h);Number.isNaN(f)?u=Date.parse(h)-Date.now():u=f*1e3}if(!(u&&0<=u&&u<60*1e3)){const f=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Ix(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,u=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,a,s;const u=Object.assign({},e),{method:c,path:h,query:f,defaultBaseURL:g}=u,_=this.buildURL(h,f,g);"timeout"in u&&Rx("timeout",u.timeout),u.timeout=(o=u.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:A,body:S}=this.buildBody({options:u}),C=await this.buildHeaders({options:e,method:c,bodyHeaders:A,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:C},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(s=u.fetchOptions)!==null&&s!==void 0?s:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:a}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let c=zc([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Ux()),this._options.defaultHeaders,o,e.headers,u]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=zc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Fx(e)}:this.encoder({body:e,headers:o})}}Md.DEFAULT_TIMEOUT=6e4;class Vi extends Md{constructor(){super(...arguments),this.interactions=new Fy(this)}}qy=Vi;Vi.GeminiNextGenAPIClient=qy;Vi.GeminiNextGenAPIClientError=Lr;Vi.APIError=wo;Vi.APIConnectionError=Ld;Vi.APIConnectionTimeoutError=wy;Vi.APIUserAbortError=Hp;Vi.NotFoundError=Ty;Vi.ConflictError=Ny;Vi.RateLimitError=Ly;Vi.BadRequestError=Ay;Vi.AuthenticationError=xy;Vi.InternalServerError=Ry;Vi.PermissionDeniedError=Ey;Vi.UnprocessableEntityError=Cy;Vi.toFile=Yx;Vi.Interactions=Fy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(t,e){const n={},o=p(t,["name"]);return o!=null&&v(n,["_url","name"],o),n}function rE(t,e){const n={},o=p(t,["name"]);return o!=null&&v(n,["_url","name"],o),n}function aE(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&v(n,["sdkHttpResponse"],o),n}function sE(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&v(n,["sdkHttpResponse"],o),n}function lE(t,e,n){const o={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=p(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&v(e,["displayName"],a),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=p(t,["epochCount"]);e!==void 0&&s!=null&&v(e,["tuningTask","hyperparameters","epochCount"],s);const u=p(t,["learningRateMultiplier"]);if(u!=null&&v(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(p(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(p(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","batchSize"],c);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&v(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(p(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(p(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(p(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(p(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return o}function uE(t,e,n){const o={};let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const X=p(t,["validationDataset"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec"],ep(X))}else if(a==="PREFERENCE_TUNING"){const X=p(t,["validationDataset"]);e!==void 0&&X!=null&&v(e,["preferenceOptimizationSpec"],ep(X))}else if(a==="DISTILLATION"){const X=p(t,["validationDataset"]);e!==void 0&&X!=null&&v(e,["distillationSpec"],ep(X))}const s=p(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&v(e,["tunedModelDisplayName"],s);const u=p(t,["description"]);e!==void 0&&u!=null&&v(e,["description"],u);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const X=p(t,["epochCount"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],X)}else if(c==="PREFERENCE_TUNING"){const X=p(t,["epochCount"]);e!==void 0&&X!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],X)}else if(c==="DISTILLATION"){const X=p(t,["epochCount"]);e!==void 0&&X!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],X)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const X=p(t,["learningRateMultiplier"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],X)}else if(h==="PREFERENCE_TUNING"){const X=p(t,["learningRateMultiplier"]);e!==void 0&&X!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],X)}else if(h==="DISTILLATION"){const X=p(t,["learningRateMultiplier"]);e!==void 0&&X!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],X)}let f=p(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const X=p(t,["exportLastCheckpointOnly"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],X)}else if(f==="PREFERENCE_TUNING"){const X=p(t,["exportLastCheckpointOnly"]);e!==void 0&&X!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],X)}else if(f==="DISTILLATION"){const X=p(t,["exportLastCheckpointOnly"]);e!==void 0&&X!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],X)}let g=p(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const X=p(t,["adapterSize"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],X)}else if(g==="PREFERENCE_TUNING"){const X=p(t,["adapterSize"]);e!==void 0&&X!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],X)}else if(g==="DISTILLATION"){const X=p(t,["adapterSize"]);e!==void 0&&X!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],X)}let _=p(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const X=p(t,["tuningMode"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","tuningMode"],X)}const A=p(t,["customBaseModel"]);e!==void 0&&A!=null&&v(e,["customBaseModel"],A);let S=p(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const X=p(t,["batchSize"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],X)}let C=p(n,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const X=p(t,["learningRate"]);e!==void 0&&X!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],X)}const I=p(t,["labels"]);e!==void 0&&I!=null&&v(e,["labels"],I);const M=p(t,["beta"]);e!==void 0&&M!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],M);const R=p(t,["baseTeacherModel"]);e!==void 0&&R!=null&&v(e,["distillationSpec","baseTeacherModel"],R);const j=p(t,["tunedTeacherModelSource"]);e!==void 0&&j!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],j);const q=p(t,["sftLossWeightMultiplier"]);e!==void 0&&q!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],q);const B=p(t,["outputUri"]);return e!==void 0&&B!=null&&v(e,["outputUri"],B),o}function cE(t,e){const n={},o=p(t,["baseModel"]);o!=null&&v(n,["baseModel"],o);const a=p(t,["preTunedModel"]);a!=null&&v(n,["preTunedModel"],a);const s=p(t,["trainingDataset"]);s!=null&&_E(s);const u=p(t,["config"]);return u!=null&&lE(u,n),n}function fE(t,e){const n={},o=p(t,["baseModel"]);o!=null&&v(n,["baseModel"],o);const a=p(t,["preTunedModel"]);a!=null&&v(n,["preTunedModel"],a);const s=p(t,["trainingDataset"]);s!=null&&wE(s,n,e);const u=p(t,["config"]);return u!=null&&uE(u,n,e),n}function dE(t,e){const n={},o=p(t,["name"]);return o!=null&&v(n,["_url","name"],o),n}function hE(t,e){const n={},o=p(t,["name"]);return o!=null&&v(n,["_url","name"],o),n}function pE(t,e,n){const o={},a=p(t,["pageSize"]);e!==void 0&&a!=null&&v(e,["_query","pageSize"],a);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const u=p(t,["filter"]);return e!==void 0&&u!=null&&v(e,["_query","filter"],u),o}function gE(t,e,n){const o={},a=p(t,["pageSize"]);e!==void 0&&a!=null&&v(e,["_query","pageSize"],a);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const u=p(t,["filter"]);return e!==void 0&&u!=null&&v(e,["_query","filter"],u),o}function mE(t,e){const n={},o=p(t,["config"]);return o!=null&&pE(o,n),n}function vE(t,e){const n={},o=p(t,["config"]);return o!=null&&gE(o,n),n}function yE(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const s=p(t,["tunedModels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Hy(c))),v(n,["tuningJobs"],u)}return n}function bE(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["nextPageToken"]);a!=null&&v(n,["nextPageToken"],a);const s=p(t,["tuningJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Vp(c))),v(n,["tuningJobs"],u)}return n}function SE(t,e){const n={},o=p(t,["name"]);o!=null&&v(n,["model"],o);const a=p(t,["name"]);return a!=null&&v(n,["endpoint"],a),n}function _E(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=p(t,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),v(n,["examples","examples"],a)}return n}function wE(t,e,n){const o={};let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}else if(a==="DISTILLATION"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&v(e,["distillationSpec","promptDatasetUri"],u)}let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}else if(s==="DISTILLATION"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&v(e,["distillationSpec","promptDatasetUri"],u)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Hy(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["name"]);a!=null&&v(n,["name"],a);const s=p(t,["state"]);s!=null&&v(n,["state"],iy(s));const u=p(t,["createTime"]);u!=null&&v(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&v(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&v(n,["endTime"],h);const f=p(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const g=p(t,["description"]);g!=null&&v(n,["description"],g);const _=p(t,["baseModel"]);_!=null&&v(n,["baseModel"],_);const A=p(t,["_self"]);return A!=null&&v(n,["tunedModel"],SE(A)),n}function Vp(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["name"]);a!=null&&v(n,["name"],a);const s=p(t,["state"]);s!=null&&v(n,["state"],iy(s));const u=p(t,["createTime"]);u!=null&&v(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&v(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&v(n,["endTime"],h);const f=p(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const g=p(t,["error"]);g!=null&&v(n,["error"],g);const _=p(t,["description"]);_!=null&&v(n,["description"],_);const A=p(t,["baseModel"]);A!=null&&v(n,["baseModel"],A);const S=p(t,["tunedModel"]);S!=null&&v(n,["tunedModel"],S);const C=p(t,["preTunedModel"]);C!=null&&v(n,["preTunedModel"],C);const I=p(t,["supervisedTuningSpec"]);I!=null&&v(n,["supervisedTuningSpec"],I);const M=p(t,["preferenceOptimizationSpec"]);M!=null&&v(n,["preferenceOptimizationSpec"],M);const R=p(t,["distillationSpec"]);R!=null&&v(n,["distillationSpec"],R);const j=p(t,["tuningDataStats"]);j!=null&&v(n,["tuningDataStats"],j);const q=p(t,["encryptionSpec"]);q!=null&&v(n,["encryptionSpec"],q);const B=p(t,["partnerModelTuningSpec"]);B!=null&&v(n,["partnerModelTuningSpec"],B);const X=p(t,["customBaseModel"]);X!=null&&v(n,["customBaseModel"],X);const ve=p(t,["experiment"]);ve!=null&&v(n,["experiment"],ve);const de=p(t,["labels"]);de!=null&&v(n,["labels"],de);const re=p(t,["outputUri"]);re!=null&&v(n,["outputUri"],re);const G=p(t,["pipelineJob"]);G!=null&&v(n,["pipelineJob"],G);const te=p(t,["serviceAccount"]);te!=null&&v(n,["serviceAccount"],te);const U=p(t,["tunedModelDisplayName"]);U!=null&&v(n,["tunedModelDisplayName"],U);const Y=p(t,["veoTuningSpec"]);return Y!=null&&v(n,["veoTuningSpec"],Y),n}function AE(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&v(n,["sdkHttpResponse"],o);const a=p(t,["name"]);a!=null&&v(n,["name"],a);const s=p(t,["metadata"]);s!=null&&v(n,["metadata"],s);const u=p(t,["done"]);u!=null&&v(n,["done"],u);const c=p(t,["error"]);return c!=null&&v(n,["error"],c),n}function ep(t,e){const n={},o=p(t,["gcsUri"]);o!=null&&v(n,["validationDatasetUri"],o);const a=p(t,["vertexDatasetResource"]);return a!=null&&v(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xE extends ms{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Gl(ps.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:a});return s.baseModel=void 0,await this.tuneInternal(s)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),s=await this.tuneMldevInternal(a);let u="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?u=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(u=s.name.split("/operations/")[0]),{name:u,state:Mp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=hE(e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>Vp(g))}else{const f=dE(e);return c=Xe("{name}",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>Hy(g))}}async listInternal(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=vE(e);return c=Xe("tuningJobs",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=bE(g),A=new Q1;return Object.assign(A,_),A})}else{const f=mE(e);return c=Xe("tunedModels",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=yE(g),A=new Q1;return Object.assign(A,_),A})}}async cancel(e){var n,o,a,s;let u,c="",h={};if(this.apiClient.isVertexAI()){const f=rE(e);return c=Xe("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=sE(g),A=new $1;return Object.assign(A,_),A})}else{const f=oE(e);return c=Xe("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:g.headers},A})),u.then(g=>{const _=aE(g),A=new $1;return Object.assign(A,_),A})}}async tuneInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI()){const c=fE(e,e);return s=Xe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Vp(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let a,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cE(e);return s=Xe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>AE(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EE{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TE=1024*1024*8,NE=3,CE=1e3,LE=2,yd="x-goog-upload-status";async function RE(t,e,n){var o;const a=await zy(t,e,n),s=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[yd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function ME(t,e,n){var o;const a=await zy(t,e,n),s=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[yd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=Zv(s),c=new c0;return Object.assign(c,u),c}async function zy(t,e,n){var o,a;let s=0,u=0,c=new kp(new Response),h="upload";for(s=t.size;u<s;){const f=Math.min(TE,s-u),g=t.slice(u,u+f);u+f>=s&&(h+=", finalize");let _=0,A=CE;for(;_<NE&&(c=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(f)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[yd]));)_++,await kE(A),A=A*LE;if(u+=f,((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[yd])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function IE(t){return{size:t.size,type:t.type}}function kE(t){return new Promise(e=>setTimeout(e,t))}class DE{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RE(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ME(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PE{create(e,n,o){return new UE(e,n,o)}}class UE{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T2="x-goog-api-key";class OE{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(T2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(T2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FE="gl-node/";class Gy{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Vi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=LS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new OE(this.apiKey);this.apiClient=new I4({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:FE+"web",uploader:new DE,downloader:new EE}),this.models=new Z4(this.apiClient),this.live=new Y4(this.apiClient,a,new PE),this.batches=new rw(this.apiClient),this.chats=new qw(this.models,this.apiClient),this.caches=new Ow(this.apiClient),this.files=new Qw(this.apiClient),this.operations=new Q4(this.apiClient),this.authTokens=new px(this.apiClient),this.tunings=new xE(this.apiClient),this.fileSearchStores=new wx(this.apiClient)}}function BE(t){const e=atob(t),n=e.length,o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=e.charCodeAt(a);return o}async function qE(t,e,n,o){const a=new Int16Array(t.buffer),s=a.length/o,u=e.createBuffer(o,s,n);for(let c=0;c<o;c++){const h=u.getChannelData(c);for(let f=0;f<s;f++)h[f]=a[f*o+c]/32768}return u}const HE=()=>{const[t,e]=Ye.useState(!1),[n,o]=Ye.useState(null),a=Ye.useRef(null),s=Ye.useCallback((c,h)=>{if(!("speechSynthesis"in window)){o("Text-to-speech not supported in this browser."),e(!1);return}window.speechSynthesis.cancel();const f=new SpeechSynthesisUtterance(c);f.lang=h==="es"?"es-ES":"en-US";const _=window.speechSynthesis.getVoices().find(A=>A.lang.startsWith(h));_&&(f.voice=_),f.onstart=()=>e(!0),f.onend=()=>e(!1),f.onerror=A=>{console.error("Native TTS Error:",A),e(!1),o("Native text-to-speech failed.")},window.speechSynthesis.speak(f)},[]);return{speak:Ye.useCallback(async(c,h)=>{var g,_,A,S,C,I;e(!0),o(null),a.current&&a.current.state!=="closed"&&a.current.close();let f=null;try{const M=localStorage.getItem("gemini_api_key");M&&(f=JSON.parse(M))}catch(M){console.error("Could not parse API Key from localStorage",M)}if(!f){console.warn("No API Key found. Falling back to native TTS."),s(c,h);return}try{const j=(I=(C=(S=(A=(_=(g=(await new Gy({apiKey:f}).models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:c}]}],config:{responseModalities:[Wc.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:h==="es"?"Puck":"Kore"}}}}})).candidates)==null?void 0:g[0])==null?void 0:_.content)==null?void 0:A.parts)==null?void 0:S[0])==null?void 0:C.inlineData)==null?void 0:I.data;if(!j)throw new Error("No audio data received from API.");const q=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});a.current=q;const B=q.createGain();B.connect(q.destination);const X=await qE(BE(j),q,24e3,1),ve=q.createBufferSource();ve.buffer=X,ve.connect(B),ve.start(),ve.onended=()=>{e(!1),q.state!=="closed"&&q.close()}}catch(M){console.error("TTS API Error:",M),console.warn("API failed. Falling back to native TTS."),s(c,h)}},[s]),isSpeaking:t,error:n}};function ju(t,e){const[n,o]=Ye.useState(()=>{if(typeof window>"u")return e;try{const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch(s){return console.error(s),e}});return[n,s=>{try{const u=s instanceof Function?s(n):s;o(u),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(u))}catch(u){console.error(u)}}]}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=t=>{const e=GE(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Ye.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:s,iconNode:u,...c},h)=>Ye.createElement("svg",{ref:h,...VE,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:Vy("lucide",a),...!s&&!YE(c)&&{"aria-hidden":"true"},...c},[...u.map(([f,g])=>Ye.createElement(f,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=(t,e)=>{const n=Ye.forwardRef(({className:o,...a},s)=>Ye.createElement(JE,{ref:s,iconNode:e,className:Vy(`lucide-${zE(N2(t))}`,`lucide-${t}`,o),...a}));return n.displayName=N2(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["path",{d:"M14.856 6H16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.935",key:"lre1cr"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M5.14 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.936",key:"13q5k0"}]],KE=Wn("battery-charging",jE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],XE=Wn("battery",WE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QE=Wn("check",ZE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Yp=Wn("clipboard-list",$E);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tT=Wn("external-link",eT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],iT=Wn("file-down",nT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],tp=Wn("flag",oT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],aT=Wn("key",rT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lT=Wn("loader-circle",sT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],cT=Wn("mic",uT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Jp=Wn("pencil",fT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yy=Wn("save",dT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pT=Wn("send",hT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mT=Wn("settings",gT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yT=Wn("shield-alert",vT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ST=Wn("smartphone",bT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],np=Wn("sparkles",_T);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jy=Wn("trash-2",wT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y0=Wn("triangle-alert",AT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ip=Wn("user-plus",xT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TT=Wn("user",ET);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],C2=Wn("volume-2",NT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],LT=Wn("volume-x",CT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$u=Wn("x",RT),MT=()=>{const[t,e]=Ye.useState({isSupported:typeof navigator<"u"&&"getBattery"in navigator,level:null,charging:null});return Ye.useEffect(()=>{if(!t.isSupported)return;let n=null;const o=()=>{n&&e({isSupported:!0,level:Math.round(n.level*100),charging:n.charging})};return navigator.getBattery().then(a=>{n=a,o(),n.addEventListener("levelchange",o),n.addEventListener("chargingchange",o)}),()=>{n&&(n.removeEventListener("levelchange",o),n.removeEventListener("chargingchange",o))}},[t.isSupported]),t},IT=({language:t,onDeactivateAlert:e})=>{const{isMuted:n,toggleSound:o,hasAudioPermission:a,attemptResume:s}=xS(),{speak:u,isSpeaking:c}=HE(),[h]=ju("emergency_contacts",[]),f=il[t],[g,_]=Ye.useState(0),{level:A,charging:S,isSupported:C}=MT(),[I,M]=Ye.useState(f.alertStatus),R=h.length>0?h[0]:null,[j,q]=Ye.useState(30),[B,X]=Ye.useState(!!R),ve=Ye.useRef(null),de=Ye.useRef(null),[re,G]=Ye.useState(0),[te,U]=Ye.useState(!1);Ye.useEffect(()=>{const ae=`seizure_alert_status_message_${t}`,we=localStorage.getItem(ae)||f.alertStatus;M(we)},[t,f.alertStatus]),Ye.useEffect(()=>{const ae=setInterval(()=>{_(ue=>ue+1)},1e3);return()=>clearInterval(ae)},[]),Ye.useEffect(()=>{if(B&&R)return de.current=window.setTimeout(()=>{window.location.href=`tel:${R.phone}`,X(!1),ve.current&&clearInterval(ve.current)},3e4),ve.current=window.setInterval(()=>{q(ae=>ae>0?ae-1:0)},1e3),()=>{de.current&&clearTimeout(de.current),ve.current&&clearInterval(ve.current)}},[B,R]);const Y=()=>{X(!1)},se=ae=>{const ue=Math.floor(ae/60).toString().padStart(2,"0"),we=(ae%60).toString().padStart(2,"0");return`${ue}:${we}`},oe=()=>{const ae=`${f.ttsIntro} ${f.instructions.join(". ")}`;u(ae,t)},Ae=!B&&j===0,ne=!B&&j>0;return $.jsx($.Fragment,{children:$.jsxs("div",{className:"h-[100dvh] w-screen alert-active flex flex-col box-border cursor-pointer overflow-hidden",onClick:()=>{a||s()},children:[$.jsxs("header",{className:"relative text-center p-2 flex-shrink-0",children:[$.jsx("div",{className:"absolute top-2 right-2",children:$.jsx("button",{onClick:ae=>{ae.stopPropagation(),o()},className:"p-2 rounded-full bg-black/20 hover:bg-black/40","aria-label":n?f.sirenUnmute:f.sirenMute,children:n?$.jsx(LT,{className:"w-6 h-6"}):$.jsx(C2,{className:"w-6 h-6"})})}),$.jsx(y0,{className:"w-12 h-12 mx-auto mb-1"}),$.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold tracking-tight leading-none",children:f.alertTitle}),$.jsx("div",{className:"w-full max-w-4xl mx-auto mt-2 px-4",children:$.jsx("p",{className:"text-lg md:text-2xl font-medium text-center leading-tight break-words line-clamp-3",children:I||f.alertStatus})})]}),$.jsxs("main",{className:"flex-grow flex flex-col items-center justify-start px-4 py-2 w-full overflow-y-auto min-h-0",children:[$.jsxs("div",{className:"flex items-center justify-center gap-4 my-2 w-full max-w-2xl bg-black bg-opacity-20 rounded-lg p-3",children:[$.jsxs("div",{className:"flex items-center gap-3 border-r border-white/20 pr-4",children:[$.jsx("span",{className:"text-sm font-semibold opacity-80 uppercase tracking-wider",children:f.durationLabel}),$.jsx("span",{className:"text-4xl md:text-5xl font-mono font-bold tracking-widest",children:se(g)})]}),C&&A!==null&&$.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[S?$.jsx(KE,{className:"w-6 h-6 md:w-8 md:h-8"}):$.jsx(XE,{className:"w-6 h-6 md:w-8 md:h-8"}),$.jsxs("span",{className:"text-xl md:text-2xl font-mono font-bold",children:[A,"%"]})]})]}),R&&$.jsxs("div",{className:"text-center bg-black bg-opacity-20 rounded-lg p-3 my-2 w-full max-w-2xl",children:[B&&$.jsxs("div",{children:[$.jsxs("p",{className:"text-lg",children:["Automatically calling ",R.name," (",R.relation,") in ",$.jsxs("span",{className:"font-bold text-xl",children:[j,"s"]})]}),$.jsxs("div",{className:"relative w-full max-w-xs h-14 bg-gray-700 rounded-full mt-4 overflow-hidden select-none mx-auto touch-none",children:[$.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-bold pointer-events-none uppercase tracking-wider opacity-50 text-sm",children:"Slide to Cancel"}),$.jsx("div",{className:"absolute left-1 top-1 bottom-1 w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md cursor-grab active:cursor-grabbing",style:{transform:`translateX(${re}px)`},onPointerDown:ae=>{ae.target.setPointerCapture(ae.pointerId),U(!0)},onPointerMove:ae=>{if(te){const we=ae.currentTarget.parentElement.offsetWidth-56;let Oe=ae.clientX-ae.currentTarget.parentElement.getBoundingClientRect().left-24;Oe=Math.max(0,Math.min(Oe,we)),G(Oe),Oe>=we*.9&&(Y(),U(!1),G(0))}},onPointerUp:ae=>{U(!1),G(0),ae.target.releasePointerCapture(ae.pointerId)},onPointerLeave:ae=>{te&&(U(!1),G(0))},children:$.jsx($u,{className:"w-6 h-6 text-red-600"})})]})]}),ne&&$.jsxs("p",{className:"text-lg opacity-70",children:["Automatic call to ",R.name," was cancelled."]}),Ae&&$.jsxs("p",{className:"text-lg text-green-400",children:["Automatic call to ",R.name," initiated."]})]}),$.jsxs("div",{className:"w-full max-w-2xl bg-black bg-opacity-20 rounded-lg p-6 my-2",children:[$.jsxs("div",{className:"flex justify-between items-center mb-3",children:[$.jsx("h2",{className:"text-3xl font-bold",children:f.instructionsTitle}),$.jsx("button",{onClick:oe,disabled:c,className:"p-2 rounded-full hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Read instructions aloud",children:c?$.jsx(lT,{className:"w-6 h-6 animate-spin"}):$.jsx(C2,{className:"w-6 h-6"})})]}),$.jsx("ol",{className:"space-y-3 list-decimal list-inside text-lg md:text-xl",children:f.instructions.map((ae,ue)=>$.jsx("li",{children:ae},ue))})]}),$.jsxs("div",{className:"w-full max-w-2xl bg-black bg-opacity-20 rounded-lg my-2 p-4",children:[$.jsx("h3",{className:"text-2xl font-bold mb-3",children:f.emergencyContacts}),h.length>0?$.jsx("div",{className:"space-y-2",children:h.map(ae=>$.jsxs("div",{className:"flex justify-between items-center text-lg",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-semibold",children:ae.name}),$.jsxs("span",{className:"opacity-80",children:[" (",ae.relation,")"]})]}),$.jsx("a",{href:`tel:${ae.phone}`,className:"font-mono bg-white/20 px-3 py-1 rounded-md hover:bg-white/30",children:ae.phone})]},ae.id))}):$.jsx("p",{className:"text-lg opacity-80 text-center py-2",children:f.noContactsMessage})]})]}),$.jsx("footer",{className:"p-4 sm:p-6 flex-shrink-0",children:$.jsx("button",{onClick:()=>e(g),className:"w-full text-3xl font-bold py-4 px-8 bg-green-600 text-white rounded-lg shadow-lg hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-400 transition-colors",children:f.imOkButton})})]})})},kT=t=>{const[e,n]=Ye.useState([]),[o,a]=Ye.useState(""),[s,u]=Ye.useState(!1),[c,h]=Ye.useState(null);Ye.useEffect(()=>{n([{role:"model",text:il[t].chatInitialGreeting}])},[t]);const f=Ye.useCallback(async(g,_)=>{if(!g.trim())return;u(!0),a(""),h(null),n(S=>[...S,{role:"user",text:g,priority:_}]);let A=null;try{const S=localStorage.getItem("gemini_api_key");S&&(A=JSON.parse(S))}catch(S){console.error("Could not parse API Key from localStorage",S)}if(!A){const S="API Key not found. Please set it in the settings.";h(S),n(C=>[...C,{role:"model",text:S}]),u(!1);return}try{const I=await new Gy({apiKey:A}).chats.create({model:"gemini-2.5-flash",config:{systemInstruction:wS(t)}}).sendMessageStream({message:g});n(M=>[...M,{role:"model",text:""}]);for await(const M of I){const R=M.text;n(j=>{const q=j[j.length-1];return q&&q.role==="model"?[...j.slice(0,-1),{...q,text:q.text+R}]:j})}}catch(S){console.error("Gemini API error:",S);const C="Sorry, I'm having trouble connecting. Please try again later.";h(C),n(I=>{const M=I[I.length-1];return M&&M.role==="model"&&M.text===""?[...I.slice(0,-1),{role:"model",text:C}]:[...I,{role:"model",text:C}]})}finally{u(!1)}},[t]);return{messages:e,input:o,setInput:a,sendMessage:f,isLoading:s,error:c}},jy=window.SpeechRecognition||window.webkitSpeechRecognition,L2=!!jy,DT=()=>{const[t,e]=Ye.useState(!1),[n,o]=Ye.useState(""),a=Ye.useRef(null);Ye.useEffect(()=>{if(!L2)return;const u=new jy;u.continuous=!1,u.interimResults=!1,u.lang="en-US",u.onresult=c=>{const h=c.results[0][0].transcript;o(h)},u.onerror=c=>{console.error("Speech recognition error",c.error)},u.onend=()=>{e(!1)},a.current=u},[]);const s=Ye.useCallback(()=>{a.current&&!t&&(o(""),a.current.start(),e(!0))},[t]);return{isListening:t,transcript:n,startListening:s,hasRecognitionSupport:L2}},PT=({isOpen:t,onClose:e,language:n})=>{var G;const{messages:o,input:a,setInput:s,sendMessage:u,isLoading:c,error:h}=kT(n),{transcript:f,isListening:g,startListening:_,hasRecognitionSupport:A}=DT(),[S,C]=Ye.useState("medium"),[I,M]=Ye.useState(!1),[R]=ju("gemini_api_key",""),j=il[n],q=Ye.useRef(null),B=Ye.useRef(null);if(Ye.useEffect(()=>{f&&s(f)},[f,s]),Ye.useEffect(()=>{q.current&&(q.current.scrollTop=q.current.scrollHeight)},[o,c,h]),Ye.useEffect(()=>{const te=U=>{B.current&&!B.current.contains(U.target)&&M(!1)};return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[]),!t)return null;const X=()=>{a.trim()&&(u(a,S),M(!1))},ve=te=>{te.key==="Enter"&&X()},de=g?j.chatMicListening:A?"Use microphone":j.chatMicError,re=!R;return $.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 transition-opacity duration-300 backdrop-blur-sm",onClick:e,children:$.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-lg h-[90vh] max-h-[700px] flex flex-col transform transition-all",onClick:te=>te.stopPropagation(),children:[$.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx(np,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),$.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:j.chatTitle})]}),$.jsx("button",{onClick:e,className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors","aria-label":"Close Chat",children:$.jsx($u,{className:"w-6 h-6"})})]}),$.jsxs("div",{ref:q,className:"flex-grow p-4 overflow-y-auto space-y-4",children:[o.map((te,U)=>$.jsxs("div",{className:`flex items-start gap-3 ${te.role==="user"?"justify-end":""}`,children:[te.role==="model"&&$.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:$.jsx(np,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),$.jsx("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${te.role==="user"?"bg-blue-500 text-white rounded-br-none":`rounded-bl-none ${h&&U===o.length-1?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`}`,children:$.jsx("p",{className:"whitespace-pre-wrap",children:te.text})}),te.role==="user"&&$.jsxs("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center relative",children:[$.jsx(TT,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),te.priority&&$.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-gray-700 rounded-full p-0.5 shadow",children:$.jsx(tp,{className:`w-4 h-4 ${te.priority==="high"?"text-red-500":te.priority==="medium"?"text-yellow-500":"text-gray-400"}`})})]})]},U)),c&&((G=o[o.length-1])==null?void 0:G.role)==="user"&&$.jsxs("div",{className:"flex items-start gap-3",children:[$.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:$.jsx(np,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),$.jsx("div",{className:"max-w-xs md:max-w-md p-3 rounded-2xl bg-gray-200 text-gray-800 rounded-bl-none dark:bg-gray-700 dark:text-gray-200",children:$.jsxs("div",{className:"flex items-center justify-center space-x-1 h-5",children:[$.jsx("span",{className:"h-2 w-2 bg-gray-500 dark:bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),$.jsx("span",{className:"h-2 w-2 bg-gray-500 dark:bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),$.jsx("span",{className:"h-2 w-2 bg-gray-500 dark:bg-gray-400 rounded-full animate-bounce"})]})})]})]}),$.jsx("footer",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:re?$.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 p-2 rounded-md bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800",children:j.chatAPIKeyMissing}):$.jsxs("div",{className:"flex items-center space-x-2",children:[$.jsxs("div",{ref:B,className:"relative",children:[$.jsx("button",{onClick:()=>M(te=>!te),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors group","aria-label":"Set message priority",children:$.jsx(tp,{className:`w-6 h-6 ${S==="high"?"text-red-500":S==="medium"?"text-yellow-500":"text-gray-400"}`})}),I&&$.jsx("div",{className:"absolute bottom-full mb-2 bg-white dark:bg-gray-900 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 w-36 z-10",children:["high","medium","low"].map(te=>$.jsxs("button",{onClick:()=>{C(te),M(!1)},className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-800 ${S===te?"font-bold text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:[$.jsx(tp,{className:`w-4 h-4 ${te==="high"?"text-red-500":te==="medium"?"text-yellow-500":"text-gray-400"}`}),$.jsxs("span",{className:"capitalize",children:[te," Priority"]})]},te))})]}),$.jsx("input",{type:"text",value:a,onChange:te=>s(te.target.value),onKeyPress:ve,placeholder:j.chatPlaceholder,className:"flex-grow px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",disabled:c||g}),A&&$.jsxs("button",{onClick:_,className:`p-2 rounded-full transition-colors relative group ${g?"bg-red-500 text-white animate-pulse":"bg-gray-200 text-gray-600 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500"}`,disabled:c,"aria-label":de,children:[$.jsx(cT,{className:"w-6 h-6"}),$.jsx("span",{className:"absolute bottom-full mb-2 w-max px-2 py-1 bg-gray-700 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap dark:bg-black",children:de})]}),$.jsx("button",{onClick:X,disabled:c||!a.trim(),className:"bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed",children:$.jsx(pT,{className:"w-6 h-6"})})]})})]})})},UT=({language:t,t:e})=>{const[n,o]=Ye.useState("");Ye.useEffect(()=>{const s=localStorage.getItem(`seizure_alert_status_message_${t}`);o(s||e.alertStatus)},[t,e.alertStatus]);const a=()=>{localStorage.setItem(`seizure_alert_status_message_${t}`,n),alert("Message saved!")};return $.jsxs("div",{className:"flex flex-col gap-2",children:[$.jsx("textarea",{value:n,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 h-24 resize-none",placeholder:"Enter custom alert message..."}),$.jsxs("button",{onClick:a,className:"self-end px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2",children:[$.jsx(Yy,{className:"w-4 h-4"}),e.settingsSave]})]})},OT=({isOpen:t,onClose:e,language:n})=>{const[o,a]=ju("emergency_contacts",[]),[s,u]=ju("patient_info",{name:"",bloodType:"",medicalConditions:""}),[c,h]=ju("gemini_api_key",""),[f,g]=Ye.useState({name:"",relation:"",phone:""}),[_,A]=Ye.useState(c),[S,C]=Ye.useState(null),[I,M]=Ye.useState(null),[R,j]=Ye.useState(null),[q,B]=Ye.useState(!1),X=il[n];if(Ye.useEffect(()=>{t||(C(null),M(null),j(null),B(!1))},[t]),!t)return null;const ve=te=>{te.preventDefault(),f.name.trim()&&f.phone.trim()&&(a([...o,{...f,id:Date.now().toString()}]),g({name:"",relation:"",phone:""}),B(!1))},de=()=>{B(!1),g({name:"",relation:"",phone:""})},re=te=>{a(o.filter(U=>U.id!==te))},G=()=>{h(_)};return $.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:$.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl h-[90vh] max-h-[800px] flex flex-col",children:[$.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[$.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:X.settingsTitle}),$.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white",children:$.jsx($u,{className:"w-6 h-6"})})]}),$.jsxs("main",{className:"flex-grow p-6 overflow-y-auto space-y-8",children:[$.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[$.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[$.jsx(ip,{className:"w-5 h-5 text-blue-500"}),X.settingsPatientInfo]}),$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium mb-1 opacity-80",children:X.settingsPatientName}),$.jsx("input",{type:"text",value:s.name,onChange:te=>u({...s,name:te.target.value}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500",placeholder:"e.g. John Doe"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium mb-1 opacity-80",children:X.settingsBloodType}),$.jsxs("select",{value:s.bloodType,onChange:te=>u({...s,bloodType:te.target.value}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500",children:[$.jsx("option",{value:"",children:X.settingsBloodTypePlaceholder}),["A+","A-","B+","B-","AB+","AB-","O+","O-","Unknown"].map(te=>$.jsx("option",{value:te,children:te},te))]})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium mb-1 opacity-80",children:X.settingsMedicalConditions}),$.jsx("textarea",{value:s.medicalConditions,onChange:te=>u({...s,medicalConditions:te.target.value}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 h-24 resize-none",placeholder:"e.g. Epilepsy, Peanut Allergy..."})]})]})]}),$.jsxs("section",{children:[$.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[$.jsx(ip,{className:"w-6 h-6"}),X.emergencyContacts]}),$.jsxs("div",{className:"space-y-3",children:[o.map(te=>$.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[$.jsxs("div",{children:[$.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[te.name," (",te.relation,")"]}),$.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:te.phone})]}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("button",{onClick:()=>{g({name:te.name,relation:te.relation,phone:te.phone}),B(!0),C(te.id)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:$.jsx(Jp,{className:"w-5 h-5"})}),$.jsx("button",{onClick:()=>re(te.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:$.jsx(Jy,{className:"w-5 h-5"})})]})]},te.id)),q?$.jsxs("form",{onSubmit:ve,className:"space-y-3 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[$.jsx("input",{type:"text",placeholder:X.settingsContactName,value:f.name,onChange:te=>g({...f,name:te.target.value}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500",required:!0}),$.jsx("input",{type:"text",placeholder:X.settingsContactRelation,value:f.relation,onChange:te=>g({...f,relation:te.target.value}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500"}),$.jsx("input",{type:"tel",placeholder:X.settingsContactPhone,value:f.phone,onChange:te=>g({...f,phone:te.target.value}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500",required:!0})]}),$.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[$.jsx("button",{type:"submit",disabled:!f.name.trim()||!f.phone.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400 w-full sm:w-auto",children:X.settingsSave}),$.jsx("button",{type:"button",onClick:de,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 w-full sm:w-auto",children:X.settingsCancel})]})]}):$.jsxs("button",{onClick:()=>B(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",disabled:!!S,children:[$.jsx(ip,{className:"w-5 h-5"}),$.jsx("span",{children:X.settingsAddContact})]})]})]}),$.jsxs("section",{children:[$.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[$.jsx(Jp,{className:"w-6 h-6"}),"Custom Alert Message"]}),$.jsxs("div",{className:"space-y-3",children:[$.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This message will be displayed on the screen during an emergency."}),$.jsx(UT,{language:n,t:X})]})]}),$.jsxs("section",{children:[$.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[$.jsx(aT,{className:"w-6 h-6"}),X.settingsAPIKey]}),$.jsxs("div",{className:"space-y-3",children:[$.jsx("label",{htmlFor:"api-key",className:"font-medium text-gray-700 dark:text-gray-300",children:X.settingsAPIKeyLabel}),$.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[X.settingsAPIKeyDesc,$.jsx("br",{}),$.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300 transition-colors inline-flex items-center gap-1 mt-1",children:["Get your free API Key from Google AI Studio ",$.jsx(tT,{className:"w-3 h-3"})]})]}),$.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-md border border-yellow-200 dark:border-yellow-800/50 text-sm text-yellow-800 dark:text-yellow-200 flex gap-2 items-start",children:[$.jsx(yT,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),$.jsxs("span",{children:["Your API key is stored ",$.jsx("strong",{children:"locally"})," on your device. It is used directly to communicate with Google's servers and is never shared with us."]})]}),$.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[$.jsx("input",{id:"api-key",type:"password",value:_,onChange:te=>A(te.target.value),placeholder:X.settingsAPIKeyPlaceholder,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-600 dark:border-gray-500"}),$.jsxs("button",{onClick:G,className:"w-full sm:w-auto px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center justify-center gap-2",children:[$.jsx(Yy,{className:"w-5 h-5"}),X.settingsSave]})]})]})]}),$.jsxs("section",{children:[$.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[$.jsx(ST,{className:"w-6 h-6"}),"NFC Activation (Tap-to-Alert)"]}),$.jsxs("div",{className:"space-y-3",children:[$.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Program an NFC tag to instantly launch this app in Emergency Mode when tapped."}),$.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800",children:[$.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-200 mb-2",children:"How to use:"}),$.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-700 dark:text-blue-300",children:[$.jsx("li",{children:"Tap the button below."}),$.jsx("li",{children:"When prompted, hold your phone near a writable NFC tag."}),$.jsx("li",{children:'The tag will be programmed with the "Emergency Link".'})]})]}),$.jsx("button",{onClick:async()=>{try{if(!("NDEFReader"in window)){alert("NFC is not supported on this device/browser. Try using Chrome on Android, or a dedicated NFC Tools app to write this URL: "+window.location.href+"?emergency=true");return}await new window.NDEFReader().write({records:[{recordType:"url",data:window.location.origin+window.location.pathname+"?emergency=true"}]}),alert(" Success! Tag programmed. Tap it to test.")}catch(te){console.error(te),alert(" Write failed. Make sure NFC is on and the tag is unlocked.")}},className:"w-full sm:w-auto px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium flex items-center justify-center gap-2 shadow-sm transition-all active:scale-95",children:"Start NFC Programming"})]})]})]})]})})},FT="modulepreload",BT=function(t){return"/seizure-alert-app/"+t},R2={},op=function(e,n,o){let a=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=u(n.map(f=>{if(f=BT(f),f in R2)return;R2[f]=!0;const g=f.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":FT,g||(A.as="script"),A.crossOrigin="",A.href=f,h&&A.setAttribute("nonce",h),document.head.appendChild(A),g)return new Promise((S,C)=>{A.addEventListener("load",S),A.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function xn(t){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(t)}var la=Uint8Array,lr=Uint16Array,b0=Int32Array,S0=new la([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_0=new la([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M2=new la([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ky=function(t,e){for(var n=new lr(31),o=0;o<31;++o)n[o]=e+=1<<t[o-1];for(var a=new b0(n[30]),o=1;o<30;++o)for(var s=n[o];s<n[o+1];++s)a[s]=s-n[o]<<5|o;return{b:n,r:a}},Wy=Ky(S0,2),qT=Wy.b,jp=Wy.r;qT[28]=258,jp[258]=28;var HT=Ky(_0,0),I2=HT.r,Kp=new lr(32768);for(var Gn=0;Gn<32768;++Gn){var Qs=(Gn&43690)>>1|(Gn&21845)<<1;Qs=(Qs&52428)>>2|(Qs&13107)<<2,Qs=(Qs&61680)>>4|(Qs&3855)<<4,Kp[Gn]=((Qs&65280)>>8|(Qs&255)<<8)>>1}var Jc=(function(t,e,n){for(var o=t.length,a=0,s=new lr(e);a<o;++a)t[a]&&++s[t[a]-1];var u=new lr(e);for(a=1;a<e;++a)u[a]=u[a-1]+s[a-1]<<1;var c;if(n){c=new lr(1<<e);var h=15-e;for(a=0;a<o;++a)if(t[a])for(var f=a<<4|t[a],g=e-t[a],_=u[t[a]-1]++<<g,A=_|(1<<g)-1;_<=A;++_)c[Kp[_]>>h]=f}else for(c=new lr(o),a=0;a<o;++a)t[a]&&(c[a]=Kp[u[t[a]-1]++]>>15-t[a]);return c}),Hl=new la(288);for(var Gn=0;Gn<144;++Gn)Hl[Gn]=8;for(var Gn=144;Gn<256;++Gn)Hl[Gn]=9;for(var Gn=256;Gn<280;++Gn)Hl[Gn]=7;for(var Gn=280;Gn<288;++Gn)Hl[Gn]=8;var bd=new la(32);for(var Gn=0;Gn<32;++Gn)bd[Gn]=5;var zT=Jc(Hl,9,0),GT=Jc(bd,5,0),Xy=function(t){return(t+7)/8|0},VT=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new la(t.subarray(e,n))},cs=function(t,e,n){n<<=e&7;var o=e/8|0;t[o]|=n,t[o+1]|=n>>8},Gc=function(t,e,n){n<<=e&7;var o=e/8|0;t[o]|=n,t[o+1]|=n>>8,t[o+2]|=n>>16},rp=function(t,e){for(var n=[],o=0;o<t.length;++o)t[o]&&n.push({s:o,f:t[o]});var a=n.length,s=n.slice();if(!a)return{t:Qy,l:0};if(a==1){var u=new la(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(X,ve){return X.f-ve.f}),n.push({s:-1,f:25001});var c=n[0],h=n[1],f=0,g=1,_=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};g!=a-1;)c=n[n[f].f<n[_].f?f++:_++],h=n[f!=g&&n[f].f<n[_].f?f++:_++],n[g++]={s:-1,f:c.f+h.f,l:c,r:h};for(var A=s[0].s,o=1;o<a;++o)s[o].s>A&&(A=s[o].s);var S=new lr(A+1),C=Wp(n[g-1],S,0);if(C>e){var o=0,I=0,M=C-e,R=1<<M;for(s.sort(function(ve,de){return S[de.s]-S[ve.s]||ve.f-de.f});o<a;++o){var j=s[o].s;if(S[j]>e)I+=R-(1<<C-S[j]),S[j]=e;else break}for(I>>=M;I>0;){var q=s[o].s;S[q]<e?I-=1<<e-S[q]++-1:++o}for(;o>=0&&I;--o){var B=s[o].s;S[B]==e&&(--S[B],++I)}C=e}return{t:new la(S),l:C}},Wp=function(t,e,n){return t.s==-1?Math.max(Wp(t.l,e,n+1),Wp(t.r,e,n+1)):e[t.s]=n},k2=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new lr(++e),o=0,a=t[0],s=1,u=function(h){n[o++]=h},c=1;c<=e;++c)if(t[c]==a&&c!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(a),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(a);s=1,a=t[c]}return{c:n.subarray(0,o),n:e}},Vc=function(t,e){for(var n=0,o=0;o<e.length;++o)n+=t[o]*e[o];return n},Zy=function(t,e,n){var o=n.length,a=Xy(e+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<o;++s)t[a+s+4]=n[s];return(a+4+o)*8},D2=function(t,e,n,o,a,s,u,c,h,f,g){cs(e,g++,n),++a[256];for(var _=rp(a,15),A=_.t,S=_.l,C=rp(s,15),I=C.t,M=C.l,R=k2(A),j=R.c,q=R.n,B=k2(I),X=B.c,ve=B.n,de=new lr(19),re=0;re<j.length;++re)++de[j[re]&31];for(var re=0;re<X.length;++re)++de[X[re]&31];for(var G=rp(de,7),te=G.t,U=G.l,Y=19;Y>4&&!te[M2[Y-1]];--Y);var se=f+5<<3,oe=Vc(a,Hl)+Vc(s,bd)+u,Ae=Vc(a,A)+Vc(s,I)+u+14+3*Y+Vc(de,te)+2*de[16]+3*de[17]+7*de[18];if(h>=0&&se<=oe&&se<=Ae)return Zy(e,g,t.subarray(h,h+f));var ne,ae,ue,we;if(cs(e,g,1+(Ae<oe)),g+=2,Ae<oe){ne=Jc(A,S,0),ae=A,ue=Jc(I,M,0),we=I;var Oe=Jc(te,U,0);cs(e,g,q-257),cs(e,g+5,ve-1),cs(e,g+10,Y-4),g+=14;for(var re=0;re<Y;++re)cs(e,g+3*re,te[M2[re]]);g+=3*Y;for(var J=[j,X],L=0;L<2;++L)for(var z=J[L],re=0;re<z.length;++re){var K=z[re]&31;cs(e,g,Oe[K]),g+=te[K],K>15&&(cs(e,g,z[re]>>5&127),g+=z[re]>>12)}}else ne=zT,ae=Hl,ue=GT,we=bd;for(var re=0;re<c;++re){var ie=o[re];if(ie>255){var K=ie>>18&31;Gc(e,g,ne[K+257]),g+=ae[K+257],K>7&&(cs(e,g,ie>>23&31),g+=S0[K]);var ce=ie&31;Gc(e,g,ue[ce]),g+=we[ce],ce>3&&(Gc(e,g,ie>>5&8191),g+=_0[ce])}else Gc(e,g,ne[ie]),g+=ae[ie]}return Gc(e,g,ne[256]),g+ae[256]},YT=new b0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qy=new la(0),JT=function(t,e,n,o,a,s){var u=s.z||t.length,c=new la(o+u+5*(1+Math.ceil(u/7e3))+a),h=c.subarray(o,c.length-a),f=s.l,g=(s.r||0)&7;if(e){g&&(h[0]=s.r>>3);for(var _=YT[e-1],A=_>>13,S=_&8191,C=(1<<n)-1,I=s.p||new lr(32768),M=s.h||new lr(C+1),R=Math.ceil(n/3),j=2*R,q=function(rt){return(t[rt]^t[rt+1]<<R^t[rt+2]<<j)&C},B=new b0(25e3),X=new lr(288),ve=new lr(32),de=0,re=0,G=s.i||0,te=0,U=s.w||0,Y=0;G+2<u;++G){var se=q(G),oe=G&32767,Ae=M[se];if(I[oe]=Ae,M[se]=oe,U<=G){var ne=u-G;if((de>7e3||te>24576)&&(ne>423||!f)){g=D2(t,h,0,B,X,ve,re,te,Y,G-Y,g),te=de=re=0,Y=G;for(var ae=0;ae<286;++ae)X[ae]=0;for(var ae=0;ae<30;++ae)ve[ae]=0}var ue=2,we=0,Oe=S,J=oe-Ae&32767;if(ne>2&&se==q(G-J))for(var L=Math.min(A,ne)-1,z=Math.min(32767,G),K=Math.min(258,ne);J<=z&&--Oe&&oe!=Ae;){if(t[G+ue]==t[G+ue-J]){for(var ie=0;ie<K&&t[G+ie]==t[G+ie-J];++ie);if(ie>ue){if(ue=ie,we=J,ie>L)break;for(var ce=Math.min(J,ie-2),me=0,ae=0;ae<ce;++ae){var Le=G-J+ae&32767,Ne=I[Le],Ue=Le-Ne&32767;Ue>me&&(me=Ue,Ae=Le)}}}oe=Ae,Ae=I[oe],J+=oe-Ae&32767}if(we){B[te++]=268435456|jp[ue]<<18|I2[we];var Ve=jp[ue]&31,Ke=I2[we]&31;re+=S0[Ve]+_0[Ke],++X[257+Ve],++ve[Ke],U=G+ue,++de}else B[te++]=t[G],++X[t[G]]}}for(G=Math.max(G,U);G<u;++G)B[te++]=t[G],++X[t[G]];g=D2(t,h,f,B,X,ve,re,te,Y,G-Y,g),f||(s.r=g&7|h[g/8|0]<<3,g-=7,s.h=M,s.p=I,s.i=G,s.w=U)}else{for(var G=s.w||0;G<u+f;G+=65535){var We=G+65535;We>=u&&(h[g/8|0]=f,We=u),g=Zy(h,g+1,t.subarray(G,We))}s.i=u}return VT(c,0,o+Xy(g)+a)},$y=function(){var t=1,e=0;return{p:function(n){for(var o=t,a=e,s=n.length|0,u=0;u!=s;){for(var c=Math.min(u+2655,s);u<c;++u)a+=o+=n[u];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},jT=function(t,e,n,o,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),u=new la(s.length+t.length);u.set(s),u.set(t,s.length),t=u,a.w=s.length}return JT(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,o,a)},e5=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},KT=function(t,e){var n=e.level,o=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=o<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=$y();a.p(e.dictionary),e5(t,2,a.d())}};function Xp(t,e){e||(e={});var n=$y();n.p(t);var o=jT(t,e,e.dictionary?6:2,4);return KT(o,e),e5(o,o.length-4,n.d()),o}var WT=typeof TextDecoder<"u"&&new TextDecoder,XT=0;try{WT.decode(Qy,{stream:!0}),XT=1}catch{}function ZT(t){if(Array.isArray(t))return t}function QT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,a,s,u,c=[],h=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(h=(o=s.call(n)).done)&&(c.push(o.value),c.length!==e);h=!0);}catch(g){f=!0,a=g}finally{try{if(!h&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(f)throw a}}return c}}function P2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function $T(t,e){if(t){if(typeof t=="string")return P2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P2(t,e):void 0}}function eN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2(t,e){return ZT(t)||QT(t,e)||$T(t,e)||eN()}function O2(t,e="utf8"){return new TextDecoder(e).decode(t)}const tN=new TextEncoder;function nN(t){return tN.encode(t)}const iN=1024*8,oN=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ap={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class w0{constructor(e=iN,n={}){An(this,"buffer");An(this,"byteLength");An(this,"byteOffset");An(this,"length");An(this,"offset");An(this,"lastWrittenByte");An(this,"littleEndian");An(this,"_data");An(this,"_mark");An(this,"_marks");let o=!1;typeof e=="number"?e=new ArrayBuffer(e):(o=!0,this.lastWrittenByte=e.byteLength);const a=n.offset?n.offset>>>0:0,s=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof w0)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),o?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const o=(this.offset+e)*2,a=new Uint8Array(o);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=o,this.byteLength=o,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const o=ap[n].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+o);if(this.littleEndian===oN&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+o));c.reverse();const h=new ap[n](c.buffer);return this.offset+=o,h.reverse(),h}const u=new ap[n](s);return this.offset+=o,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let o=0;o<e;o++)n+=this.readChar();return n}readUtf8(e=1){return O2(this.readBytes(e))}decodeText(e=1,n="utf8"){return O2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(nN(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ic(t){let e=t.length;for(;--e>=0;)t[e]=0}const rN=3,aN=258,t5=29,sN=256,lN=sN+1+t5,n5=30,uN=512,cN=new Array((lN+2)*2);ic(cN);const fN=new Array(n5*2);ic(fN);const dN=new Array(uN);ic(dN);const hN=new Array(aN-rN+1);ic(hN);const pN=new Array(t5);ic(pN);const gN=new Array(n5);ic(gN);const mN=(t,e,n,o)=>{let a=t&65535|0,s=t>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do a=a+e[o++]|0,s=s+a|0;while(--u);a%=65521,s%=65521}return a|s<<16|0};var Zp=mN;const vN=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var o=0;o<8;o++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},yN=new Uint32Array(vN()),bN=(t,e,n,o)=>{const a=yN,s=o+n;t^=-1;for(let u=o;u<s;u++)t=t>>>8^a[(t^e[u])&255];return t^-1};var Ia=bN,Qp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},i5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const SN=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _N=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const o in n)SN(n,o)&&(t[o]=n[o])}}return t},wN=t=>{let e=0;for(let o=0,a=t.length;o<a;o++)e+=t[o].length;const n=new Uint8Array(e);for(let o=0,a=0,s=t.length;o<s;o++){let u=t[o];n.set(u,a),a+=u.length}return n},o5={assign:_N,flattenChunks:wN};let r5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r5=!1}const Zc=new Uint8Array(256);for(let t=0;t<256;t++)Zc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Zc[254]=Zc[254]=1;var AN=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,o,a,s,u=t.length,c=0;for(a=0;a<u;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<u&&(o=t.charCodeAt(a+1),(o&64512)===56320&&(n=65536+(n-55296<<10)+(o-56320),a++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),s=0,a=0;s<c;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<u&&(o=t.charCodeAt(a+1),(o&64512)===56320&&(n=65536+(n-55296<<10)+(o-56320),a++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const xN=(t,e)=>{if(e<65534&&t.subarray&&r5)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n};var EN=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let o,a;const s=new Array(n*2);for(a=0,o=0;o<n;){let u=t[o++];if(u<128){s[a++]=u;continue}let c=Zc[u];if(c>4){s[a++]=65533,o+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&o<n;)u=u<<6|t[o++]&63,c--;if(c>1){s[a++]=65533;continue}u<65536?s[a++]=u:(u-=65536,s[a++]=55296|u>>10&1023,s[a++]=56320|u&1023)}return xN(s,a)},TN=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Zc[t[n]]>e?n:e},$p={string2buf:AN,buf2string:EN,utf8border:TN};function NN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CN=NN;const Qf=16209,LN=16191;var RN=function(e,n){let o,a,s,u,c,h,f,g,_,A,S,C,I,M,R,j,q,B,X,ve,de,re,G,te;const U=e.state;o=e.next_in,G=e.input,a=o+(e.avail_in-5),s=e.next_out,te=e.output,u=s-(n-e.avail_out),c=s+(e.avail_out-257),h=U.dmax,f=U.wsize,g=U.whave,_=U.wnext,A=U.window,S=U.hold,C=U.bits,I=U.lencode,M=U.distcode,R=(1<<U.lenbits)-1,j=(1<<U.distbits)-1;e:do{C<15&&(S+=G[o++]<<C,C+=8,S+=G[o++]<<C,C+=8),q=I[S&R];t:for(;;){if(B=q>>>24,S>>>=B,C-=B,B=q>>>16&255,B===0)te[s++]=q&65535;else if(B&16){X=q&65535,B&=15,B&&(C<B&&(S+=G[o++]<<C,C+=8),X+=S&(1<<B)-1,S>>>=B,C-=B),C<15&&(S+=G[o++]<<C,C+=8,S+=G[o++]<<C,C+=8),q=M[S&j];n:for(;;){if(B=q>>>24,S>>>=B,C-=B,B=q>>>16&255,B&16){if(ve=q&65535,B&=15,C<B&&(S+=G[o++]<<C,C+=8,C<B&&(S+=G[o++]<<C,C+=8)),ve+=S&(1<<B)-1,ve>h){e.msg="invalid distance too far back",U.mode=Qf;break e}if(S>>>=B,C-=B,B=s-u,ve>B){if(B=ve-B,B>g&&U.sane){e.msg="invalid distance too far back",U.mode=Qf;break e}if(de=0,re=A,_===0){if(de+=f-B,B<X){X-=B;do te[s++]=A[de++];while(--B);de=s-ve,re=te}}else if(_<B){if(de+=f+_-B,B-=_,B<X){X-=B;do te[s++]=A[de++];while(--B);if(de=0,_<X){B=_,X-=B;do te[s++]=A[de++];while(--B);de=s-ve,re=te}}}else if(de+=_-B,B<X){X-=B;do te[s++]=A[de++];while(--B);de=s-ve,re=te}for(;X>2;)te[s++]=re[de++],te[s++]=re[de++],te[s++]=re[de++],X-=3;X&&(te[s++]=re[de++],X>1&&(te[s++]=re[de++]))}else{de=s-ve;do te[s++]=te[de++],te[s++]=te[de++],te[s++]=te[de++],X-=3;while(X>2);X&&(te[s++]=te[de++],X>1&&(te[s++]=te[de++]))}}else if((B&64)===0){q=M[(q&65535)+(S&(1<<B)-1)];continue n}else{e.msg="invalid distance code",U.mode=Qf;break e}break}}else if((B&64)===0){q=I[(q&65535)+(S&(1<<B)-1)];continue t}else if(B&32){U.mode=LN;break e}else{e.msg="invalid literal/length code",U.mode=Qf;break e}break}}while(o<a&&s<c);X=C>>3,o-=X,C-=X<<3,S&=(1<<C)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<c?257+(c-s):257-(s-c),U.hold=S,U.bits=C};const Uu=15,F2=852,B2=592,q2=0,sp=1,H2=2,MN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),DN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),PN=(t,e,n,o,a,s,u,c)=>{const h=c.bits;let f=0,g=0,_=0,A=0,S=0,C=0,I=0,M=0,R=0,j=0,q,B,X,ve,de,re=null,G;const te=new Uint16Array(Uu+1),U=new Uint16Array(Uu+1);let Y=null,se,oe,Ae;for(f=0;f<=Uu;f++)te[f]=0;for(g=0;g<o;g++)te[e[n+g]]++;for(S=h,A=Uu;A>=1&&te[A]===0;A--);if(S>A&&(S=A),A===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,c.bits=1,0;for(_=1;_<A&&te[_]===0;_++);for(S<_&&(S=_),M=1,f=1;f<=Uu;f++)if(M<<=1,M-=te[f],M<0)return-1;if(M>0&&(t===q2||A!==1))return-1;for(U[1]=0,f=1;f<Uu;f++)U[f+1]=U[f]+te[f];for(g=0;g<o;g++)e[n+g]!==0&&(u[U[e[n+g]]++]=g);if(t===q2?(re=Y=u,G=20):t===sp?(re=MN,Y=IN,G=257):(re=kN,Y=DN,G=0),j=0,g=0,f=_,de=s,C=S,I=0,X=-1,R=1<<S,ve=R-1,t===sp&&R>F2||t===H2&&R>B2)return 1;for(;;){se=f-I,u[g]+1<G?(oe=0,Ae=u[g]):u[g]>=G?(oe=Y[u[g]-G],Ae=re[u[g]-G]):(oe=96,Ae=0),q=1<<f-I,B=1<<C,_=B;do B-=q,a[de+(j>>I)+B]=se<<24|oe<<16|Ae|0;while(B!==0);for(q=1<<f-1;j&q;)q>>=1;if(q!==0?(j&=q-1,j+=q):j=0,g++,--te[f]===0){if(f===A)break;f=e[n+u[g]]}if(f>S&&(j&ve)!==X){for(I===0&&(I=S),de+=_,C=f-I,M=1<<C;C+I<A&&(M-=te[C+I],!(M<=0));)C++,M<<=1;if(R+=1<<C,t===sp&&R>F2||t===H2&&R>B2)return 1;X=j&ve,a[X]=S<<24|C<<16|de-s|0}}return j!==0&&(a[de+j]=f-I<<24|64<<16|0),c.bits=S,0};var jc=PN;const UN=0,a5=1,s5=2,{Z_FINISH:z2,Z_BLOCK:ON,Z_TREES:$f,Z_OK:zl,Z_STREAM_END:FN,Z_NEED_DICT:BN,Z_STREAM_ERROR:Rr,Z_DATA_ERROR:l5,Z_MEM_ERROR:u5,Z_BUF_ERROR:qN,Z_DEFLATED:G2}=i5,Id=16180,V2=16181,Y2=16182,J2=16183,j2=16184,K2=16185,W2=16186,X2=16187,Z2=16188,Q2=16189,Sd=16190,fs=16191,lp=16192,$2=16193,up=16194,ev=16195,tv=16196,nv=16197,iv=16198,ed=16199,td=16200,ov=16201,rv=16202,av=16203,sv=16204,lv=16205,cp=16206,uv=16207,cv=16208,Kn=16209,c5=16210,f5=16211,HN=852,zN=592,GN=15,VN=GN,fv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function YN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Id||e.mode>f5?1:0},d5=t=>{if(Vl(t))return Rr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Id,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(HN),e.distcode=e.distdyn=new Int32Array(zN),e.sane=1,e.back=-1,zl},h5=t=>{if(Vl(t))return Rr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,d5(t)},p5=(t,e)=>{let n;if(Vl(t))return Rr;const o=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Rr:(o.window!==null&&o.wbits!==e&&(o.window=null),o.wrap=n,o.wbits=e,h5(t))},g5=(t,e)=>{if(!t)return Rr;const n=new YN;t.state=n,n.strm=t,n.window=null,n.mode=Id;const o=p5(t,e);return o!==zl&&(t.state=null),o},JN=t=>g5(t,VN);let dv=!0,fp,dp;const jN=t=>{if(dv){fp=new Int32Array(512),dp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jc(a5,t.lens,0,288,fp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jc(s5,t.lens,0,32,dp,0,t.work,{bits:5}),dv=!1}t.lencode=fp,t.lenbits=9,t.distcode=dp,t.distbits=5},m5=(t,e,n,o)=>{let a;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),o>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>o&&(a=o),s.window.set(e.subarray(n-o,n-o+a),s.wnext),o-=a,o?(s.window.set(e.subarray(n-o,n),0),s.wnext=o,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},KN=(t,e)=>{let n,o,a,s,u,c,h,f,g,_,A,S,C,I,M=0,R,j,q,B,X,ve,de,re;const G=new Uint8Array(4);let te,U;const Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vl(t)||!t.output||!t.input&&t.avail_in!==0)return Rr;n=t.state,n.mode===fs&&(n.mode=lp),u=t.next_out,a=t.output,h=t.avail_out,s=t.next_in,o=t.input,c=t.avail_in,f=n.hold,g=n.bits,_=c,A=h,re=zl;e:for(;;)switch(n.mode){case Id:if(n.wrap===0){n.mode=lp;break}for(;g<16;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,G[0]=f&255,G[1]=f>>>8&255,n.check=Ia(n.check,G,2,0),f=0,g=0,n.mode=V2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=Kn;break}if((f&15)!==G2){t.msg="unknown compression method",n.mode=Kn;break}if(f>>>=4,g-=4,de=(f&15)+8,n.wbits===0&&(n.wbits=de),de>15||de>n.wbits){t.msg="invalid window size",n.mode=Kn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?Q2:fs,f=0,g=0;break;case V2:for(;g<16;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(n.flags=f,(n.flags&255)!==G2){t.msg="unknown compression method",n.mode=Kn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Kn;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(G[0]=f&255,G[1]=f>>>8&255,n.check=Ia(n.check,G,2,0)),f=0,g=0,n.mode=Y2;case Y2:for(;g<32;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(G[0]=f&255,G[1]=f>>>8&255,G[2]=f>>>16&255,G[3]=f>>>24&255,n.check=Ia(n.check,G,4,0)),f=0,g=0,n.mode=J2;case J2:for(;g<16;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(G[0]=f&255,G[1]=f>>>8&255,n.check=Ia(n.check,G,2,0)),f=0,g=0,n.mode=j2;case j2:if(n.flags&1024){for(;g<16;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(G[0]=f&255,G[1]=f>>>8&255,n.check=Ia(n.check,G,2,0)),f=0,g=0}else n.head&&(n.head.extra=null);n.mode=K2;case K2:if(n.flags&1024&&(S=n.length,S>c&&(S=c),S&&(n.head&&(de=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(o.subarray(s,s+S),de)),n.flags&512&&n.wrap&4&&(n.check=Ia(n.check,o,S,s)),c-=S,s+=S,n.length-=S),n.length))break e;n.length=0,n.mode=W2;case W2:if(n.flags&2048){if(c===0)break e;S=0;do de=o[s+S++],n.head&&de&&n.length<65536&&(n.head.name+=String.fromCharCode(de));while(de&&S<c);if(n.flags&512&&n.wrap&4&&(n.check=Ia(n.check,o,S,s)),c-=S,s+=S,de)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=X2;case X2:if(n.flags&4096){if(c===0)break e;S=0;do de=o[s+S++],n.head&&de&&n.length<65536&&(n.head.comment+=String.fromCharCode(de));while(de&&S<c);if(n.flags&512&&n.wrap&4&&(n.check=Ia(n.check,o,S,s)),c-=S,s+=S,de)break e}else n.head&&(n.head.comment=null);n.mode=Z2;case Z2:if(n.flags&512){for(;g<16;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Kn;break}f=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=fs;break;case Q2:for(;g<32;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}t.adler=n.check=fv(f),f=0,g=0,n.mode=Sd;case Sd:if(n.havedict===0)return t.next_out=u,t.avail_out=h,t.next_in=s,t.avail_in=c,n.hold=f,n.bits=g,BN;t.adler=n.check=1,n.mode=fs;case fs:if(e===ON||e===$f)break e;case lp:if(n.last){f>>>=g&7,g-=g&7,n.mode=cp;break}for(;g<3;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}switch(n.last=f&1,f>>>=1,g-=1,f&3){case 0:n.mode=$2;break;case 1:if(jN(n),n.mode=ed,e===$f){f>>>=2,g-=2;break e}break;case 2:n.mode=tv;break;case 3:t.msg="invalid block type",n.mode=Kn}f>>>=2,g-=2;break;case $2:for(f>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Kn;break}if(n.length=f&65535,f=0,g=0,n.mode=up,e===$f)break e;case up:n.mode=ev;case ev:if(S=n.length,S){if(S>c&&(S=c),S>h&&(S=h),S===0)break e;a.set(o.subarray(s,s+S),u),c-=S,s+=S,h-=S,u+=S,n.length-=S;break}n.mode=fs;break;case tv:for(;g<14;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(n.nlen=(f&31)+257,f>>>=5,g-=5,n.ndist=(f&31)+1,f>>>=5,g-=5,n.ncode=(f&15)+4,f>>>=4,g-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Kn;break}n.have=0,n.mode=nv;case nv:for(;n.have<n.ncode;){for(;g<3;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}n.lens[Y[n.have++]]=f&7,f>>>=3,g-=3}for(;n.have<19;)n.lens[Y[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,te={bits:n.lenbits},re=jc(UN,n.lens,0,19,n.lencode,0,n.work,te),n.lenbits=te.bits,re){t.msg="invalid code lengths set",n.mode=Kn;break}n.have=0,n.mode=iv;case iv:for(;n.have<n.nlen+n.ndist;){for(;M=n.lencode[f&(1<<n.lenbits)-1],R=M>>>24,j=M>>>16&255,q=M&65535,!(R<=g);){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(q<16)f>>>=R,g-=R,n.lens[n.have++]=q;else{if(q===16){for(U=R+2;g<U;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(f>>>=R,g-=R,n.have===0){t.msg="invalid bit length repeat",n.mode=Kn;break}de=n.lens[n.have-1],S=3+(f&3),f>>>=2,g-=2}else if(q===17){for(U=R+3;g<U;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}f>>>=R,g-=R,de=0,S=3+(f&7),f>>>=3,g-=3}else{for(U=R+7;g<U;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}f>>>=R,g-=R,de=0,S=11+(f&127),f>>>=7,g-=7}if(n.have+S>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Kn;break}for(;S--;)n.lens[n.have++]=de}}if(n.mode===Kn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Kn;break}if(n.lenbits=9,te={bits:n.lenbits},re=jc(a5,n.lens,0,n.nlen,n.lencode,0,n.work,te),n.lenbits=te.bits,re){t.msg="invalid literal/lengths set",n.mode=Kn;break}if(n.distbits=6,n.distcode=n.distdyn,te={bits:n.distbits},re=jc(s5,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,te),n.distbits=te.bits,re){t.msg="invalid distances set",n.mode=Kn;break}if(n.mode=ed,e===$f)break e;case ed:n.mode=td;case td:if(c>=6&&h>=258){t.next_out=u,t.avail_out=h,t.next_in=s,t.avail_in=c,n.hold=f,n.bits=g,RN(t,A),u=t.next_out,a=t.output,h=t.avail_out,s=t.next_in,o=t.input,c=t.avail_in,f=n.hold,g=n.bits,n.mode===fs&&(n.back=-1);break}for(n.back=0;M=n.lencode[f&(1<<n.lenbits)-1],R=M>>>24,j=M>>>16&255,q=M&65535,!(R<=g);){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(j&&(j&240)===0){for(B=R,X=j,ve=q;M=n.lencode[ve+((f&(1<<B+X)-1)>>B)],R=M>>>24,j=M>>>16&255,q=M&65535,!(B+R<=g);){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}f>>>=B,g-=B,n.back+=B}if(f>>>=R,g-=R,n.back+=R,n.length=q,j===0){n.mode=lv;break}if(j&32){n.back=-1,n.mode=fs;break}if(j&64){t.msg="invalid literal/length code",n.mode=Kn;break}n.extra=j&15,n.mode=ov;case ov:if(n.extra){for(U=n.extra;g<U;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rv;case rv:for(;M=n.distcode[f&(1<<n.distbits)-1],R=M>>>24,j=M>>>16&255,q=M&65535,!(R<=g);){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if((j&240)===0){for(B=R,X=j,ve=q;M=n.distcode[ve+((f&(1<<B+X)-1)>>B)],R=M>>>24,j=M>>>16&255,q=M&65535,!(B+R<=g);){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}f>>>=B,g-=B,n.back+=B}if(f>>>=R,g-=R,n.back+=R,j&64){t.msg="invalid distance code",n.mode=Kn;break}n.offset=q,n.extra=j&15,n.mode=av;case av:if(n.extra){for(U=n.extra;g<U;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Kn;break}n.mode=sv;case sv:if(h===0)break e;if(S=A-h,n.offset>S){if(S=n.offset-S,S>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Kn;break}S>n.wnext?(S-=n.wnext,C=n.wsize-S):C=n.wnext-S,S>n.length&&(S=n.length),I=n.window}else I=a,C=u-n.offset,S=n.length;S>h&&(S=h),h-=S,n.length-=S;do a[u++]=I[C++];while(--S);n.length===0&&(n.mode=td);break;case lv:if(h===0)break e;a[u++]=n.length,h--,n.mode=td;break;case cp:if(n.wrap){for(;g<32;){if(c===0)break e;c--,f|=o[s++]<<g,g+=8}if(A-=h,t.total_out+=A,n.total+=A,n.wrap&4&&A&&(t.adler=n.check=n.flags?Ia(n.check,a,A,u-A):Zp(n.check,a,A,u-A)),A=h,n.wrap&4&&(n.flags?f:fv(f))!==n.check){t.msg="incorrect data check",n.mode=Kn;break}f=0,g=0}n.mode=uv;case uv:if(n.wrap&&n.flags){for(;g<32;){if(c===0)break e;c--,f+=o[s++]<<g,g+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Kn;break}f=0,g=0}n.mode=cv;case cv:re=FN;break e;case Kn:re=l5;break e;case c5:return u5;case f5:default:return Rr}return t.next_out=u,t.avail_out=h,t.next_in=s,t.avail_in=c,n.hold=f,n.bits=g,(n.wsize||A!==t.avail_out&&n.mode<Kn&&(n.mode<cp||e!==z2))&&m5(t,t.output,t.next_out,A-t.avail_out),_-=t.avail_in,A-=t.avail_out,t.total_in+=_,t.total_out+=A,n.total+=A,n.wrap&4&&A&&(t.adler=n.check=n.flags?Ia(n.check,a,A,t.next_out-A):Zp(n.check,a,A,t.next_out-A)),t.data_type=n.bits+(n.last?64:0)+(n.mode===fs?128:0)+(n.mode===ed||n.mode===up?256:0),(_===0&&A===0||e===z2)&&re===zl&&(re=qN),re},WN=t=>{if(Vl(t))return Rr;let e=t.state;return e.window&&(e.window=null),t.state=null,zl},XN=(t,e)=>{if(Vl(t))return Rr;const n=t.state;return(n.wrap&2)===0?Rr:(n.head=e,e.done=!1,zl)},ZN=(t,e)=>{const n=e.length;let o,a,s;return Vl(t)||(o=t.state,o.wrap!==0&&o.mode!==Sd)?Rr:o.mode===Sd&&(a=1,a=Zp(a,e,n,0),a!==o.check)?l5:(s=m5(t,e,n,n),s?(o.mode=c5,u5):(o.havedict=1,zl))};var QN=h5,$N=p5,eC=d5,tC=JN,nC=g5,iC=KN,oC=WN,rC=XN,aC=ZN,sC="pako inflate (from Nodeca project)",ds={inflateReset:QN,inflateReset2:$N,inflateResetKeep:eC,inflateInit:tC,inflateInit2:nC,inflate:iC,inflateEnd:oC,inflateGetHeader:rC,inflateSetDictionary:aC,inflateInfo:sC};function lC(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uC=lC;const v5=Object.prototype.toString,{Z_NO_FLUSH:cC,Z_FINISH:fC,Z_OK:Qc,Z_STREAM_END:hp,Z_NEED_DICT:pp,Z_STREAM_ERROR:dC,Z_DATA_ERROR:hv,Z_MEM_ERROR:hC}=i5;function $c(t){this.options=o5.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CN,this.strm.avail_out=0;let n=ds.inflateInit2(this.strm,e.windowBits);if(n!==Qc)throw new Error(Qp[n]);if(this.header=new uC,ds.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=$p.string2buf(e.dictionary):v5.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ds.inflateSetDictionary(this.strm,e.dictionary),n!==Qc)))throw new Error(Qp[n])}$c.prototype.push=function(t,e){const n=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let s,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?fC:cC,v5.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(o),n.next_out=0,n.avail_out=o),s=ds.inflate(n,u),s===pp&&a&&(s=ds.inflateSetDictionary(n,a),s===Qc?s=ds.inflate(n,u):s===hv&&(s=pp));n.avail_in>0&&s===hp&&n.state.wrap>0&&t[n.next_in]!==0;)ds.inflateReset(n),s=ds.inflate(n,u);switch(s){case dC:case hv:case pp:case hC:return this.onEnd(s),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||s===hp))if(this.options.to==="string"){let h=$p.utf8border(n.output,n.next_out),f=n.next_out-h,g=$p.buf2string(n.output,h);n.next_out=f,n.avail_out=o-f,f&&n.output.set(n.output.subarray(h,h+f),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Qc&&c===0)){if(s===hp)return s=ds.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$c.prototype.onData=function(t){this.chunks.push(t)};$c.prototype.onEnd=function(t){t===Qc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function pC(t,e){const n=new $c(e);if(n.push(t),n.err)throw n.msg||Qp[n.err];return n.result}var gC=$c,mC=pC,vC={Inflate:gC,inflate:mC};const{Inflate:yC,inflate:bC}=vC;var pv=yC,SC=bC;const y5=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;y5[t]=e}const gv=4294967295;function _C(t,e,n){let o=t;for(let a=0;a<n;a++)o=y5[(o^e[a])&255]^o>>>8;return o}function wC(t,e){return(_C(gv,t,e)^gv)>>>0}function mv(t,e,n){const o=t.readUint32(),a=wC(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==o)throw new Error(`CRC mismatch for chunk ${n}. Expected ${o}, found ${a}`)}function b5(t,e,n){for(let o=0;o<n;o++)e[o]=t[o]}function S5(t,e,n,o){let a=0;for(;a<o;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-o]&255}function _5(t,e,n,o){let a=0;if(n.length===0)for(;a<o;a++)e[a]=t[a];else for(;a<o;a++)e[a]=t[a]+n[a]&255}function w5(t,e,n,o,a){let s=0;if(n.length===0){for(;s<a;s++)e[s]=t[s];for(;s<o;s++)e[s]=t[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<o;s++)e[s]=t[s]+(e[s-a]+n[s]>>1)&255}}function A5(t,e,n,o,a){let s=0;if(n.length===0){for(;s<a;s++)e[s]=t[s];for(;s<o;s++)e[s]=t[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=t[s]+n[s]&255;for(;s<o;s++)e[s]=t[s]+AC(e[s-a],n[s],n[s-a])&255}}function AC(t,e,n){const o=t+e-n,a=Math.abs(o-t),s=Math.abs(o-e),u=Math.abs(o-n);return a<=s&&a<=u?t:s<=u?e:n}function xC(t,e,n,o,a,s){switch(t){case 0:b5(e,n,a);break;case 1:S5(e,n,a,s);break;case 2:_5(e,n,o,a);break;case 3:w5(e,n,o,a,s);break;case 4:A5(e,n,o,a,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const EC=new Uint16Array([255]),TC=new Uint8Array(EC.buffer),NC=TC[0]===255;function CC(t){const{data:e,width:n,height:o,channels:a,depth:s}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(s/8)*a,h=new Uint8Array(o*n*c);let f=0;for(let g=0;g<7;g++){const _=u[g],A=Math.ceil((n-_.x)/_.xStep),S=Math.ceil((o-_.y)/_.yStep);if(A<=0||S<=0)continue;const C=A*c,I=new Uint8Array(C);for(let M=0;M<S;M++){const R=e[f++],j=e.subarray(f,f+C);f+=C;const q=new Uint8Array(C);xC(R,j,q,I,C,c),I.set(q);for(let B=0;B<A;B++){const X=_.x+B*_.xStep,ve=_.y+M*_.yStep;if(!(X>=n||ve>=o))for(let de=0;de<c;de++)h[(ve*n+X)*c+de]=q[B*c+de]}}}if(s===16){const g=new Uint16Array(h.buffer);if(NC)for(let _=0;_<g.length;_++)g[_]=LC(g[_]);return g}else return h}function LC(t){return(t&255)<<8|t>>8&255}const RC=new Uint16Array([255]),MC=new Uint8Array(RC.buffer),IC=MC[0]===255,kC=new Uint8Array(0);function vv(t){const{data:e,width:n,height:o,channels:a,depth:s}=t,u=Math.ceil(s/8)*a,c=Math.ceil(s/8*a*n),h=new Uint8Array(o*c);let f=kC,g=0,_,A;for(let S=0;S<o;S++){switch(_=e.subarray(g+1,g+1+c),A=h.subarray(S*c,(S+1)*c),e[g]){case 0:b5(_,A,c);break;case 1:S5(_,A,c,u);break;case 2:_5(_,A,f,c);break;case 3:w5(_,A,f,c,u);break;case 4:A5(_,A,f,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}f=A,g+=c+1}if(s===16){const S=new Uint16Array(h.buffer);if(IC)for(let C=0;C<S.length;C++)S[C]=DC(S[C]);return S}else return h}function DC(t){return(t&255)<<8|t>>8&255}const ld=Uint8Array.of(137,80,78,71,13,10,26,10);function yv(t){if(!PC(t.readBytes(ld.length)))throw new Error("wrong PNG signature")}function PC(t){if(t.length<ld.length)return!1;for(let e=0;e<ld.length;e++)if(t[e]!==ld[e])return!1;return!0}const UC="tEXt",OC=0,x5=new TextDecoder("latin1");function FC(t){if(qC(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const BC=/^[\u0000-\u00FF]*$/;function qC(t){if(!BC.test(t))throw new Error("invalid latin1 text")}function HC(t,e,n){const o=E5(e);t[o]=zC(e,n-o.length-1)}function E5(t){for(t.mark();t.readByte()!==OC;);const e=t.offset;t.reset();const n=x5.decode(t.readBytes(e-t.offset-1));return t.skip(1),FC(n),n}function zC(t,e){return x5.decode(t.readBytes(e))}const sr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},gp={UNKNOWN:-1,DEFLATE:0},bv={UNKNOWN:-1,ADAPTIVE:0},mp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},nd={NONE:0,BACKGROUND:1,PREVIOUS:2},vp={SOURCE:0,OVER:1};class GC extends w0{constructor(n,o={}){super(n);An(this,"_checkCrc");An(this,"_inflator");An(this,"_png");An(this,"_apng");An(this,"_end");An(this,"_hasPalette");An(this,"_palette");An(this,"_hasTransparency");An(this,"_transparency");An(this,"_compressionMethod");An(this,"_filterMethod");An(this,"_interlaceMethod");An(this,"_colorType");An(this,"_isAnimated");An(this,"_numberOfFrames");An(this,"_numberOfPlays");An(this,"_frames");An(this,"_writingDataChunks");const{checkCrc:a=!1}=o;this._checkCrc=a,this._inflator=new pv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=gp.UNKNOWN,this._filterMethod=bv.UNKNOWN,this._interlaceMethod=mp.UNKNOWN,this._colorType=sr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yv(this);!this._end;){const n=this.readUint32(),o=this.readChars(4);this.decodeChunk(n,o)}return this.decodeImage(),this._png}decodeApng(){for(yv(this);!this._end;){const n=this.readUint32(),o=this.readChars(4);this.decodeApngChunk(n,o)}return this.decodeApngImage(),this._apng}decodeChunk(n,o){const a=this.offset;switch(o){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case UC:HC(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?mv(this,n+4,o):this.skip(4)}decodeApngChunk(n,o){const a=this.offset;switch(o!=="fdAT"&&o!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),o){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,o),this.offset=a+n;break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${o}`);this._checkCrc?mv(this,n+4,o):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=VC(this.readUint8());const o=this.readUint8();this._colorType=o;let a;switch(o){case sr.GREYSCALE:a=1;break;case sr.TRUECOLOUR:a=3;break;case sr.INDEXED_COLOUR:a=1;break;case sr.GREYSCALE_ALPHA:a=2;break;case sr.TRUECOLOUR_ALPHA:a=4;break;case sr.UNKNOWN:default:throw new Error(`Unknown color type: ${o}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==gp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const o=n/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<o;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const o=n,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let o=n,a=this.offset+this.byteOffset;if(a+=4,o-=4,this._inflator.push(new Uint8Array(this.buffer,a,o)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case sr.GREYSCALE:case sr.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let o=0;o<n/2;o++)this._transparency[o]=this.readUint16();break}case sr.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let o=0;for(;o<n;o++){const a=this.readByte();this._palette[o].push(a)}for(;o<this._palette.length;o++)this._palette[o].push(255);break}case sr.UNKNOWN:case sr.GREYSCALE_ALPHA:case sr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const o=E5(this),a=this.readUint8();if(a!==gp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(n-o.length-2);this._png.iccEmbeddedProfile={name:o,profile:SC(s)}}decodepHYs(){const n=this.readUint32(),o=this.readUint32(),a=this.readByte();this._png.resolution={x:n,y:o,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const o={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(n);if(a){if(a.data=vv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)o.data=a.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(a,s,o),this.addFrameDataToCanvas(o,a)}this._apng.frames.push(o)}}return this._apng}disposeFrame(n,o,a){switch(n.disposeOp){case nd.NONE:break;case nd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let u=0;u<this._png.width;u++){const c=(s*n.width+u)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[c+h]=0}break;case nd.PREVIOUS:a.data.set(o.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,o){const a=1<<this._png.depth,s=(u,c)=>{const h=((u+o.yOffset)*this._png.width+o.xOffset+c)*this._png.channels,f=(u*o.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(o.blendOp){case vp.SOURCE:for(let u=0;u<o.height;u++)for(let c=0;c<o.width;c++){const{index:h,frameIndex:f}=s(u,c);for(let g=0;g<this._png.channels;g++)n.data[h+g]=o.data[f+g]}break;case vp.OVER:for(let u=0;u<o.height;u++)for(let c=0;c<o.width;c++){const{index:h,frameIndex:f}=s(u,c);for(let g=0;g<this._png.channels;g++){const _=o.data[f+this._png.channels-1]/a,A=g%(this._png.channels-1)===0?1:o.data[f+g],S=Math.floor(_*A+(1-_)*n.data[h+g]);n.data[h+g]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var o;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((o=this._frames)==null?void 0:o.at(0)).data:this._inflator.result;if(this._filterMethod!==bv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===mp.NO_INTERLACE)this._png.data=vv({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===mp.ADAM7)this._png.data=CC({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,o=this._frames.at(-1);o?o.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:nd.NONE,blendOp:vp.SOURCE,data:n}),this._inflator=new pv,this._writingDataChunks=!1}}function VC(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Sv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Sv||(Sv={}));function YC(t,e){return new GC(t,e).decode()}var Rt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function yp(){Rt.console&&typeof Rt.console.log=="function"&&Rt.console.log.apply(Rt.console,arguments)}var Pn={log:yp,warn:function(t){Rt.console&&(typeof Rt.console.warn=="function"?Rt.console.warn.apply(Rt.console,arguments):yp.call(null,arguments))},error:function(t){Rt.console&&(typeof Rt.console.error=="function"?Rt.console.error.apply(Rt.console,arguments):yp(t))}};function bp(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){Fl(o.response,e,n)},o.onerror=function(){Pn.error("could not download file")},o.send()}function _v(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function id(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Fl=Rt.saveAs||((typeof window>"u"?"undefined":xn(window))!=="object"||window!==Rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var o=Rt.URL||Rt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?_v(a.href)?bp(t,e,n):id(a,a.target="_blank"):id(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){id(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(_v(t))bp(t,e,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){id(o)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:xn(s)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,n),e)}:function(t,e,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return bp(t,e,n);var a=t.type==="application/octet-stream",s=/constructor/i.test(Rt.HTMLElement)||Rt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&(typeof FileReader>"u"?"undefined":xn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=g:location=g,o=null},c.readAsDataURL(t)}else{var h=Rt.URL||Rt.webkitURL,f=h.createObjectURL(t);o?o.location=f:location.href=f,o=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function T5(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],o=0;o<n.length;o++){var a=n[o].re,s=n[o].process,u=a.exec(t);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+c+h+f}}var ud=Rt.atob.bind(Rt),wv=Rt.btoa.bind(Rt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sp(t,e){var n=t[0],o=t[1],a=t[2],s=t[3];n=oo(n,o,a,s,e[0],7,-680876936),s=oo(s,n,o,a,e[1],12,-389564586),a=oo(a,s,n,o,e[2],17,606105819),o=oo(o,a,s,n,e[3],22,-1044525330),n=oo(n,o,a,s,e[4],7,-176418897),s=oo(s,n,o,a,e[5],12,1200080426),a=oo(a,s,n,o,e[6],17,-1473231341),o=oo(o,a,s,n,e[7],22,-45705983),n=oo(n,o,a,s,e[8],7,1770035416),s=oo(s,n,o,a,e[9],12,-1958414417),a=oo(a,s,n,o,e[10],17,-42063),o=oo(o,a,s,n,e[11],22,-1990404162),n=oo(n,o,a,s,e[12],7,1804603682),s=oo(s,n,o,a,e[13],12,-40341101),a=oo(a,s,n,o,e[14],17,-1502002290),n=ro(n,o=oo(o,a,s,n,e[15],22,1236535329),a,s,e[1],5,-165796510),s=ro(s,n,o,a,e[6],9,-1069501632),a=ro(a,s,n,o,e[11],14,643717713),o=ro(o,a,s,n,e[0],20,-373897302),n=ro(n,o,a,s,e[5],5,-701558691),s=ro(s,n,o,a,e[10],9,38016083),a=ro(a,s,n,o,e[15],14,-660478335),o=ro(o,a,s,n,e[4],20,-405537848),n=ro(n,o,a,s,e[9],5,568446438),s=ro(s,n,o,a,e[14],9,-1019803690),a=ro(a,s,n,o,e[3],14,-187363961),o=ro(o,a,s,n,e[8],20,1163531501),n=ro(n,o,a,s,e[13],5,-1444681467),s=ro(s,n,o,a,e[2],9,-51403784),a=ro(a,s,n,o,e[7],14,1735328473),n=ao(n,o=ro(o,a,s,n,e[12],20,-1926607734),a,s,e[5],4,-378558),s=ao(s,n,o,a,e[8],11,-2022574463),a=ao(a,s,n,o,e[11],16,1839030562),o=ao(o,a,s,n,e[14],23,-35309556),n=ao(n,o,a,s,e[1],4,-1530992060),s=ao(s,n,o,a,e[4],11,1272893353),a=ao(a,s,n,o,e[7],16,-155497632),o=ao(o,a,s,n,e[10],23,-1094730640),n=ao(n,o,a,s,e[13],4,681279174),s=ao(s,n,o,a,e[0],11,-358537222),a=ao(a,s,n,o,e[3],16,-722521979),o=ao(o,a,s,n,e[6],23,76029189),n=ao(n,o,a,s,e[9],4,-640364487),s=ao(s,n,o,a,e[12],11,-421815835),a=ao(a,s,n,o,e[15],16,530742520),n=so(n,o=ao(o,a,s,n,e[2],23,-995338651),a,s,e[0],6,-198630844),s=so(s,n,o,a,e[7],10,1126891415),a=so(a,s,n,o,e[14],15,-1416354905),o=so(o,a,s,n,e[5],21,-57434055),n=so(n,o,a,s,e[12],6,1700485571),s=so(s,n,o,a,e[3],10,-1894986606),a=so(a,s,n,o,e[10],15,-1051523),o=so(o,a,s,n,e[1],21,-2054922799),n=so(n,o,a,s,e[8],6,1873313359),s=so(s,n,o,a,e[15],10,-30611744),a=so(a,s,n,o,e[6],15,-1560198380),o=so(o,a,s,n,e[13],21,1309151649),n=so(n,o,a,s,e[4],6,-145523070),s=so(s,n,o,a,e[11],10,-1120210379),a=so(a,s,n,o,e[2],15,718787259),o=so(o,a,s,n,e[9],21,-343485551),t[0]=tl(n,t[0]),t[1]=tl(o,t[1]),t[2]=tl(a,t[2]),t[3]=tl(s,t[3])}function kd(t,e,n,o,a,s){return e=tl(tl(e,t),tl(o,s)),tl(e<<a|e>>>32-a,n)}function oo(t,e,n,o,a,s,u){return kd(e&n|~e&o,t,e,a,s,u)}function ro(t,e,n,o,a,s,u){return kd(e&o|n&~o,t,e,a,s,u)}function ao(t,e,n,o,a,s,u){return kd(e^n^o,t,e,a,s,u)}function so(t,e,n,o,a,s,u){return kd(n^(e|~o),t,e,a,s,u)}function N5(t){var e,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Sp(o,JC(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Sp(o,a),e=0;e<16;e++)a[e]=0;return a[14]=8*n,Sp(o,a),o}function JC(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Av="0123456789abcdef".split("");function jC(t){for(var e="",n=0;n<4;n++)e+=Av[t>>8*n+4&15]+Av[t>>8*n&15];return e}function KC(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function e0(t){return N5(t).map(KC).join("")}var WC=(function(t){for(var e=0;e<t.length;e++)t[e]=jC(t[e]);return t.join("")})(N5("hello"))!="5d41402abc4b2a76b9719d911017c592";function tl(t,e){if(WC){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function t0(t,e){var n,o,a,s;if(t!==n){for(var u=(a=t,s=1+(256/t.length|0),new Array(s+1).join(a)),c=[],h=0;h<256;h++)c[h]=h;var f=0;for(h=0;h<256;h++){var g=c[h];f=(f+g+u.charCodeAt(h))%256,c[h]=c[f],c[f]=g}n=t,o=c}else c=o;var _=e.length,A=0,S=0,C="";for(h=0;h<_;h++)S=(S+(g=c[A=(A+1)%256]))%256,c[A]=c[S],c[S]=g,u=c[(c[A]+c[S])%256],C+=String.fromCharCode(e.charCodeAt(h)^u);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xv={print:4,modify:8,copy:16,"annot-forms":32};function qu(t,e,n,o){this.v=1,this.r=2;var a=192;t.forEach(function(c){if(xv.perm!==void 0)throw new Error("Invalid permission: "+c);a+=xv[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^a)),this.encryptionKey=e0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=t0(this.encryptionKey,this.padding)}function Hu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,o=0;o<n;o++){var a=t.charCodeAt(o);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[o]}return e}function Ev(t){if(xn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,o,a){if(a=a||!1,typeof n!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[o,!!a],s},this.unsubscribe=function(n){for(var o in e)if(e[o][n])return delete e[o][n],Object.keys(e[o]).length===0&&delete e[o],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[n]){var u=e[n][s];try{u[0].apply(t,o)}catch(c){Rt.console&&Pn.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _d(t){if(!(this instanceof _d))return new _d(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function C5(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bl(t,e,n,o,a){if(!(this instanceof Bl))return new Bl(t,e,n,o,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,C5.call(this,o,a)}function Vu(t,e,n,o,a){if(!(this instanceof Vu))return new Vu(t,e,n,o,a);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,C5.call(this,o,a)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],s=arguments[3],u=[],c=1,h=16,f="S",g=null;xn(t=t||{})==="object"&&(n=t.orientation,o=t.unit||o,a=t.format||a,s=t.compress||t.compressPdf||s,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),u=t.filters||(s===!0?["FlateEncode"]:u),o=o||"mm",n=(""+(n||"P")).toLowerCase();var _=t.putOnlyUsedFonts||!1,A={},S={internal:{},__private__:{}};S.__private__.PubSub=Ev;var C="1.3",I=S.__private__.getPdfVersion=function(){return C};S.__private__.setPdfVersion=function(x){C=x};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return M};var R=S.__private__.getPageFormat=function(x){return M[x]};a=a||"a4";var j="compat",q="advanced",B=j;function X(){this.saveGraphicsState(),W(new ht(It,0,0,-It,0,qr()*It).toString()+" cm"),this.setFontSize(this.getFontSize()/It),f="n",B=q}function ve(){this.restoreGraphicsState(),f="S",B=j}var de=S.__private__.combineFontStyleAndFontWeight=function(x,k){if(x=="bold"&&k=="normal"||x=="bold"&&k==400||x=="normal"&&k=="italic"||x=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(x=k==400||k==="normal"?x==="italic"?"italic":"normal":k!=700&&k!=="bold"||x!=="normal"?(k==700?"bold":k)+""+x:"bold"),x};S.advancedAPI=function(x){var k=B===j;return k&&X.call(this),typeof x!="function"||(x(this),k&&ve.call(this)),this},S.compatAPI=function(x){var k=B===q;return k&&ve.call(this),typeof x!="function"||(x(this),k&&X.call(this)),this},S.isAdvancedAPI=function(){return B===q};var re,G=function(x){if(B!==q)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=S.roundToPrecision=S.__private__.roundToPrecision=function(x,k){var ee=e||k;if(isNaN(x)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ee).replace(/0+$/,"")};re=S.hpf=S.__private__.hpf=typeof h=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return te(x,h)}:h==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return te(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return te(x,16)};var U=S.f2=S.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return te(x,2)},Y=S.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return te(x,3)},se=S.scale=S.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return B===j?x*It:B===q?x:void 0},oe=function(x){return se((function(k){return B===j?qr()-k:B===q?k:void 0})(x))};S.__private__.setPrecision=S.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ae,ne="00000000000000000000000000000000",ae=S.__private__.getFileId=function(){return ne},ue=S.__private__.setFileId=function(x){return ne=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(hi=new qu(g.userPermissions,g.userPassword,g.ownerPassword,ne)),ne};S.setFileId=function(x){return ue(x),this},S.getFileId=function(){return ae()};var we=S.__private__.convertDateToPDFDate=function(x){var k=x.getTimezoneOffset(),ee=k<0?"+":"-",fe=Math.floor(Math.abs(k/60)),ye=Math.abs(k%60),De=[ee,K(fe),"'",K(ye),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),De].join("")},Oe=S.__private__.convertPDFDateToDate=function(x){var k=parseInt(x.substr(2,4),10),ee=parseInt(x.substr(6,2),10)-1,fe=parseInt(x.substr(8,2),10),ye=parseInt(x.substr(10,2),10),De=parseInt(x.substr(12,2),10),He=parseInt(x.substr(14,2),10);return new Date(k,ee,fe,ye,De,He,0)},J=S.__private__.setCreationDate=function(x){var k;if(x===void 0&&(x=new Date),x instanceof Date)k=we(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=x}return Ae=k},L=S.__private__.getCreationDate=function(x){var k=Ae;return x==="jsDate"&&(k=Oe(Ae)),k};S.setCreationDate=function(x){return J(x),this},S.getCreationDate=function(x){return L(x)};var z,K=S.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ie=S.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ce=0,me=[],Le=[],Ne=0,Ue=[],Ve=[],Ke=!1,We=Le;S.__private__.setCustomOutputDestination=function(x){Ke=!0,We=x};var rt=function(x){Ke||(We=x)};S.__private__.resetCustomOutputDestination=function(){Ke=!1,We=Le};var W=S.__private__.out=function(x){return x=x.toString(),Ne+=x.length+1,We.push(x),We},je=S.__private__.write=function(x){return W(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Ht=S.__private__.getArrayBuffer=function(x){for(var k=x.length,ee=new ArrayBuffer(k),fe=new Uint8Array(ee);k--;)fe[k]=x.charCodeAt(k);return ee},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return bt};var ze=t.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(x){return ze=B===q?x/It:x,this};var gt,$e=S.__private__.getFontSize=S.getFontSize=function(){return B===j?ze:ze*It},St=t.R2L||!1;S.__private__.setR2L=S.setR2L=function(x){return St=x,this},S.__private__.getR2L=S.getR2L=function(){return St};var dt,Dt=S.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))gt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');gt=x}else gt=parseInt(x,10)};S.__private__.getZoomMode=function(){return gt};var Jt,Mt=S.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');dt=x};S.__private__.getPageMode=function(){return dt};var jt=S.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Jt=x};S.__private__.getLayoutMode=function(){return Jt},S.__private__.setDisplayMode=S.setDisplayMode=function(x,k,ee){return Dt(x),jt(k),Mt(ee),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(x){if(Object.keys(zt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[x]},S.__private__.getDocumentProperties=function(){return zt},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(x){for(var k in zt)zt.hasOwnProperty(k)&&x[k]&&(zt[k]=x[k]);return this},S.__private__.setDocumentProperty=function(x,k){if(Object.keys(zt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[x]=k};var at,It,ut,Xn,Yt,_t={},Nt={},Kt=[],mt={},En={},xt={},Ct={},yn=null,Bt=0,ct=[],tn=new Ev(S),Go=t.hotfixes||[],Pi={},ur={},Ao=[],ht=function x(k,ee,fe,ye,De,He){if(!(this instanceof x))return new x(k,ee,fe,ye,De,He);isNaN(k)&&(k=1),isNaN(ee)&&(ee=0),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=1),isNaN(De)&&(De=0),isNaN(He)&&(He=0),this._matrix=[k,ee,fe,ye,De,He]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(re).join(x)},ht.prototype.multiply=function(x){var k=x.sx*this.sx+x.shy*this.shx,ee=x.sx*this.shy+x.shy*this.sy,fe=x.shx*this.sx+x.sy*this.shx,ye=x.shx*this.shy+x.sy*this.sy,De=x.tx*this.sx+x.ty*this.shx+this.tx,He=x.tx*this.shy+x.ty*this.sy+this.ty;return new ht(k,ee,fe,ye,De,He)},ht.prototype.decompose=function(){var x=this.sx,k=this.shy,ee=this.shx,fe=this.sy,ye=this.tx,De=this.ty,He=Math.sqrt(x*x+k*k),tt=(x/=He)*ee+(k/=He)*fe;ee-=x*tt,fe-=k*tt;var st=Math.sqrt(ee*ee+fe*fe);return tt/=st,x*(fe/=st)<k*(ee/=st)&&(x=-x,k=-k,tt=-tt,He=-He),{scale:new ht(He,0,0,st,0,0),translate:new ht(1,0,0,1,ye,De),rotate:new ht(x,k,-k,x,0,0),skew:new ht(1,0,tt,1,0,0)}},ht.prototype.toString=function(x){return this.join(" ")},ht.prototype.inversed=function(){var x=this.sx,k=this.shy,ee=this.shx,fe=this.sy,ye=this.tx,De=this.ty,He=1/(x*fe-k*ee),tt=fe*He,st=-k*He,Tt=-ee*He,Pt=x*He;return new ht(tt,st,Tt,Pt,-tt*ye-Tt*De,-st*ye-Pt*De)},ht.prototype.applyToPoint=function(x){var k=x.x*this.sx+x.y*this.shx+this.tx,ee=x.x*this.shy+x.y*this.sy+this.ty;return new To(k,ee)},ht.prototype.applyToRectangle=function(x){var k=this.applyToPoint(x),ee=this.applyToPoint(new To(x.x+x.w,x.y+x.h));return new Pr(k.x,k.y,ee.x-k.x,ee.y-k.y)},ht.prototype.clone=function(){var x=this.sx,k=this.shy,ee=this.shx,fe=this.sy,ye=this.tx,De=this.ty;return new ht(x,k,ee,fe,ye,De)},S.Matrix=ht;var Mr=S.matrixMult=function(x,k){return k.multiply(x)},cr=new ht(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=cr;var uo=function(x,k){if(!En[x]){var ee=(k instanceof Bl?"Sh":"P")+(Object.keys(mt).length+1).toString(10);k.id=ee,En[x]=ee,mt[ee]=k,tn.publish("addPattern",k)}};S.ShadingPattern=Bl,S.TilingPattern=Vu,S.addShadingPattern=function(x,k){return G("addShadingPattern()"),uo(x,k),this},S.beginTilingPattern=function(x){G("beginTilingPattern()"),za(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},S.endTilingPattern=function(x,k){G("endTilingPattern()"),k.stream=Ve[z].join(`
`),uo(x,k),tn.publish("endTilingPattern",k),Ao.pop().restore()};var co,Un=S.__private__.newObject=function(){var x=ii();return Si(x,!0),x},ii=S.__private__.newObjectDeferred=function(){return ce++,me[ce]=function(){return Ne},ce},Si=function(x,k){return k=typeof k=="boolean"&&k,me[x]=Ne,k&&W(x+" 0 obj"),x},da=S.__private__.newAdditionalObject=function(){var x={objId:ii(),content:""};return Ue.push(x),x},Yi=ii(),bn=ii(),On=S.__private__.decodeColorString=function(x){var k=x.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length!==5||k[4]!=="k"&&k[4]!=="K"||(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var ee=parseFloat(k[0]);k=[ee,ee,ee,"r"]}for(var fe="#",ye=0;ye<3;ye++)fe+=("0"+Math.floor(255*parseFloat(k[ye])).toString(16)).slice(-2);return fe},Ui=S.__private__.encodeColorString=function(x){var k;typeof x=="string"&&(x={ch1:x});var ee=x.ch1,fe=x.ch2,ye=x.ch3,De=x.ch4,He=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var tt=new T5(ee);if(tt.ok)ee=tt.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var st=parseInt(ee.substr(1),16);ee=st>>16&255,fe=st>>8&255,ye=255&st}if(fe===void 0||De===void 0&&ee===fe&&fe===ye)k=typeof ee=="string"?ee+" "+He[0]:x.precision===2?U(ee/255)+" "+He[0]:Y(ee/255)+" "+He[0];else if(De===void 0||xn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return["1.","1.","1.",He[1]].join(" ");k=typeof ee=="string"?[ee,fe,ye,He[1]].join(" "):x.precision===2?[U(ee/255),U(fe/255),U(ye/255),He[1]].join(" "):[Y(ee/255),Y(fe/255),Y(ye/255),He[1]].join(" ")}else k=typeof ee=="string"?[ee,fe,ye,De,He[2]].join(" "):x.precision===2?[U(ee),U(fe),U(ye),U(De),He[2]].join(" "):[Y(ee),Y(fe),Y(ye),Y(De),He[2]].join(" ");return k},fo=S.__private__.getFilters=function(){return u},xo=S.__private__.putStream=function(x){var k=(x=x||{}).data||"",ee=x.filters||fo(),fe=x.alreadyAppliedFilters||[],ye=x.addLength1||!1,De=k.length,He=x.objectId,tt=function(pi){return pi};if(g!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(tt=hi.encryptor(He,0));var st={};ee===!0&&(ee=["FlateEncode"]);var Tt=x.additionalKeyValues||[],Pt=(st=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(k,ee):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(st.data.length!==0&&(Tt.push({key:"Length",value:st.data.length}),ye===!0&&Tt.push({key:"Length1",value:De})),Pt.length!=0)if(Pt.split("/").length-1==1)Tt.push({key:"Filter",value:Pt});else{Tt.push({key:"Filter",value:"["+Pt+"]"});for(var nn=0;nn<Tt.length;nn+=1)if(Tt[nn].key==="DecodeParms"){for(var Fn=[],Qn=0;Qn<st.reverseChain.split("/").length-1;Qn+=1)Fn.push("null");Fn.push(Tt[nn].value),Tt[nn].value="["+Fn.join(" ")+"]"}}W("<<");for(var Tn=0;Tn<Tt.length;Tn++)W("/"+Tt[Tn].key+" "+Tt[Tn].value);W(">>"),st.data.length!==0&&(W("stream"),W(tt(st.data)),W("endstream"))},Ua=S.__private__.putPage=function(x){var k=x.number,ee=x.data,fe=x.objId,ye=x.contentsObjId;Si(fe,!0),W("<</Type /Page"),W("/Parent "+x.rootDictionaryObjId+" 0 R"),W("/Resources "+x.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(re(x.mediaBox.bottomLeftX))+" "+parseFloat(re(x.mediaBox.bottomLeftY))+" "+re(x.mediaBox.topRightX)+" "+re(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&W("/CropBox ["+re(x.cropBox.bottomLeftX)+" "+re(x.cropBox.bottomLeftY)+" "+re(x.cropBox.topRightX)+" "+re(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&W("/BleedBox ["+re(x.bleedBox.bottomLeftX)+" "+re(x.bleedBox.bottomLeftY)+" "+re(x.bleedBox.topRightX)+" "+re(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&W("/TrimBox ["+re(x.trimBox.bottomLeftX)+" "+re(x.trimBox.bottomLeftY)+" "+re(x.trimBox.topRightX)+" "+re(x.trimBox.topRightY)+"]"),x.artBox!==null&&W("/ArtBox ["+re(x.artBox.bottomLeftX)+" "+re(x.artBox.bottomLeftY)+" "+re(x.artBox.topRightX)+" "+re(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&W("/UserUnit "+x.userUnit),tn.publish("putPage",{objId:fe,pageContext:ct[k],pageNumber:k,page:ee}),W("/Contents "+ye+" 0 R"),W(">>"),W("endobj");var De=ee.join(`
`);return B===q&&(De+=`
Q`),Si(ye,!0),xo({data:De,filters:fo(),objectId:ye}),W("endobj"),fe},Vo=S.__private__.putPages=function(){var x,k,ee=[];for(x=1;x<=Bt;x++)ct[x].objId=ii(),ct[x].contentsObjId=ii();for(x=1;x<=Bt;x++)ee.push(Ua({number:x,data:Ve[x],objId:ct[x].objId,contentsObjId:ct[x].contentsObjId,mediaBox:ct[x].mediaBox,cropBox:ct[x].cropBox,bleedBox:ct[x].bleedBox,trimBox:ct[x].trimBox,artBox:ct[x].artBox,userUnit:ct[x].userUnit,rootDictionaryObjId:Yi,resourceDictionaryObjId:bn}));Si(Yi,!0),W("<</Type /Pages");var fe="/Kids [";for(k=0;k<Bt;k++)fe+=ee[k]+" 0 R ";W(fe+"]"),W("/Count "+Bt),W(">>"),W("endobj"),tn.publish("postPutPages")},Yo=function(x){tn.publish("putFont",{font:x,out:W,newObject:Un,putStream:xo}),x.isAlreadyPutted!==!0&&(x.objectNumber=Un(),W("<<"),W("/Type /Font"),W("/BaseFont /"+Hu(x.postScriptName)),W("/Subtype /Type1"),typeof x.encoding=="string"&&W("/Encoding /"+x.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},ha=function(x){x.objectNumber=Un();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[re(x.x),re(x.y),re(x.x+x.width),re(x.y+x.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ee=x.pages[1].join(`
`);xo({data:ee,additionalKeyValues:k,objectId:x.objectNumber}),W("endobj")},Jo=function(x,k){k||(k=21);var ee=Un(),fe=(function(He,tt){var st,Tt=[],Pt=1/(tt-1);for(st=0;st<1;st+=Pt)Tt.push(st);if(Tt.push(1),He[0].offset!=0){var nn={offset:0,color:He[0].color};He.unshift(nn)}if(He[He.length-1].offset!=1){var Fn={offset:1,color:He[He.length-1].color};He.push(Fn)}for(var Qn="",Tn=0,pi=0;pi<Tt.length;pi++){for(st=Tt[pi];st>He[Tn+1].offset;)Tn++;var ri=He[Tn].offset,Ni=(st-ri)/(He[Tn+1].offset-ri),Hr=He[Tn].color,Qo=He[Tn+1].color;Qn+=ie(Math.round((1-Ni)*Hr[0]+Ni*Qo[0]).toString(16))+ie(Math.round((1-Ni)*Hr[1]+Ni*Qo[1]).toString(16))+ie(Math.round((1-Ni)*Hr[2]+Ni*Qo[2]).toString(16))}return Qn.trim()})(x.colors,k),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+k+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xo({data:fe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),W("endobj"),x.objectNumber=Un(),W("<< /ShadingType "+x.type),W("/ColorSpace /DeviceRGB");var De="/Coords ["+re(parseFloat(x.coords[0]))+" "+re(parseFloat(x.coords[1]))+" ";x.type===2?De+=re(parseFloat(x.coords[2]))+" "+re(parseFloat(x.coords[3])):De+=re(parseFloat(x.coords[2]))+" "+re(parseFloat(x.coords[3]))+" "+re(parseFloat(x.coords[4]))+" "+re(parseFloat(x.coords[5])),W(De+="]"),x.matrix&&W("/Matrix ["+x.matrix.toString()+"]"),W("/Function "+ee+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},jo=function(x,k){var ee=ii(),fe=Un();k.push({resourcesOid:ee,objectOid:fe}),x.objectNumber=fe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+x.boundingBox.map(re).join(" ")+"]"}),ye.push({key:"XStep",value:re(x.xStep)}),ye.push({key:"YStep",value:re(x.yStep)}),ye.push({key:"Resources",value:ee+" 0 R"}),x.matrix&&ye.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),xo({data:x.stream,additionalKeyValues:ye,objectId:x.objectNumber}),W("endobj")},Oa=function(x){for(var k in x.objectNumber=Un(),W("<<"),x)switch(k){case"opacity":W("/ca "+U(x[k]));break;case"stroke-opacity":W("/CA "+U(x[k]))}W(">>"),W("endobj")},fr=function(x){Si(x.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var k in W("/Font <<"),_t)_t.hasOwnProperty(k)&&(_===!1||_===!0&&A.hasOwnProperty(k))&&W("/"+k+" "+_t[k].objectNumber+" 0 R");W(">>")})(),(function(){if(Object.keys(mt).length>0){for(var k in W("/Shading <<"),mt)mt.hasOwnProperty(k)&&mt[k]instanceof Bl&&mt[k].objectNumber>=0&&W("/"+k+" "+mt[k].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),W(">>")}})(),(function(k){if(Object.keys(mt).length>0){for(var ee in W("/Pattern <<"),mt)mt.hasOwnProperty(ee)&&mt[ee]instanceof S.TilingPattern&&mt[ee].objectNumber>=0&&mt[ee].objectNumber<k&&W("/"+ee+" "+mt[ee].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),W(">>")}})(x.objectOid),(function(){if(Object.keys(xt).length>0){var k;for(k in W("/ExtGState <<"),xt)xt.hasOwnProperty(k)&&xt[k].objectNumber>=0&&W("/"+k+" "+xt[k].objectNumber+" 0 R");tn.publish("putGStateDict"),W(">>")}})(),(function(){for(var k in W("/XObject <<"),Pi)Pi.hasOwnProperty(k)&&Pi[k].objectNumber>=0&&W("/"+k+" "+Pi[k].objectNumber+" 0 R");tn.publish("putXobjectDict"),W(">>")})(),W(">>"),W("endobj")},Zn=function(x){Nt[x.fontName]=Nt[x.fontName]||{},Nt[x.fontName][x.fontStyle]=x.id},rl=function(x,k,ee,fe,ye){var De={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:x,fontName:k,fontStyle:ee,encoding:fe,isStandardFont:ye||!1,metadata:{}};return tn.publish("addFont",{font:De,instance:this}),_t[De.id]=De,Zn(De),De.id},ho=S.__private__.pdfEscape=S.pdfEscape=function(x,k){return(function(ee,fe){var ye,De,He,tt,st,Tt,Pt,nn,Fn;if(He=(fe=fe||{}).sourceEncoding||"Unicode",st=fe.outputEncoding,(fe.autoencode||st)&&_t[at].metadata&&_t[at].metadata[He]&&_t[at].metadata[He].encoding&&(tt=_t[at].metadata[He].encoding,!st&&_t[at].encoding&&(st=_t[at].encoding),!st&&tt.codePages&&(st=tt.codePages[0]),typeof st=="string"&&(st=tt[st]),st)){for(Pt=!1,Tt=[],ye=0,De=ee.length;ye<De;ye++)(nn=st[ee.charCodeAt(ye)])?Tt.push(String.fromCharCode(nn)):Tt.push(ee[ye]),Tt[ye].charCodeAt(0)>>8&&(Pt=!0);ee=Tt.join("")}for(ye=ee.length;Pt===void 0&&ye!==0;)ee.charCodeAt(ye-1)>>8&&(Pt=!0),ye--;if(!Pt)return ee;for(Tt=fe.noBOM?[]:[254,255],ye=0,De=ee.length;ye<De;ye++){if((Fn=(nn=ee.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(Fn),Tt.push(nn-(Fn<<8))}return String.fromCharCode.apply(void 0,Tt)})(x,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=S.__private__.beginPage=function(x){Ve[++Bt]=[],ct[Bt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},sl(Bt),rt(Ve[z])},Ir=function(x,k){var ee,fe,ye;switch(n=k||n,typeof x=="string"&&(ee=R(x.toLowerCase()),Array.isArray(ee)&&(fe=ee[0],ye=ee[1])),Array.isArray(x)&&(fe=x[0]*It,ye=x[1]*It),isNaN(fe)&&(fe=a[0],ye=a[1]),(fe>14400||ye>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ye=Math.min(14400,ye)),a=[fe,ye],n.substr(0,1)){case"l":ye>fe&&(a=[ye,fe]);break;case"p":fe>ye&&(a=[ye,fe])}Ko(a),wt(Ba),W(mo),Ss!==0&&W(Ss+" J"),_i!==0&&W(_i+" j"),tn.publish("addPage",{pageNumber:Bt})},al=function(x){x>0&&x<=Bt&&(Ve.splice(x,1),ct.splice(x,1),Bt--,z>Bt&&(z=Bt),this.setPage(z))},sl=function(x){x>0&&x<=Bt&&(z=x)},ll=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return Ve.length-1},Jl=function(x,k,ee){var fe,ye=void 0;return ee=ee||{},x=x!==void 0?x:_t[at].fontName,k=k!==void 0?k:_t[at].fontStyle,fe=x.toLowerCase(),Nt[fe]!==void 0&&Nt[fe][k]!==void 0?ye=Nt[fe][k]:Nt[x]!==void 0&&Nt[x][k]!==void 0?ye=Nt[x][k]:ee.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+x+"', '"+k+"'. Refer to getFontList() for available fonts."),ye||ee.noFallback||(ye=Nt.times[k])==null&&(ye=Nt.times.normal),ye},po=S.__private__.putInfo=function(){var x=Un(),k=function(fe){return fe};for(var ee in g!==null&&(k=hi.encryptor(x,0)),W("<<"),W("/Producer ("+ho(k("jsPDF "+ft.version))+")"),zt)zt.hasOwnProperty(ee)&&zt[ee]&&W("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+ho(k(zt[ee]))+")");W("/CreationDate ("+ho(k(Ae))+")"),W(">>"),W("endobj")},kr=S.__private__.putCatalog=function(x){var k=(x=x||{}).rootDictionaryObjId||Yi;switch(Un(),W("<<"),W("/Type /Catalog"),W("/Pages "+k+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+gt;ee.substr(ee.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&W("/OpenAction [3 0 R /XYZ null null "+U(gt)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}dt&&W("/PageMode /"+dt),tn.publish("putCatalog"),W(">>"),W("endobj")},Wo=S.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ce+1)),W("/Root "+ce+" 0 R"),W("/Info "+(ce-1)+" 0 R"),g!==null&&W("/Encrypt "+hi.oid+" 0 R"),W("/ID [ <"+ne+"> <"+ne+"> ]"),W(">>")},un=S.__private__.putHeader=function(){W("%PDF-"+C),W("%")},ul=S.__private__.putXRef=function(){var x="0000000000";W("xref"),W("0 "+(ce+1)),W("0000000000 65535 f ");for(var k=1;k<=ce;k++)typeof me[k]=="function"?W((x+me[k]()).slice(-10)+" 00000 n "):me[k]!==void 0?W((x+me[k]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},dr=S.__private__.buildDocument=function(){var x;ce=0,Ne=0,Le=[],me=[],Ue=[],Yi=ii(),bn=ii(),rt(Le),tn.publish("buildDocument"),un(),Vo(),(function(){tn.publish("putAdditionalObjects");for(var ee=0;ee<Ue.length;ee++){var fe=Ue[ee];Si(fe.objId,!0),W(fe.content),W("endobj")}tn.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ee in _t)_t.hasOwnProperty(ee)&&(_===!1||_===!0&&A.hasOwnProperty(ee))&&Yo(_t[ee])})(),(function(){var ee;for(ee in xt)xt.hasOwnProperty(ee)&&Oa(xt[ee])})(),(function(){for(var ee in Pi)Pi.hasOwnProperty(ee)&&ha(Pi[ee])})(),(function(ee){var fe;for(fe in mt)mt.hasOwnProperty(fe)&&(mt[fe]instanceof Bl?Jo(mt[fe]):mt[fe]instanceof Vu&&jo(mt[fe],ee))})(x),tn.publish("putResources"),x.forEach(fr),fr({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources"),g!==null&&(hi.oid=Un(),W("<<"),W("/Filter /Standard"),W("/V "+hi.v),W("/R "+hi.r),W("/U <"+hi.toHexString(hi.U)+">"),W("/O <"+hi.toHexString(hi.O)+">"),W("/P "+hi.P),W(">>"),W("endobj")),po(),kr();var k=Ne;return ul(),Wo(),W("startxref"),W(""+k),W("%%EOF"),rt(Ve[z]),Le.join(`
`)},pa=S.__private__.getBlob=function(x){return new Blob([Ht(x)],{type:"application/pdf"})},cl=S.output=S.__private__.output=(co=function(x,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",x){case void 0:return dr();case"save":S.save(k.filename);break;case"arraybuffer":return Ht(dr());case"blob":return pa(dr());case"bloburi":case"bloburl":if(Rt.URL!==void 0&&typeof Rt.URL.createObjectURL=="function")return Rt.URL&&Rt.URL.createObjectURL(pa(dr()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",fe=dr();try{ee=wv(fe)}catch{ee=wv(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+k.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(ye=k.pdfObjectUrl,De="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",tt=Rt.open();return tt!==null&&tt.document.write(He),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',Tt=Rt.open();if(Tt!==null){Tt.document.write(st);var Pt=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=k.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',Fn=Rt.open();if(Fn!==null&&(Fn.document.write(nn),Fn.document.title=k.filename),Fn||typeof safari>"u")return Fn;break;case"datauri":case"dataurl":return Rt.document.location.href=this.output("datauristring",k);default:return null}},co.foo=function(){try{return co.apply(this,arguments)}catch(ee){var x=ee.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var k="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Rt.console)throw new Error(k);Rt.console.error(k,ee),Rt.alert&&alert(k)}},co.foo.bar=co,co.foo),Ji=function(x){return Array.isArray(Go)===!0&&Go.indexOf(x)>-1};switch(o){case"pt":It=1;break;case"mm":It=72/25.4;break;case"cm":It=72/2.54;break;case"in":It=72;break;case"px":It=Ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":It=12;break;case"ex":It=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);It=o}var hi=null;J(),ue();var oi=S.__private__.getPageInfo=S.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[x].objId,pageNumber:x,pageContext:ct[x]}},ys=S.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in ct)if(ct[k].objId===x)break;return oi(k)},jl=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:ct[z].objId,pageNumber:z,pageContext:ct[z]}};S.addPage=function(){return Ir.apply(this,arguments),this},S.setPage=function(){return sl.apply(this,arguments),rt.call(this,Ve[z]),this},S.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},S.movePage=function(x,k){var ee,fe;if(x>k){ee=Ve[x],fe=ct[x];for(var ye=x;ye>k;ye--)Ve[ye]=Ve[ye-1],ct[ye]=ct[ye-1];Ve[k]=ee,ct[k]=fe,this.setPage(k)}else if(x<k){ee=Ve[x],fe=ct[x];for(var De=x;De<k;De++)Ve[De]=Ve[De+1],ct[De]=ct[De+1];Ve[k]=ee,ct[k]=fe,this.setPage(k)}return this},S.deletePage=function(){return al.apply(this,arguments),this},S.__private__.text=S.text=function(x,k,ee,fe,ye){var De,He,tt,st,Tt,Pt,nn,Fn,Qn,Tn=(fe=fe||{}).scope||this;if(typeof x=="number"&&typeof k=="number"&&(typeof ee=="string"||Array.isArray(ee))){var pi=ee;ee=k,k=x,x=pi}if(arguments[3]instanceof ht==0?(tt=arguments[4],st=arguments[5],xn(nn=arguments[3])==="object"&&nn!==null||(typeof tt=="string"&&(st=tt,tt=null),typeof nn=="string"&&(st=nn,nn=null),typeof nn=="number"&&(tt=nn,nn=null),fe={flags:nn,angle:tt,align:st})):(G("The transform parameter of text() with a Matrix value"),Qn=ye),isNaN(k)||isNaN(ee)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Tn;var ri,Ni="",Hr=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Dr,Qo=Tn.internal.scaleFactor;function zr(cn){return cn=cn.split("	").join(Array(fe.TabLen||9).join(" ")),ho(cn,nn)}function bl(cn){for(var on,Nn=cn.concat(),ei=[],wr=Nn.length;wr--;)typeof(on=Nn.shift())=="string"?ei.push(on):Array.isArray(cn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?ei.push(on[0]):ei.push([on[0],on[1],on[2]]);return ei}function ws(cn,on){var Nn;if(typeof cn=="string")Nn=on(cn)[0];else if(Array.isArray(cn)){for(var ei,wr,nr=cn.concat(),Ja=[],wl=nr.length;wl--;)typeof(ei=nr.shift())=="string"?Ja.push(on(ei)[0]):Array.isArray(ei)&&typeof ei[0]=="string"&&(wr=on(ei[0],ei[1],ei[2]),Ja.push([wr[0],wr[1],wr[2]]));Nn=Ja}return Nn}var gr=!1,$o=!0;if(typeof x=="string")gr=!0;else if(Array.isArray(x)){var Va=x.concat();He=[];for(var Gr,wi=Va.length;wi--;)(typeof(Gr=Va.shift())!="string"||Array.isArray(Gr)&&typeof Gr[0]!="string")&&($o=!1);gr=$o}if(gr===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ma=ze/Tn.internal.scaleFactor,va=ma*(Hr-1);switch(fe.baseline){case"bottom":ee-=va;break;case"top":ee+=ma-va;break;case"hanging":ee+=ma-2*va;break;case"middle":ee+=ma/2-va}if((Pt=fe.maxWidth||0)>0&&(typeof x=="string"?x=Tn.splitTextToSize(x,Pt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(cn,on){return cn.concat(Tn.splitTextToSize(on,Pt))},[]))),De={text:x,x:k,y:ee,options:fe,mutex:{pdfEscape:ho,activeFontKey:at,fonts:_t,activeFontSize:ze}},tn.publish("preProcessText",De),x=De.text,tt=(fe=De.options).angle,Qn instanceof ht==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,fe.rotationDirection===0&&(tt=-tt),B===q&&(tt=-tt);var As=Math.cos(tt),mr=Math.sin(tt);Qn=new ht(As,mr,-mr,As,0,0)}else tt&&tt instanceof ht&&(Qn=tt);B!==q||Qn||(Qn=cr),(Tt=fe.charSpace||Eo)!==void 0&&(Ni+=re(se(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fn=fe.horizontalScale)!==void 0&&(Ni+=re(100*Fn)+` Tz
`),fe.lang;var Ki=-1,Vr=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,xs=Tn.internal.getCurrentPageInfo().pageContext;switch(Vr){case 0:case!1:case"fill":Ki=0;break;case 1:case!0:case"stroke":Ki=1;break;case 2:case"fillThenStroke":Ki=2;break;case 3:case"invisible":Ki=3;break;case 4:case"fillAndAddForClipping":Ki=4;break;case 5:case"strokeAndAddPathForClipping":Ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ki=6;break;case 7:case"addToPathForClipping":Ki=7}var Sl=xs.usedRenderingMode!==void 0?xs.usedRenderingMode:-1;Ki!==-1?Ni+=Ki+` Tr
`:Sl!==-1&&(Ni+=`0 Tr
`),Ki!==-1&&(xs.usedRenderingMode=Ki),st=fe.align||"left";var vo,er=ze*Hr,Yr=Tn.internal.pageSize.getWidth(),_l=_t[at];Tt=fe.charSpace||Eo,Pt=fe.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var tr=[],ya=function(cn){return Tn.getStringUnitWidth(cn,{font:_l,charSpace:Tt,fontSize:ze,doKerning:!1})*ze/Qo};if(Object.prototype.toString.call(x)==="[object Array]"){var to;He=bl(x),st!=="left"&&(vo=He.map(ya));var Wi,vr=0;if(st==="right"){k-=vo[0],x=[],wi=He.length;for(var yr=0;yr<wi;yr++)yr===0?(Wi=go(k),to=Ti(ee)):(Wi=se(vr-vo[yr]),to=-er),x.push([He[yr],Wi,to]),vr=vo[yr]}else if(st==="center"){k-=vo[0]/2,x=[],wi=He.length;for(var Jr=0;Jr<wi;Jr++)Jr===0?(Wi=go(k),to=Ti(ee)):(Wi=se((vr-vo[Jr])/2),to=-er),x.push([He[Jr],Wi,to]),vr=vo[Jr]}else if(st==="left"){x=[],wi=He.length;for(var Es=0;Es<wi;Es++)x.push(He[Es])}else if(st==="justify"&&_l.encoding==="Identity-H"){x=[],wi=He.length,Pt=Pt!==0?Pt:Yr;for(var Ts=0,$n=0;$n<wi;$n++)if(to=$n===0?Ti(ee):-er,Wi=$n===0?go(k):Ts,$n<wi-1){var nu=se((Pt-vo[$n])/(He[$n].split(" ").length-1)),br=He[$n].split(" ");x.push([br[0]+" ",Wi,to]),Ts=0;for(var Sr=1;Sr<br.length;Sr++){var Ci=(ya(br[Sr-1]+" "+br[Sr])-ya(br[Sr]))*Qo+nu;Sr==br.length-1?x.push([br[Sr],Ci,0]):x.push([br[Sr]+" ",Ci,0]),Ts-=Ci}}else x.push([He[$n],Wi,to]);x.push(["",Ts,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],wi=He.length,Pt=Pt!==0?Pt:Yr,$n=0;$n<wi;$n++){to=$n===0?Ti(ee):-er,Wi=$n===0?go(k):0;var jr=He[$n].split(" ").length-1,Ns=jr>0?(Pt-vo[$n])/jr:0;$n<wi-1?tr.push(re(se(Ns))):tr.push(0),x.push([He[$n],Wi,to])}}}(typeof fe.R2L=="boolean"?fe.R2L:St)===!0&&(x=ws(x,function(cn,on,Nn){return[cn.split("").reverse().join(""),on,Nn]})),De={text:x,x:k,y:ee,options:fe,mutex:{pdfEscape:ho,activeFontKey:at,fonts:_t,activeFontSize:ze}},tn.publish("postProcessText",De),x=De.text,ri=De.mutex.isHex||!1;var Cs=_t[at].encoding;Cs!=="WinAnsiEncoding"&&Cs!=="StandardEncoding"||(x=ws(x,function(cn,on,Nn){return[zr(cn),on,Nn]})),He=bl(x),x=[];for(var Kr,Wr,_r,Ya=Array.isArray(He[0])?1:0,yo="",Xr=function(cn,on,Nn){var ei="";return Nn instanceof ht?(Nn=typeof fe.angle=="number"?Mr(Nn,new ht(1,0,0,1,cn,on)):Mr(new ht(1,0,0,1,cn,on),Nn),B===q&&(Nn=Mr(new ht(1,0,0,-1,0,0),Nn)),ei=Nn.join(" ")+` Tm
`):ei=re(cn)+" "+re(on)+` Td
`,ei},Oi=0;Oi<He.length;Oi++){switch(yo="",Ya){case 1:_r=(ri?"<":"(")+He[Oi][0]+(ri?">":")"),Kr=parseFloat(He[Oi][1]),Wr=parseFloat(He[Oi][2]);break;case 0:_r=(ri?"<":"(")+He[Oi]+(ri?">":")"),Kr=go(k),Wr=Ti(ee)}tr!==void 0&&tr[Oi]!==void 0&&(yo=tr[Oi]+` Tw
`),Oi===0?x.push(yo+Xr(Kr,Wr,Qn)+_r):Ya===0?x.push(yo+_r):Ya===1&&x.push(yo+Xr(Kr,Wr,Qn)+_r)}x=Ya===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var No=`BT
/`;return No+=at+" "+ze+` Tf
`,No+=re(ze*Hr)+` TL
`,No+=hr+`
`,No+=Ni,No+=x,W(No+="ET"),A[at]=!0,Tn};var fl=S.__private__.clip=S.clip=function(x){return W(x==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return fl("evenodd")},S.__private__.discardPath=S.discardPath=function(){return W("n"),this};var ji=S.__private__.isValidStyle=function(x){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(k=!0),k};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(x){return ji(x)&&(f=x),this};var dl=S.__private__.getStyle=S.getStyle=function(x){var k=f;switch(x){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=x}return k},hl=S.close=function(){return W("h"),this};S.stroke=function(){return W("S"),this},S.fill=function(x){return Xo("f",x),this},S.fillEvenOdd=function(x){return Xo("f*",x),this},S.fillStroke=function(x){return Xo("B",x),this},S.fillStrokeEvenOdd=function(x){return Xo("B*",x),this};var Xo=function(x,k){xn(k)==="object"?Wl(k,x):W(x)},Fa=function(x){x===null||B===q&&x===void 0||(x=dl(x),W(x))};function Kl(x,k,ee,fe,ye){var De=new Vu(k||this.boundingBox,ee||this.xStep,fe||this.yStep,this.gState,ye||this.matrix);De.stream=this.stream;var He=x+"$$"+this.cloneIndex+++"$$";return uo(He,De),De}var Wl=function(x,k){var ee=En[x.key],fe=mt[ee];if(fe instanceof Bl)W("q"),W(pl(k)),fe.gState&&S.setGState(fe.gState),W(x.matrix.toString()+" cm"),W("/"+ee+" sh"),W("Q");else if(fe instanceof Vu){var ye=new ht(1,0,0,-1,0,qr());x.matrix&&(ye=ye.multiply(x.matrix||cr),ee=Kl.call(fe,x.key,x.boundingBox,x.xStep,x.yStep,ye).id),W("q"),W("/Pattern cs"),W("/"+ee+" scn"),fe.gState&&S.setGState(fe.gState),W(k),W("Q")}},pl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gl=S.moveTo=function(x,k){return W(re(se(x))+" "+re(oe(k))+" m"),this},Xl=S.lineTo=function(x,k){return W(re(se(x))+" "+re(oe(k))+" l"),this},eo=S.curveTo=function(x,k,ee,fe,ye,De){return W([re(se(x)),re(oe(k)),re(se(ee)),re(oe(fe)),re(se(ye)),re(oe(De)),"c"].join(" ")),this};S.__private__.line=S.line=function(x,k,ee,fe,ye){if(isNaN(x)||isNaN(k)||isNaN(ee)||isNaN(fe)||!ji(ye))throw new Error("Invalid arguments passed to jsPDF.line");return B===j?this.lines([[ee-x,fe-k]],x,k,[1,1],ye||"S"):this.lines([[ee-x,fe-k]],x,k,[1,1]).stroke()},S.__private__.lines=S.lines=function(x,k,ee,fe,ye,De){var He,tt,st,Tt,Pt,nn,Fn,Qn,Tn,pi,ri,Ni;if(typeof x=="number"&&(Ni=ee,ee=k,k=x,x=Ni),fe=fe||[1,1],De=De||!1,isNaN(k)||isNaN(ee)||!Array.isArray(x)||!Array.isArray(fe)||!ji(ye)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gl(k,ee),He=fe[0],tt=fe[1],Tt=x.length,pi=k,ri=ee,st=0;st<Tt;st++)(Pt=x[st]).length===2?(pi=Pt[0]*He+pi,ri=Pt[1]*tt+ri,Xl(pi,ri)):(nn=Pt[0]*He+pi,Fn=Pt[1]*tt+ri,Qn=Pt[2]*He+pi,Tn=Pt[3]*tt+ri,pi=Pt[4]*He+pi,ri=Pt[5]*tt+ri,eo(nn,Fn,Qn,Tn,pi,ri));return De&&hl(),Fa(ye),this},S.path=function(x){for(var k=0;k<x.length;k++){var ee=x[k],fe=ee.c;switch(ee.op){case"m":gl(fe[0],fe[1]);break;case"l":Xl(fe[0],fe[1]);break;case"c":eo.apply(this,fe);break;case"h":hl()}}return this},S.__private__.rect=S.rect=function(x,k,ee,fe,ye){if(isNaN(x)||isNaN(k)||isNaN(ee)||isNaN(fe)||!ji(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return B===j&&(fe=-fe),W([re(se(x)),re(oe(k)),re(se(ee)),re(se(fe)),"re"].join(" ")),Fa(ye),this},S.__private__.triangle=S.triangle=function(x,k,ee,fe,ye,De,He){if(isNaN(x)||isNaN(k)||isNaN(ee)||isNaN(fe)||isNaN(ye)||isNaN(De)||!ji(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-x,fe-k],[ye-ee,De-fe],[x-ye,k-De]],x,k,[1,1],He,!0),this},S.__private__.roundedRect=S.roundedRect=function(x,k,ee,fe,ye,De,He){if(isNaN(x)||isNaN(k)||isNaN(ee)||isNaN(fe)||isNaN(ye)||isNaN(De)||!ji(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ee),De=Math.min(De,.5*fe),this.lines([[ee-2*ye,0],[ye*tt,0,ye,De-De*tt,ye,De],[0,fe-2*De],[0,De*tt,-ye*tt,De,-ye,De],[2*ye-ee,0],[-ye*tt,0,-ye,-De*tt,-ye,-De],[0,2*De-fe],[0,-De*tt,ye*tt,-De,ye,-De]],x+ye,k,[1,1],He,!0),this},S.__private__.ellipse=S.ellipse=function(x,k,ee,fe,ye){if(isNaN(x)||isNaN(k)||isNaN(ee)||isNaN(fe)||!ji(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*ee,He=4/3*(Math.SQRT2-1)*fe;return gl(x+ee,k),eo(x+ee,k-He,x+De,k-fe,x,k-fe),eo(x-De,k-fe,x-ee,k-He,x-ee,k),eo(x-ee,k+He,x-De,k+fe,x,k+fe),eo(x+De,k+fe,x+ee,k+He,x+ee,k),Fa(ye),this},S.__private__.circle=S.circle=function(x,k,ee,fe){if(isNaN(x)||isNaN(k)||isNaN(ee)||!ji(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,k,ee,ee,fe)},S.setFont=function(x,k,ee){return ee&&(k=de(k,ee)),at=Jl(x,k,{disableWarning:!1}),this};var Zo=S.__private__.getFont=S.getFont=function(){return _t[Jl.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var x,k,ee={};for(x in Nt)if(Nt.hasOwnProperty(x))for(k in ee[x]=[],Nt[x])Nt[x].hasOwnProperty(k)&&ee[x].push(k);return ee},S.addFont=function(x,k,ee,fe,ye){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(ee=de(ee,fe)),rl.call(this,x,k,ee,ye=ye||"Identity-H")};var Dr,Ba=t.lineWidth||.200025,ga=S.__private__.getLineWidth=S.getLineWidth=function(){return Ba},wt=S.__private__.setLineWidth=S.setLineWidth=function(x){return Ba=x,W(re(se(x))+" w"),this};S.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(x,k){if(x=x||[],k=k||0,isNaN(k)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ee){return re(se(ee))}).join(" "),k=re(se(k)),W("["+x+"] "+k+" d"),this};var Zl=S.__private__.getLineHeight=S.getLineHeight=function(){return ze*Dr};S.__private__.getLineHeight=S.getLineHeight=function(){return ze*Dr};var ml=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Dr=x),this},Ql=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return Dr};ml(t.lineHeight);var go=S.__private__.getHorizontalCoordinate=function(x){return se(x)},Ti=S.__private__.getVerticalCoordinate=function(x){return B===q?x:ct[z].mediaBox.topRightY-ct[z].mediaBox.bottomLeftY-se(x)},vl=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(x){return re(go(x))},qa=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(x){return re(Ti(x))},mo=t.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return On(mo)},S.__private__.setStrokeColor=S.setDrawColor=function(x,k,ee,fe){return mo=Ui({ch1:x,ch2:k,ch3:ee,ch4:fe,pdfColorType:"draw",precision:2}),W(mo),this};var Ha=t.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return On(Ha)},S.__private__.setFillColor=S.setFillColor=function(x,k,ee,fe){return Ha=Ui({ch1:x,ch2:k,ch3:ee,ch4:fe,pdfColorType:"fill",precision:2}),W(Ha),this};var hr=t.textColor||"0 g",$l=S.__private__.getTextColor=S.getTextColor=function(){return On(hr)};S.__private__.setTextColor=S.setTextColor=function(x,k,ee,fe){return hr=Ui({ch1:x,ch2:k,ch3:ee,ch4:fe,pdfColorType:"text",precision:3}),this};var Eo=t.charSpace,bs=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(Eo||0)};S.__private__.setCharSpace=S.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Eo=x,this};var Ss=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(x){var k=S.CapJoinStyles[x];if(k===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=k,W(k+" J"),this};var _i=0;S.__private__.setLineJoin=S.setLineJoin=function(x){var k=S.CapJoinStyles[x];if(k===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _i=k,W(k+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(re(se(x))+" M"),this},S.GState=_d,S.setGState=function(x){(x=typeof x=="string"?xt[Ct[x]]:pr(null,x)).equals(yn)||(W("/"+x.id+" gs"),yn=x)};var pr=function(x,k){if(!x||!Ct[x]){var ee=!1;for(var fe in xt)if(xt.hasOwnProperty(fe)&&xt[fe].equals(k)){ee=!0;break}if(ee)k=xt[fe];else{var ye="GS"+(Object.keys(xt).length+1).toString(10);xt[ye]=k,k.id=ye}return x&&(Ct[x]=k.id),tn.publish("addGState",k),k}};S.addGState=function(x,k){return pr(x,k),this},S.saveGraphicsState=function(){return W("q"),Kt.push({key:at,size:ze,color:hr}),this},S.restoreGraphicsState=function(){W("Q");var x=Kt.pop();return at=x.key,ze=x.size,hr=x.color,yn=null,this},S.setCurrentTransformationMatrix=function(x){return W(x.toString()+" cm"),this},S.comment=function(x){return W("#"+x),this};var To=function(x,k){var ee=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(De){isNaN(De)||(ee=parseFloat(De))}});var fe=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(De){isNaN(De)||(fe=parseFloat(De))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(De){ye=De.toString()}}),this},Pr=function(x,k,ee,fe){To.call(this,x,k),this.type="rect";var ye=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(He){isNaN(He)||(ye=parseFloat(He))}});var De=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(He){isNaN(He)||(De=parseFloat(He))}}),this},_s=function(){this.page=Bt,this.currentPage=z,this.pages=Ve.slice(0),this.pagesContext=ct.slice(0),this.x=ut,this.y=Xn,this.matrix=Yt,this.width=Or(z),this.height=yl(z),this.outputDestination=We,this.id="",this.objectNumber=-1};_s.prototype.restore=function(){Bt=this.page,z=this.currentPage,ct=this.pagesContext,Ve=this.pages,ut=this.x,Xn=this.y,Yt=this.matrix,Ga(z,this.width),Fr(z,this.height),We=this.outputDestination};var za=function(x,k,ee,fe,ye){Ao.push(new _s),Bt=z=0,Ve=[],ut=x,Xn=k,Yt=ye,Ko([ee,fe])};for(var Ur in S.beginFormObject=function(x,k,ee,fe,ye){return za(x,k,ee,fe,ye),this},S.endFormObject=function(x){return(function(k){if(ur[k])Ao.pop().restore();else{var ee=new _s,fe="Xo"+(Object.keys(Pi).length+1).toString(10);ee.id=fe,ur[k]=fe,Pi[fe]=ee,tn.publish("addFormObject",ee),Ao.pop().restore()}})(x),this},S.doFormObject=function(x,k){var ee=Pi[ur[x]];return W("q"),W(k.toString()+" cm"),W("/"+ee.id+" Do"),W("Q"),this},S.getFormObject=function(x){var k=Pi[ur[x]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},S.save=function(x,k){return x=x||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(Fl(pa(dr()),x),typeof Fl.unload=="function"&&Rt.setTimeout&&setTimeout(Fl.unload,911),this):new Promise(function(ee,fe){try{var ye=Fl(pa(dr()),x);typeof Fl.unload=="function"&&Rt.setTimeout&&setTimeout(Fl.unload,911),ee(ye)}catch(De){fe(De.message)}})},ft.API)ft.API.hasOwnProperty(Ur)&&(Ur==="events"&&ft.API.events.length?(function(x,k){var ee,fe,ye;for(ye=k.length-1;ye!==-1;ye--)ee=k[ye][0],fe=k[ye][1],x.subscribe.apply(x,[ee].concat(typeof fe=="function"?[fe]:fe))})(tn,ft.API.events):S[Ur]=ft.API[Ur]);function Or(x){return ct[x].mediaBox.topRightX-ct[x].mediaBox.bottomLeftX}function Ga(x,k){ct[x].mediaBox.topRightX=k+ct[x].mediaBox.bottomLeftX}function yl(x){return ct[x].mediaBox.topRightY-ct[x].mediaBox.bottomLeftY}function Fr(x,k){ct[x].mediaBox.topRightY=k+ct[x].mediaBox.bottomLeftY}var Br=S.getPageWidth=function(x){return Or(x=x||z)/It},eu=S.setPageWidth=function(x,k){Ga(x,k*It)},qr=S.getPageHeight=function(x){return yl(x=x||z)/It},tu=S.setPageHeight=function(x,k){Fr(x,k*It)};return S.internal={pdfEscape:ho,getStyle:dl,getFont:Zo,getFontSize:$e,getCharSpace:bs,getTextColor:$l,getLineHeight:Zl,getLineHeightFactor:Ql,getLineWidth:ga,write:je,getHorizontalCoordinate:go,getVerticalCoordinate:Ti,getCoordinateString:vl,getVerticalCoordinateString:qa,collections:{},newObject:Un,newAdditionalObject:da,newObjectDeferred:ii,newObjectDeferredBegin:Si,getFilters:fo,putStream:xo,events:tn,scaleFactor:It,pageSize:{getWidth:function(){return Br(z)},setWidth:function(x){eu(z,x)},getHeight:function(){return qr(z)},setHeight:function(x){tu(z,x)}},encryptionOptions:g,encryption:hi,getEncryptor:function(x){return g!==null?hi.encryptor(x,0):function(k){return k}},output:cl,getNumberOfPages:ll,get pages(){return Ve},out:W,f2:U,f3:Y,getPageInfo:oi,getPageInfoByObjId:ys,getCurrentPageInfo:jl,getPDFVersion:I,Point:To,Rectangle:Pr,Matrix:ht,hasHotfix:Ji},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return Br(z)},set:function(x){eu(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return qr(z)},set:function(x){tu(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var k=0,ee=bt.length;k<ee;k++){var fe=rl.call(this,x[k][0],x[k][1],x[k][2],bt[k][3],!0);_===!1&&(A[fe]=!0);var ye=x[k][0].split("-");Zn({id:fe,fontName:ye[0],fontStyle:ye[1]||""})}tn.publish("addFonts",{fonts:_t,dictionary:Nt})}).call(S,bt),at="F1",Ir(a,n),tn.publish("initialized"),S}qu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qu.prototype.processOwnerPassword=function(t,e){return t0(e0(e).substr(0,5),t)},qu.prototype.encryptor=function(t,e){var n=e0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(o){return t0(n,o)}},_d.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||xn(t)!==xn(this))return!1;var o=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;o++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&o--;return o===0},ft.API={events:[]},ft.version="4.1.0";var di=ft.API,A0=1,Yl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wd=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Ft=function(t){return t.toFixed(2)},$s=function(t){return t.toFixed(5)};di.__acroform__={};var zo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Tv=function(t){return t*A0},ka=function(t){var e=new R5,n=ot.internal.getHeight(t)||0,o=ot.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ft(o)),Number(Ft(n))],e},XC=di.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},ZC=di.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},QC=di.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},vi=di.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QC(t,e-1)},yi=di.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XC(t,e-1)},bi=di.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ZC(t,e-1)},$C=di.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,o=e.internal.getVerticalCoordinate,a=t[0],s=t[1],u=t[2],c=t[3],h={};return h.lowerLeft_X=n(a)||0,h.lowerLeft_Y=o(s+c)||0,h.upperRight_X=n(a+u)||0,h.upperRight_Y=o(s)||0,[Number(Ft(h.lowerLeft_X)),Number(Ft(h.lowerLeft_Y)),Number(Ft(h.upperRight_X)),Number(Ft(h.upperRight_Y))]},e6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,o=n0(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ft(o.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ka(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},n0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(U){return U.split(`
`)}):a.map(function(U){return[U]});var s=n,u=ot.internal.getHeight(t)||0;u=u<0?-u:u;var c=ot.internal.getWidth(t)||0;c=c<0?-c:c;var h=function(U,Y,se){if(U+1<a.length){var oe=Y+" "+a[U+1][0];return od(oe,t,se).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var f,g,_=od("3",t,s).height,A=t.multiline?u-s:(u-_)/2,S=A+=2,C=0,I=0,M=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+od(e,t,s=12).width+", FieldWidth:"+c+`
`;break}for(var R="",j=0,q=0;q<a.length;q++)if(a.hasOwnProperty(q)){var B=!1;if(a[q].length!==1&&M!==a[q].length-1){if((_+2)*(j+2)+2>u)continue e;R+=a[q][M],B=!0,I=q,q--}else{R=(R+=a[q][M]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var X=parseInt(q),ve=h(X,R,s),de=q>=a.length-1;if(ve&&!de){R+=" ",M=0;continue}if(ve||de){if(de)I=X;else if(t.multiline&&(_+2)*(j+2)+2>u)continue e}else{if(!t.multiline||(_+2)*(j+2)+2>u)continue e;I=X}}for(var re="",G=C;G<=I;G++){var te=a[G];if(t.multiline){if(G===I){re+=te[M]+" ",M=(M+1)%te.length;continue}if(G===C){re+=te[te.length-1]+" ";continue}}re+=te[0]+" "}switch(re=re.substr(re.length-1)==" "?re.substr(0,re.length-1):re,g=od(re,t,s).width,t.textAlign){case"right":f=c-g-2;break;case"center":f=(c-g)/2;break;default:f=2}e+=Ft(f)+" "+Ft(S)+` Td
`,e+="("+Yl(re)+`) Tj
`,e+=-Ft(f)+` 0 Td
`,S=-(s+2),g=0,C=B?I:I+1,j++,R=""}break}return o.text=e,o.fontSize=s,o},od=function(t,e,n){var o=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},t6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},n6=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===n.type&&o.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},i6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ca.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(t6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");A0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new M5,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];s.objId=void 0,s.hasAnnotation&&n6(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(o,a){var s=!o;for(var u in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(u)){var c=o[u],h=[],f=c.Rect;if(c.Rect&&(c.Rect=$C(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ot.createDefaultAppearanceStream(c),xn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=e6(c);h.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var _="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var S=c.appearanceStreamContent[A];if(_+="/"+A+" ",_+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var u in S)if(S.hasOwnProperty(u)){var C=S[u];typeof C=="function"&&(C=C.call(a,c)),_+="/"+u+" "+C+" ",a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C)}}else typeof(C=S)=="function"&&(C=C.call(a,c)),_+="/"+u+" "+C,a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C);_+=">>"}h.push({key:"AP",value:`<<
`+_+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:c.objId}),a.internal.out("endobj")}s&&(function(I,M){for(var R in I)if(I.hasOwnProperty(R)){var j=R,q=I[R];M.internal.newObjectDeferredBegin(q.objId,!0),xn(q)==="object"&&typeof q.putStream=="function"&&q.putStream(),delete I[j]}})(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},L5=di.__acroform__.arrayToPdfArray=function(t,e,n){var o=function(u){return u};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),xn(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?a+="/"+wd(t[s].substr(1)):(e!==void 0&&n&&(o=n.internal.getEncryptor(e)),a+="("+Yl(o(t[s].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_p=function(t,e,n){var o=function(a){return a};return e!==void 0&&n&&(o=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Yl(o(t))+")"},Da=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Da.prototype.toString=function(){return this.objId+" 0 R"},Da.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Da.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var o=e[n],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:L5(a,this.objId,this.scope)}):a instanceof Da?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var R5=function(){Da.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};zo(R5,Da);var M5=function(){Da.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(o){return o};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Yl(n(t))+")"}},set:function(n){t=n}})};zo(M5,Da);var ca=function t(){Da.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');e=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vi(e,3)},set:function(R){R?this.F=yi(e,3):this.F=bi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');n=R}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(R){o=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(R){o[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(R){o[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(R){o[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(R){o[3]=R}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ad)return;s="FieldObject"+t.FieldNum++}var R=function(j){return j};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+Yl(R(s))+")"},set:function(R){s=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(R){s=R}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(R){u=R}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(R){c=R}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(R){h=R}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/A0:f},set:function(R){f=R}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(R){g=R}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof Ad||this instanceof ql))return _p(_,this.objId,this.scope)},set:function(R){R=R.toString(),_=R}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Gi==0?_p(A,this.objId,this.scope):A},set:function(R){R=R.toString(),A=this instanceof Gi==0?R.substr(0,1)==="("?Ou(R.substr(1,R.length-2)):Ou(R):R}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gi==1?Ou(A.substr(1,A.length-1)):A},set:function(R){R=R.toString(),A=this instanceof Gi==1?"/"+wd(R):R}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Gi==0?_p(S,this.objId,this.scope):S},set:function(R){R=R.toString(),S=this instanceof Gi==0?R.substr(0,1)==="("?Ou(R.substr(1,R.length-2)):Ou(R):R}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gi==1?Ou(S.substr(1,S.length-1)):S},set:function(R){R=R.toString(),S=this instanceof Gi==1?"/"+wd(R):R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(R){R=!!R,I=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(R){C=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,1)},set:function(R){R?this.Ff=yi(this.Ff,1):this.Ff=bi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,2)},set:function(R){R?this.Ff=yi(this.Ff,2):this.Ff=bi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,3)},set:function(R){R?this.Ff=yi(this.Ff,3):this.Ff=bi(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');M=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(M){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};zo(ca,Da);var Ku=function(){ca.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return L5(e,this.objId,this.scope)},set:function(n){var o,a;a=[],typeof(o=n)=="string"&&(a=(function(s,u,c){c||(c=1);for(var h,f=[];h=u.exec(s);)f.push(h[c]);return f})(o,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,o){for(o=o||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,18)},set:function(n){n?this.Ff=yi(this.Ff,18):this.Ff=bi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=yi(this.Ff,19):this.Ff=bi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,20)},set:function(n){n?(this.Ff=yi(this.Ff,20),e.sort()):this.Ff=bi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,22)},set:function(n){n?this.Ff=yi(this.Ff,22):this.Ff=bi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(n){n?this.Ff=yi(this.Ff,23):this.Ff=bi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,27)},set:function(n){n?this.Ff=yi(this.Ff,27):this.Ff=bi(this.Ff,27)}}),this.hasAppearanceStream=!1};zo(Ku,ca);var Wu=function(){Ku.call(this),this.fontName="helvetica",this.combo=!1};zo(Wu,Ku);var Xu=function(){Wu.call(this),this.combo=!0};zo(Xu,Wu);var cd=function(){Xu.call(this),this.edit=!0};zo(cd,Xu);var Gi=function(){ca.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,15)},set:function(n){n?this.Ff=yi(this.Ff,15):this.Ff=bi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,16)},set:function(n){n?this.Ff=yi(this.Ff,16):this.Ff=bi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,17)},set:function(n){n?this.Ff=yi(this.Ff,17):this.Ff=bi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(n){n?this.Ff=yi(this.Ff,26):this.Ff=bi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var o,a=[];for(o in a.push("<<"),e)a.push("/"+o+" ("+Yl(n(e[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){xn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+wd(n)}})};zo(Gi,ca);var fd=function(){Gi.call(this),this.pushButton=!0};zo(fd,Gi);var Zu=function(){Gi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};zo(Zu,Gi);var Ad=function(){var t,e;ca.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),o)u.push("/"+s+" ("+Yl(a(o[s]))+")");return u.push(">>"),u.join(`
`)},set:function(a){xn(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zo(Ad,ca),Zu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Zu.prototype.createOption=function(t){var e=new Ad;return e.Parent=this,e.optionName=t,this.Kids.push(e),o6.call(this.scope,e),e};var dd=function(){Gi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};zo(dd,Gi);var ql=function(){ca.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,13)},set:function(e){e?this.Ff=yi(this.Ff,13):this.Ff=bi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,21)},set:function(e){e?this.Ff=yi(this.Ff,21):this.Ff=bi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(e){e?this.Ff=yi(this.Ff,23):this.Ff=bi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,24)},set:function(e){e?this.Ff=yi(this.Ff,24):this.Ff=bi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,25)},set:function(e){e?this.Ff=yi(this.Ff,25):this.Ff=bi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(e){e?this.Ff=yi(this.Ff,26):this.Ff=bi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zo(ql,ca);var hd=function(){ql.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,14)},set:function(t){t?this.Ff=yi(this.Ff,14):this.Ff=bi(this.Ff,14)}}),this.password=!0};zo(hd,ql);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=n0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ft(ot.internal.getWidth(t))+" "+Ft(ot.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+Ft(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ka(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],s=ot.internal.getHeight(t),u=ot.internal.getWidth(t),c=n0(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ft(u)+" "+Ft(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ft(u-1)+" "+Ft(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Ft(c.fontSize)+" Tf "+o),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(ot.internal.getWidth(t))+" "+Ft(ot.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Circle.YesNormal,e.D[t]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ka(t);e.scope=t.scope;var n=[],o=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=ot.internal.Bezier_C,s=Number((o*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$s(ot.internal.getWidth(t)/2)+" "+$s(ot.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[],o=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),s=Number((a*ot.internal.Bezier_C).toFixed(5)),u=Number((o*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$s(ot.internal.getWidth(t)/2)+" "+$s(ot.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$s(ot.internal.getWidth(t)/2)+" "+$s(ot.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+u+" "+u+" "+o+" 0 "+o+" c"),n.push("-"+u+" "+o+" -"+o+" "+u+" -"+o+" 0 c"),n.push("-"+o+" -"+u+" -"+u+" -"+o+" 0 -"+o+" c"),n.push(u+" -"+o+" "+o+" -"+u+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[],o=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),s=Number((a*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$s(ot.internal.getWidth(t)/2)+" "+$s(ot.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Cross.YesNormal,e.D[t]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ka(t);e.scope=t.scope;var n=[],o=ot.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ft(ot.internal.getWidth(t)-2)+" "+Ft(ot.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ft(o.x1.x)+" "+Ft(o.x1.y)+" m"),n.push(Ft(o.x2.x)+" "+Ft(o.x2.y)+" l"),n.push(Ft(o.x4.x)+" "+Ft(o.x4.y)+" m"),n.push(Ft(o.x3.x)+" "+Ft(o.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=ot.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+Ft(ot.internal.getWidth(t))+" "+Ft(ot.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+Ft(ot.internal.getWidth(t)-2)+" "+Ft(ot.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(Ft(n.x1.x)+" "+Ft(n.x1.y)+" m"),o.push(Ft(n.x2.x)+" "+Ft(n.x2.y)+" l"),o.push(Ft(n.x4.x)+" "+Ft(n.x4.y)+" m"),o.push(Ft(n.x3.x)+" "+Ft(n.x3.y)+" l"),o.push("s"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(ot.internal.getWidth(t))+" "+Ft(ot.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ot.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ot.internal.getWidth(t),n=ot.internal.getHeight(t),o=Math.min(e,n);return{x1:{x:(e-o)/2,y:(n-o)/2+o},x2:{x:(e-o)/2+o,y:(n-o)/2},x3:{x:(e-o)/2,y:(n-o)/2},x4:{x:(e-o)/2+o,y:(n-o)/2+o}}}},ot.internal.getWidth=function(t){var e=0;return xn(t)==="object"&&(e=Tv(t.Rect[2])),e},ot.internal.getHeight=function(t){var e=0;return xn(t)==="object"&&(e=Tv(t.Rect[3])),e};var o6=di.addField=function(t){if(i6(this,t),!(t instanceof ca))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};di.AcroFormChoiceField=Ku,di.AcroFormListBox=Wu,di.AcroFormComboBox=Xu,di.AcroFormEditBox=cd,di.AcroFormButton=Gi,di.AcroFormPushButton=fd,di.AcroFormRadioButton=Zu,di.AcroFormCheckBox=dd,di.AcroFormTextField=ql,di.AcroFormPasswordField=hd,di.AcroFormAppearance=ot,di.AcroForm={ChoiceField:Ku,ListBox:Wu,ComboBox:Xu,EditBox:cd,Button:Gi,PushButton:fd,RadioButton:Zu,CheckBox:dd,TextField:ql,PasswordField:hd,Appearance:ot},ft.AcroForm={ChoiceField:Ku,ListBox:Wu,ComboBox:Xu,EditBox:cd,Button:Gi,PushButton:fd,RadioButton:Zu,CheckBox:dd,TextField:ql,PasswordField:hd,Appearance:ot};ft.AcroForm;function I5(t){return t.reduce(function(e,n,o){return e[n]=o,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(U,Y){var se,oe,Ae,ne,ae,ue=n;if((Y=Y||n)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(ve(U))for(ae in o)for(Ae=o[ae],se=0;se<Ae.length;se+=1){for(ne=!0,oe=0;oe<Ae[se].length;oe+=1)if(Ae[se][oe]!==void 0&&Ae[se][oe]!==U[oe]){ne=!1;break}if(ne===!0){ue=ae;break}}else for(ae in o)for(Ae=o[ae],se=0;se<Ae.length;se+=1){for(ne=!0,oe=0;oe<Ae[se].length;oe+=1)if(Ae[se][oe]!==void 0&&Ae[se][oe]!==U.charCodeAt(oe)){ne=!1;break}if(ne===!0){ue=ae;break}}return ue===n&&Y!==n&&(ue=Y),ue},s=function U(Y){for(var se=this.internal.write,oe=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);Y.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:Y.width}),ne.push({key:"Height",value:Y.height}),Y.colorSpace===R.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Y.palette.length/3-1)+" "+("sMask"in Y&&Y.sMask!==void 0?Y.objectId+2:Y.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+Y.colorSpace}),Y.colorSpace===R.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:Y.bitsPerComponent}),"decodeParameters"in Y&&Y.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+Y.decodeParameters+">>"}),"transparency"in Y&&Array.isArray(Y.transparency)&&Y.transparency.length>0){for(var ae="",ue=0,we=Y.transparency.length;ue<we;ue++)ae+=Y.transparency[ue]+" "+Y.transparency[ue]+" ";ne.push({key:"Mask",value:"["+ae+"]"})}Y.sMask!==void 0&&ne.push({key:"SMask",value:Y.objectId+1+" 0 R"});var Oe=Y.filter!==void 0?["/"+Y.filter]:void 0;if(oe({data:Y.data,additionalKeyValues:ne,alreadyAppliedFilters:Oe,objectId:Y.objectId}),se("endobj"),"sMask"in Y&&Y.sMask!==void 0){var J,L=(J=Y.sMaskBitsPerComponent)!==null&&J!==void 0?J:Y.bitsPerComponent,z={width:Y.width,height:Y.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:Y.sMask};"filter"in Y&&(z.decodeParameters="/Predictor ".concat(Y.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(Y.width),z.filter=Y.filter),U.call(this,z)}if(Y.colorSpace===R.INDEXED){var K=this.internal.newObject();oe({data:re(new Uint8Array(Y.palette)),objectId:K}),se("endobj")}},u=function(){var U=this.internal.collections[e+"images"];for(var Y in U)s.call(this,U[Y])},c=function(){var U,Y=this.internal.collections[e+"images"],se=this.internal.write;for(var oe in Y)se("/I"+(U=Y[oe]).index,U.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var U=this.internal.collections[e+"images"];return h.call(this),U},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(U){return typeof t["process"+U.toUpperCase()]=="function"},A=function(U){return xn(U)==="object"&&U.nodeType===1},S=function(U,Y){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var se=""+U.getAttribute("src");if(se.indexOf("data:image/")===0)return ud(unescape(se).split("base64,").pop());var oe=t.loadFile(se,!0);if(oe!==void 0)return oe}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var Ae;switch(Y){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;default:Ae="image/jpeg"}return ud(U.toDataURL(Ae,1).split("base64,").pop())}},C=function(U){var Y=this.internal.collections[e+"images"];if(Y){for(var se in Y)if(U===Y[se].alias)return Y[se]}},I=function(U,Y,se){return U||Y||(U=-96,Y=-96),U<0&&(U=-1*se.width*72/U/this.internal.scaleFactor),Y<0&&(Y=-1*se.height*72/Y/this.internal.scaleFactor),U===0&&(U=Y*se.width/se.height),Y===0&&(Y=U*se.height/se.width),[U,Y]},M=function(U,Y,se,oe,Ae,ne){var ae=I.call(this,se,oe,Ae),ue=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,Oe=f.call(this);if(se=ae[0],oe=ae[1],Oe[Ae.index]=Ae,ne){ne*=Math.PI/180;var J=Math.cos(ne),L=Math.sin(ne),z=function(ie){return ie.toFixed(4)},K=[z(J),z(L),z(-1*L),z(J),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,ue(U),we(Y+oe),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ue(se),"0","0",ue(oe),"0","0","cm"].join(" "))):this.internal.write([ue(se),"0","0",ue(oe),ue(U),we(Y+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},R=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},q=t.__addimage__.sHashCode=function(U){var Y,se,oe=0;if(typeof U=="string")for(se=U.length,Y=0;Y<se;Y++)oe=(oe<<5)-oe+U.charCodeAt(Y),oe|=0;else if(ve(U))for(se=U.byteLength/2,Y=0;Y<se;Y++)oe=(oe<<5)-oe+U[Y],oe|=0;return oe},B=t.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var Y=!0;return U.length===0&&(Y=!1),U.length%4!=0&&(Y=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(Y=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(Y=!1),Y},X=t.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var Y=U.indexOf(",");return Y<0?null:U.substring(0,Y).trim().endsWith("base64")?U.substring(Y+1):null};t.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var ve=t.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},de=t.__addimage__.binaryStringToUint8Array=function(U){for(var Y=U.length,se=new Uint8Array(Y),oe=0;oe<Y;oe++)se[oe]=U.charCodeAt(oe);return se},re=t.__addimage__.arrayBufferToBinaryString=function(U){for(var Y="",se=ve(U)?U:new Uint8Array(U),oe=0;oe<se.length;oe+=8192)Y+=String.fromCharCode.apply(null,se.subarray(oe,oe+8192));return Y};t.addImage=function(){var U,Y,se,oe,Ae,ne,ae,ue,we;if(typeof arguments[1]=="number"?(Y=n,se=arguments[1],oe=arguments[2],Ae=arguments[3],ne=arguments[4],ae=arguments[5],ue=arguments[6],we=arguments[7]):(Y=arguments[1],se=arguments[2],oe=arguments[3],Ae=arguments[4],ne=arguments[5],ae=arguments[6],ue=arguments[7],we=arguments[8]),xn(U=arguments[0])==="object"&&!A(U)&&"imageData"in U){var Oe=U;U=Oe.imageData,Y=Oe.format||Y||n,se=Oe.x||se||0,oe=Oe.y||oe||0,Ae=Oe.w||Oe.width||Ae,ne=Oe.h||Oe.height||ne,ae=Oe.alias||ae,ue=Oe.compression||ue,we=Oe.rotation||Oe.angle||we}var J=this.internal.getFilters();if(ue===void 0&&J.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(se)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var L=G.call(this,U,Y,ae,ue);return M.call(this,se,oe,Ae,ne,L,we),this};var G=function(U,Y,se,oe){var Ae,ne,ae;if(typeof U=="string"&&a(U)===n){U=unescape(U);var ue=te(U,!1);(ue!==""||(ue=t.loadFile(U,!0))!==void 0)&&(U=ue)}if(A(U)&&(U=S(U,Y)),Y=a(U,Y),!_(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(((ae=se)==null||ae.length===0)&&(se=(function(we){return typeof we=="string"||ve(we)?q(we):ve(we.data)?q(we.data):null})(U)),(Ae=C.call(this,se))||(U instanceof Uint8Array||Y==="RGBA"||(ne=U,U=de(U)),Ae=this["process"+Y.toUpperCase()](U,g.call(this),se,(function(we){return we&&typeof we=="string"&&(we=we.toUpperCase()),we in t.image_compression?we:j.NONE})(oe),ne)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},te=t.__addimage__.convertBase64ToBinaryString=function(U,Y){Y=typeof Y!="boolean"||Y;var se,oe="";if(typeof U=="string"){var Ae;se=(Ae=X(U))!==null&&Ae!==void 0?Ae:U;try{oe=ud(se)}catch(ne){if(Y)throw B(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(U){var Y,se,oe="";if(A(U)&&(U=S(U)),typeof U=="string"&&a(U)===n&&((oe=te(U,!1))===""&&(oe=t.loadFile(U)||""),U=oe),se=a(U),!_(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(U instanceof Uint8Array||(U=de(U)),!(Y=this["process"+se.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return Y.fileType=se,Y}})(ft.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var o,a,s,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,g=!1,_=0;_<f.length&&!g;_++)switch((o=f[_]).type){case"link":(e(o.options.url)||e(o.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<f.length;A++){o=f[A];var S=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(I.objId),j=o.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(o.bounds.x)+" "+c(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w)+" "+c(o.bounds.y)+"] ")+"/Contents ("+S(R(o.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+S(R(j))+") >>",I.content=s;var q=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(o.bounds.x+30)+" "+c(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w+30)+" "+c(o.bounds.y)+"] ")+" /Parent "+q,o.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(I.objId,"0 R",M.objId,"0 R");break;case"freetext":a="/Rect ["+u(o.bounds.x)+" "+c(o.bounds.y)+" "+u(o.bounds.x+o.bounds.w)+" "+c(o.bounds.y+o.bounds.h)+"] ";var B=o.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+S(C(o.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(o.options.name){var X=this.annotations._nameMap[o.options.name];o.options.pageNumber=X.page,o.options.top=X.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",s="",o.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+S(C(o.options.url))+") >>";else if(o.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,s+=" /FitV "+o.options.left+"]";break;default:var ve=c(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),s+=" /XYZ "+o.options.left+" "+ve+" "+o.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var o=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":o.pageContext.annotations.push(n)}},t.link=function(n,o,a,s,u){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(n),y:f(o),w:h(n+a),h:f(o+s)},options:u,type:"link"})},t.textWithLink=function(n,o,a,s){var u,c,h=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var g=this.splitTextToSize(n,c).length;u=Math.ceil(f*g)}else c=h,u=f;return this.text(n,o,a,s),a+=.2*f,s.align==="center"&&(o-=h/2),s.align==="right"&&(o-=h),this.link(o,a-f,c,u,s),h},t.getTextWidth=function(n){var o=this.internal.getFontSize();return this.getStringUnitWidth(n)*o/this.internal.scaleFactor}})(ft.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},c=t.__arabicParser__.isArabicEndLetter=function(I){return u(I)&&s(I)&&e[I.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(I){return u(I)&&a.indexOf(I.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return u(I)&&s(I)&&e[I.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(I){return u(I)&&s(I)&&e[I.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(I){return u(I)&&s(I)&&e[I.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(I){return u(I)&&s(I)&&e[I.charCodeAt(0)].length==4},_=t.__arabicParser__.resolveLigatures=function(I){var M=0,R=n,j="",q=0;for(M=0;M<I.length;M+=1)R[I.charCodeAt(M)]!==void 0?(q++,typeof(R=R[I.charCodeAt(M)])=="number"&&(j+=String.fromCharCode(R),R=n,q=0),M===I.length-1&&(R=n,j+=I.charAt(M-(q-1)),M-=q-1,q=0)):(R=n,j+=I.charAt(M-q),M-=q,q=0);return j};t.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&o[I.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(I,M,R){return u(I)?s(I)===!1?-1:!f(I)||!u(M)&&!u(R)||!u(R)&&c(M)||c(I)&&!u(M)||c(I)&&h(M)||c(I)&&c(M)?0:g(I)&&u(M)&&!c(M)&&u(R)&&f(R)?3:c(I)||!u(R)?1:2:-1},S=function(I){var M=0,R=0,j=0,q="",B="",X="",ve=(I=I||"").split("\\s+"),de=[];for(M=0;M<ve.length;M+=1){for(de.push(""),R=0;R<ve[M].length;R+=1)q=ve[M][R],B=ve[M][R-1],X=ve[M][R+1],u(q)?(j=A(q,B,X),de[M]+=j!==-1?String.fromCharCode(e[q.charCodeAt(0)][j]):q):de[M]+=q;de[M]=_(de[M])}return de.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var I,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(M)){var j=0;for(R=[],j=0;j<M.length;j+=1)Array.isArray(M[j])?R.push([S(M[j][0]),M[j][1],M[j][2]]):R.push([S(M[j])]);I=R}else I=S(M);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};t.events.push(["preProcessText",C])})(ft.API),ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(c){o=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,o){var a;if((n=n||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ft.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(I){h=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(I){S=I}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(I){C=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return o.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){o.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),_=f.font||this.getFont(),A=f.scaleFactor||this.internal.scaleFactor,S=0,C=0,I=0,M=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var R=f.maxWidth;R>0?typeof h=="string"?h=this.splitTextToSize(h,R):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(q,B){return q.concat(M.splitTextToSize(B,R))},[])):h=Array.isArray(h)?h:[h];for(var j=0;j<h.length;j++)S<(I=this.getStringUnitWidth(h[j],{font:_})*g)&&(S=I);return S!==0&&(C=h.length),{w:S/=A,h:Math.max((C*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),o.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=_.top,S&&A&&(this.printHeaderRow(h.lineNumber,!0),h.y+=A[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,g,_,A){if(o.call(this),!g)throw new Error("No data for PDF table.");var S,C,I,M,R=[],j=[],q=[],B={},X={},ve=[],de=[],re=(A=A||{}).autoSize||!1,G=A.printHeaders!==!1,te=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,U=A.margins||Object.assign({width:this.getPageWidth()},e),Y=typeof A.padding=="number"?A.padding:3,se=A.headerBackgroundColor||"#c8c8c8",oe=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=G,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=Y,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=oe,this.setFontSize(te),_==null)j=R=Object.keys(g[0]),q=R.map(function(){return"left"});else if(Array.isArray(_)&&xn(_[0])==="object")for(R=_.map(function(Oe){return Oe.name}),j=_.map(function(Oe){return Oe.prompt||Oe.name||""}),q=_.map(function(Oe){return Oe.align||"left"}),S=0;S<_.length;S+=1)X[_[S].name]=.7499990551181103*_[S].width;else Array.isArray(_)&&typeof _[0]=="string"&&(j=R=_,q=R.map(function(){return"left"}));if(re||Array.isArray(_)&&typeof _[0]=="string")for(S=0;S<R.length;S+=1){for(B[M=R[S]]=g.map(function(Oe){return Oe[M]}),this.setFont(void 0,"bold"),ve.push(this.getTextDimensions(j[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=B[M],this.setFont(void 0,"normal"),I=0;I<C.length;I+=1)ve.push(this.getTextDimensions(C[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[M]=Math.max.apply(null,ve)+Y+Y,ve=[]}if(G){var Ae={};for(S=0;S<R.length;S+=1)Ae[R[S]]={},Ae[R[S]].text=j[S],Ae[R[S]].align=q[S];var ne=c.call(this,Ae,X);de=R.map(function(Oe){return new s(h,f,X[Oe],ne,Ae[Oe].text,void 0,Ae[Oe].align)}),this.setTableHeaderRow(de),this.printHeaderRow(1,!1)}var ae=_.reduce(function(Oe,J){return Oe[J.name]=J.align,Oe},{});for(S=0;S<g.length;S+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:S,data:g[S]},this);var ue=c.call(this,g[S],X);for(I=0;I<R.length;I+=1){var we=g[S][R[I]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:S,col:I,data:we},this),u.call(this,new s(h,f,X[R[I]],ue,we,S+2,ae[R[I]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var c=function(h,f){var g=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(h).map(function(S){var C=h[S];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,f[S]-g-g)},this).map(function(S){return this.getLineHeightFactor()*S.length*_/A+g+g},this).reduce(function(S,C){return Math.max(S,C)},0)};t.setTableHeaderRow=function(h){o.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){g=this.internal.__cell__.tableHeaderRow[S].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=h;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(C)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}})(ft.API);var k5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},D5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i0=I5(D5),P5=[100,200,300,400,500,600,700,800,900],r6=I5(P5);function wp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return k5[s=s||"normal"]?s:"normal"})(t.style),o=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),a=(function(s){return typeof i0[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,n,o].join(" ")}}}function Nv(t,e,n,o){var a;for(a=n;a>=0&&a<e.length;a+=o)if(t[e[a]])return t[e[a]];for(a=n;a>=0&&a<e.length;a-=o)if(t[e[a]])return t[e[a]]}var a6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Rv(t){return t.trimLeft()}function s6(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function l6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Fu,rd,Mv,Iv,kv,Ap=["times"];function Dv(t,e,n,o,a){var s=4,u=Uv;switch(a){case ft.API.image_compression.FAST:s=1,u=Pv;break;case ft.API.image_compression.MEDIUM:s=6,u=Ov;break;case ft.API.image_compression.SLOW:s=9,u=Fv}t=(function(h,f,g,_){for(var A,S=h.length/f,C=new Uint8Array(h.length+S),I=[u6,Pv,Uv,Ov,Fv],M=0;M<S;M+=1){var R=M*f,j=h.subarray(R,R+f);if(_)C.set(_(j,g,A),R+M);else{for(var q=I.length,B=[],X=0;X<q;X+=1)B[X]=I[X](j,g,A);var ve=f6(B.concat());C.set(B[ve],R+M)}A=j}return C})(t,e,Math.ceil(n*o/8),u);var c=Xp(t,{level:s});return ft.API.__addimage__.arrayBufferToBinaryString(c)}function u6(t){var e=Array.apply([],t);return e.unshift(0),e}function Pv(t,e){var n=t.length,o=[];o[0]=1;for(var a=0;a<n;a+=1){var s=t[a-e]||0;o[a+1]=t[a]-s+256&255}return o}function Uv(t,e,n){var o=t.length,a=[];a[0]=2;for(var s=0;s<o;s+=1){var u=n&&n[s]||0;a[s+1]=t[s]-u+256&255}return a}function Ov(t,e,n){var o=t.length,a=[];a[0]=3;for(var s=0;s<o;s+=1){var u=t[s-e]||0,c=n&&n[s]||0;a[s+1]=t[s]+256-(u+c>>>1)&255}return a}function Fv(t,e,n){var o=t.length,a=[];a[0]=4;for(var s=0;s<o;s+=1){var u=c6(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);a[s+1]=t[s]-u+256&255}return a}function c6(t,e,n){if(t===e&&e===n)return t;var o=Math.abs(e-n),a=Math.abs(t-n),s=Math.abs(t+e-n-n);return o<=a&&o<=s?t:a<=s?e:n}function f6(t){var e=t.map(function(n){return n.reduce(function(o,a){return o+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function xp(t,e,n){var o=e*n,a=Math.floor(o/8),s=16-(o-8*a+n),u=(1<<n)-1;return U5(t,a)>>s&u}function Bv(t,e,n,o){var a=n*o,s=Math.floor(a/8),u=16-(a-8*s+o),c=(1<<o)-1,h=(e&c)<<u;(function(f,g,_){if(g+1<f.byteLength)f.setUint16(g,_,!1);else{var A=_>>8&255;f.setUint8(g,A)}})(t,s,U5(t,s)&~(c<<u)&65535|h)}function U5(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function d6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,o=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,u=1<<1+(7&a);t[e++],t[e++];var c=null,h=null;s&&(c=e,h=u,e+=3*u);var f=!0,g=[],_=0,A=null,S=0,C=null;for(this.width=n,this.height=o;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=t[e++];_=t[e++]|t[e++]<<8,A=t[e++],1&I||(A=null),S=I>>2&7,e++;break;case 254:for(;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var M=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,q=t[e++]|t[e++]<<8,B=t[e++],X=B>>6&1,ve=1<<1+(7&B),de=c,re=h,G=!1;B>>7&&(G=!0,de=e,re=ve,e+=3*ve);var te=e;for(e++;;){var U;if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}g.push({x:M,y:R,width:j,height:q,has_local_palette:G,palette_offset:de,palette_size:re,data_offset:te,data_length:e-te,transparent_index:A,interlaced:!!X,delay:_,disposal:S});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return C},this.frameInfo=function(Y){if(Y<0||Y>=g.length)throw new Error("Frame index out of range.");return g[Y]},this.decodeAndBlitFrameBGRA=function(Y,se){var oe=this.frameInfo(Y),Ae=oe.width*oe.height,ne=new Uint8Array(Ae);qv(t,oe.data_offset,ne,Ae);var ae=oe.palette_offset,ue=oe.transparent_index;ue===null&&(ue=256);var we=oe.width,Oe=n-we,J=we,L=4*(oe.y*n+oe.x),z=4*((oe.y+oe.height)*n+oe.x),K=L,ie=4*Oe;oe.interlaced===!0&&(ie+=4*n*7);for(var ce=8,me=0,Le=ne.length;me<Le;++me){var Ne=ne[me];if(J===0&&(J=we,(K+=ie)>=z&&(ie=4*Oe+4*n*(ce-1),K=L+(we+Oe)*(ce<<1),ce>>=1)),Ne===ue)K+=4;else{var Ue=t[ae+3*Ne],Ve=t[ae+3*Ne+1],Ke=t[ae+3*Ne+2];se[K++]=Ke,se[K++]=Ve,se[K++]=Ue,se[K++]=255}--J}},this.decodeAndBlitFrameRGBA=function(Y,se){var oe=this.frameInfo(Y),Ae=oe.width*oe.height,ne=new Uint8Array(Ae);qv(t,oe.data_offset,ne,Ae);var ae=oe.palette_offset,ue=oe.transparent_index;ue===null&&(ue=256);var we=oe.width,Oe=n-we,J=we,L=4*(oe.y*n+oe.x),z=4*((oe.y+oe.height)*n+oe.x),K=L,ie=4*Oe;oe.interlaced===!0&&(ie+=4*n*7);for(var ce=8,me=0,Le=ne.length;me<Le;++me){var Ne=ne[me];if(J===0&&(J=we,(K+=ie)>=z&&(ie=4*Oe+4*n*(ce-1),K=L+(we+Oe)*(ce<<1),ce>>=1)),Ne===ue)K+=4;else{var Ue=t[ae+3*Ne],Ve=t[ae+3*Ne+1],Ke=t[ae+3*Ne+2];se[K++]=Ue,se[K++]=Ve,se[K++]=Ke,se[K++]=255}--J}}}function qv(t,e,n,o){for(var a=t[e++],s=1<<a,u=s+1,c=u+1,h=a+1,f=(1<<h)-1,g=0,_=0,A=0,S=t[e++],C=new Int32Array(4096),I=null;;){for(;g<16&&S!==0;)_|=t[e++]<<g,g+=8,S===1?S=t[e++]:--S;if(g<h)break;var M=_&f;if(_>>=h,g-=h,M!==s){if(M===u)break;for(var R=M<c?M:I,j=0,q=R;q>s;)q=C[q]>>8,++j;var B=q;if(A+j+(R!==M?1:0)>o)return void Pn.log("Warning, gif stream longer than expected.");n[A++]=B;var X=A+=j;for(R!==M&&(n[A++]=B),q=R;j--;)q=C[q],n[--X]=255&q,q>>=8;I!==null&&c<4096&&(C[c++]=I<<8|B,c>=f+1&&h<12&&(++h,f=f<<1|1)),I=M}else c=u+1,f=(1<<(h=a+1))-1,I=null}return A!==o&&Pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ep(t){var e,n,o,a,s,u=Math.floor,c=new Array(64),h=new Array(64),f=new Array(64),g=new Array(64),_=new Array(65535),A=new Array(65535),S=new Array(64),C=new Array(64),I=[],M=0,R=7,j=new Array(64),q=new Array(64),B=new Array(64),X=new Array(256),ve=new Array(2048),de=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],re=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(L,z){for(var K=0,ie=0,ce=new Array,me=1;me<=16;me++){for(var Le=1;Le<=L[me];Le++)ce[z[ie]]=[],ce[z[ie]][0]=K,ce[z[ie]][1]=me,ie++,K++;K*=2}return ce}function ae(L){for(var z=L[0],K=L[1]-1;K>=0;)z&1<<K&&(M|=1<<R),K--,--R<0&&(M==255?(ue(255),ue(0)):ue(M),R=7,M=0)}function ue(L){I.push(L)}function we(L){ue(L>>8&255),ue(255&L)}function Oe(L,z,K,ie,ce){for(var me,Le=ce[0],Ne=ce[240],Ue=(function(ze,gt){var $e,St,dt,Dt,Jt,Mt,jt,zt,at,It,ut=0;for(at=0;at<8;++at){$e=ze[ut],St=ze[ut+1],dt=ze[ut+2],Dt=ze[ut+3],Jt=ze[ut+4],Mt=ze[ut+5],jt=ze[ut+6];var Xn=$e+(zt=ze[ut+7]),Yt=$e-zt,_t=St+jt,Nt=St-jt,Kt=dt+Mt,mt=dt-Mt,En=Dt+Jt,xt=Dt-Jt,Ct=Xn+En,yn=Xn-En,Bt=_t+Kt,ct=_t-Kt;ze[ut]=Ct+Bt,ze[ut+4]=Ct-Bt;var tn=.707106781*(ct+yn);ze[ut+2]=yn+tn,ze[ut+6]=yn-tn;var Go=.382683433*((Ct=xt+mt)-(ct=Nt+Yt)),Pi=.5411961*Ct+Go,ur=1.306562965*ct+Go,Ao=.707106781*(Bt=mt+Nt),ht=Yt+Ao,Mr=Yt-Ao;ze[ut+5]=Mr+Pi,ze[ut+3]=Mr-Pi,ze[ut+1]=ht+ur,ze[ut+7]=ht-ur,ut+=8}for(ut=0,at=0;at<8;++at){$e=ze[ut],St=ze[ut+8],dt=ze[ut+16],Dt=ze[ut+24],Jt=ze[ut+32],Mt=ze[ut+40],jt=ze[ut+48];var cr=$e+(zt=ze[ut+56]),uo=$e-zt,co=St+jt,Un=St-jt,ii=dt+Mt,Si=dt-Mt,da=Dt+Jt,Yi=Dt-Jt,bn=cr+da,On=cr-da,Ui=co+ii,fo=co-ii;ze[ut]=bn+Ui,ze[ut+32]=bn-Ui;var xo=.707106781*(fo+On);ze[ut+16]=On+xo,ze[ut+48]=On-xo;var Ua=.382683433*((bn=Yi+Si)-(fo=Un+uo)),Vo=.5411961*bn+Ua,Yo=1.306562965*fo+Ua,ha=.707106781*(Ui=Si+Un),Jo=uo+ha,jo=uo-ha;ze[ut+40]=jo+Vo,ze[ut+24]=jo-Vo,ze[ut+8]=Jo+Yo,ze[ut+56]=Jo-Yo,ut++}for(at=0;at<64;++at)It=ze[at]*gt[at],S[at]=It>0?It+.5|0:It-.5|0;return S})(L,z),Ve=0;Ve<64;++Ve)C[de[Ve]]=Ue[Ve];var Ke=C[0]-K;K=C[0],Ke==0?ae(ie[0]):(ae(ie[A[me=32767+Ke]]),ae(_[me]));for(var We=63;We>0&&C[We]==0;)We--;if(We==0)return ae(Le),K;for(var rt,W=1;W<=We;){for(var je=W;C[W]==0&&W<=We;)++W;var Ht=W-je;if(Ht>=16){rt=Ht>>4;for(var bt=1;bt<=rt;++bt)ae(Ne);Ht&=15}me=32767+C[W],ae(ce[(Ht<<4)+A[me]]),ae(_[me]),W++}return We!=63&&ae(Le),K}function J(L){L=Math.min(Math.max(L,1),100),s!=L&&((function(z){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ce=u((K[ie]*z+50)/100);ce=Math.min(Math.max(ce,1),255),c[de[ie]]=ce}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Le=0;Le<64;Le++){var Ne=u((me[Le]*z+50)/100);Ne=Math.min(Math.max(Ne,1),255),h[de[Le]]=Ne}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Ke=0;Ke<8;Ke++)for(var We=0;We<8;We++)f[Ve]=1/(c[de[Ve]]*Ue[Ke]*Ue[We]*8),g[Ve]=1/(h[de[Ve]]*Ue[Ke]*Ue[We]*8),Ve++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,z){z&&J(z),I=new Array,M=0,R=7,we(65496),we(65504),we(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),we(1),we(1),ue(0),ue(0),(function(){we(65499),we(132),ue(0);for(var St=0;St<64;St++)ue(c[St]);ue(1);for(var dt=0;dt<64;dt++)ue(h[dt])})(),(function(St,dt){we(65472),we(17),ue(8),we(dt),we(St),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(L.width,L.height),(function(){we(65476),we(418),ue(0);for(var St=0;St<16;St++)ue(re[St+1]);for(var dt=0;dt<=11;dt++)ue(G[dt]);ue(16);for(var Dt=0;Dt<16;Dt++)ue(te[Dt+1]);for(var Jt=0;Jt<=161;Jt++)ue(U[Jt]);ue(1);for(var Mt=0;Mt<16;Mt++)ue(Y[Mt+1]);for(var jt=0;jt<=11;jt++)ue(se[jt]);ue(17);for(var zt=0;zt<16;zt++)ue(oe[zt+1]);for(var at=0;at<=161;at++)ue(Ae[at])})(),we(65498),we(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var K=0,ie=0,ce=0;M=0,R=7,this.encode.displayName="_encode_";for(var me,Le,Ne,Ue,Ve,Ke,We,rt,W,je=L.data,Ht=L.width,bt=L.height,ze=4*Ht,gt=0;gt<bt;){for(me=0;me<ze;){for(Ve=ze*gt+me,We=-1,rt=0,W=0;W<64;W++)Ke=Ve+(rt=W>>3)*ze+(We=4*(7&W)),gt+rt>=bt&&(Ke-=ze*(gt+1+rt-bt)),me+We>=ze&&(Ke-=me+We-ze+4),Le=je[Ke++],Ne=je[Ke++],Ue=je[Ke++],j[W]=(ve[Le]+ve[Ne+256|0]+ve[Ue+512|0]>>16)-128,q[W]=(ve[Le+768|0]+ve[Ne+1024|0]+ve[Ue+1280|0]>>16)-128,B[W]=(ve[Le+1280|0]+ve[Ne+1536|0]+ve[Ue+1792|0]>>16)-128;K=Oe(j,f,K,e,o),ie=Oe(q,g,ie,n,a),ce=Oe(B,g,ce,n,a),me+=32}gt+=8}if(R>=0){var $e=[];$e[1]=R+1,$e[0]=(1<<R+1)-1,ae($e)}return we(65497),new Uint8Array(I)},t=t||50,(function(){for(var L=String.fromCharCode,z=0;z<256;z++)X[z]=L(z)})(),e=ne(re,G),n=ne(Y,se),o=ne(te,U),a=ne(oe,Ae),(function(){for(var L=1,z=2,K=1;K<=15;K++){for(var ie=L;ie<z;ie++)A[32767+ie]=K,_[32767+ie]=[],_[32767+ie][1]=K,_[32767+ie][0]=ie;for(var ce=-(z-1);ce<=-L;ce++)A[32767+ce]=K,_[32767+ce]=[],_[32767+ce][1]=K,_[32767+ce][0]=z-1+ce;L<<=1,z<<=1}})(),(function(){for(var L=0;L<256;L++)ve[L]=19595*L,ve[L+256|0]=38470*L,ve[L+512|0]=7471*L+32768,ve[L+768|0]=-11059*L,ve[L+1024|0]=-21709*L,ve[L+1280|0]=32768*L+8421375,ve[L+1536|0]=-27439*L,ve[L+1792|0]=-5329*L})(),J(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ra(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hv(t){function e(G){if(!G)throw Error("assert :P")}function n(G,te,U){for(var Y=0;4>Y;Y++)if(G[te+Y]!=U.charCodeAt(Y))return!0;return!1}function o(G,te,U,Y,se){for(var oe=0;oe<se;oe++)G[te+oe]=U[Y+oe]}function a(G,te,U,Y){for(var se=0;se<Y;se++)G[te+se]=U}function s(G){return new Int32Array(G)}function u(G,te){for(var U=[],Y=0;Y<G;Y++)U.push(new te);return U}function c(G,te){var U=[];return(function Y(se,oe,Ae){for(var ne=Ae[oe],ae=0;ae<ne&&(se.push(Ae.length>oe+1?[]:new te),!(Ae.length<oe+1));ae++)Y(se[ae],oe+1,Ae)})(U,0,G),U}var h=function(){var G=this;function te(m,b){for(var E=1<<b-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function U(m,b,E,T,D){e(!(T%E));do m[b+(T-=E)]=D;while(0<T)}function Y(m,b,E,T,D){if(e(2328>=D),512>=D)var P=s(512);else if((P=s(D))==null)return 0;return(function(O,H,V,Q,he,xe){var Z,ge,Se=H,Ie=1<<V,_e=s(16),Me=s(16);for(e(he!=0),e(Q!=null),e(O!=null),e(0<V),ge=0;ge<he;++ge){if(15<Q[ge])return 0;++_e[Q[ge]]}if(_e[0]==he)return 0;for(Me[1]=0,Z=1;15>Z;++Z){if(_e[Z]>1<<Z)return 0;Me[Z+1]=Me[Z]+_e[Z]}for(ge=0;ge<he;++ge)Z=Q[ge],0<Q[ge]&&(xe[Me[Z]++]=ge);if(Me[15]==1)return(Q=new se).g=0,Q.value=xe[0],U(O,Se,1,Ie,Q),Ie;var Pe,Ge=-1,qe=Ie-1,it=0,Ze=1,Lt=1,et=1<<V;for(ge=0,Z=1,he=2;Z<=V;++Z,he<<=1){if(Ze+=Lt<<=1,0>(Lt-=_e[Z]))return 0;for(;0<_e[Z];--_e[Z])(Q=new se).g=Z,Q.value=xe[ge++],U(O,Se+it,he,et,Q),it=te(it,Z)}for(Z=V+1,he=2;15>=Z;++Z,he<<=1){if(Ze+=Lt<<=1,0>(Lt-=_e[Z]))return 0;for(;0<_e[Z];--_e[Z]){if(Q=new se,(it&qe)!=Ge){for(Se+=et,Pe=1<<(Ge=Z)-V;15>Ge&&!(0>=(Pe-=_e[Ge]));)++Ge,Pe<<=1;Ie+=et=1<<(Pe=Ge-V),O[H+(Ge=it&qe)].g=Pe+V,O[H+Ge].value=Se-H-Ge}Q.g=Z-V,Q.value=xe[ge++],U(O,Se+(it>>V),he,et,Q),it=te(it,Z)}}return Ze!=2*Me[15]-1?0:Ie})(m,b,E,T,D,P)}function se(){this.value=this.g=0}function oe(){this.value=this.g=0}function Ae(){this.G=u(5,se),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(ya,oe)}function ne(m,b,E,T){e(m!=null),e(b!=null),e(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=E,m.Jd=b,m.Yc=E+T,m.Zc=4<=T?E+T-4+1:E,Le(m)}function ae(m,b){for(var E=0;0<b--;)E|=Ue(m,128)<<b;return E}function ue(m,b){var E=ae(m,b);return Ne(m)?-E:E}function we(m,b,E,T){var D,P=0;for(e(m!=null),e(b!=null),e(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),D=0;D<T;++D)P+=b[E+D]<<8*D;m.Ra=P,m.bb=T,m.oa=b,m.pa=E}function Oe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<vr-8>>>0,++m.bb,m.u-=8;ie(m)&&(m.h=1,m.u=0)}function J(m,b){if(e(0<=b),!m.h&&b<=Wi){var E=K(m)&to[b];return m.u+=b,Oe(m),E}return m.h=1,m.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(m){return m.Ra>>>(m.u&vr-1)>>>0}function ie(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>vr}function ce(m,b){m.u=b,m.h=ie(m)}function me(m){m.u>=yr&&(e(m.u>=yr),Oe(m))}function Le(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ne(m){return ae(m,1)}function Ue(m,b){var E=m.Ca;0>m.b&&Le(m);var T=m.b,D=E*b>>>8,P=(m.I>>>T>D)+0;for(P?(E-=D,m.I-=D+1<<T>>>0):E=D+1,T=E,D=0;256<=T;)D+=8,T>>=8;return T=7^D+Jr[T],m.b-=T,m.Ca=(E<<T)-1,P}function Ve(m,b,E){m[b+0]=E>>24&255,m[b+1]=E>>16&255,m[b+2]=E>>8&255,m[b+3]=255&E}function Ke(m,b){return m[b+0]|m[b+1]<<8}function We(m,b){return Ke(m,b)|m[b+2]<<16}function rt(m,b){return Ke(m,b)|Ke(m,b+2)<<16}function W(m,b){var E=1<<b;return e(m!=null),e(0<b),m.X=s(E),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function je(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),o(b.X,0,m.X,0,1<<b.Xa)}function Ht(){this.X=[],this.Xa=this.Mb=0}function bt(m,b,E,T){e(E!=null),e(T!=null);var D=E[0],P=T[0];return D==0&&(D=(m*P+b/2)/b),P==0&&(P=(b*D+m/2)/m),0>=D||0>=P?0:(E[0]=D,T[0]=P,1)}function ze(m,b){return m+(1<<b)-1>>>b}function gt(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function $e(m,b){G[b]=function(E,T,D,P,O,H,V){var Q;for(Q=0;Q<O;++Q){var he=G[m](H[V+Q-1],D,P+Q);H[V+Q]=gt(E[T+Q],he)}}}function St(){this.ud=this.hd=this.jd=0}function dt(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Dt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Jt(m,b){return Dt(m+(m-b+.5>>1))}function Mt(m,b,E){return Math.abs(b-E)-Math.abs(m-E)}function jt(m,b,E,T,D,P,O){for(T=P[O-1],E=0;E<D;++E)P[O+E]=T=gt(m[b+E],T)}function zt(m,b,E,T,D){var P;for(P=0;P<E;++P){var O=m[b+P],H=O>>8&255,V=16711935&(V=(V=16711935&O)+((H<<16)+H));T[D+P]=(4278255360&O)+V>>>0}}function at(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function It(m,b,E,T,D,P){var O;for(O=0;O<T;++O){var H=b[E+O],V=H>>>8,Q=H,he=255&(he=(he=H>>>16)+((m.jd<<24>>24)*(V<<24>>24)>>>5));Q=255&(Q=(Q+=(m.hd<<24>>24)*(V<<24>>24)>>>5)+((m.ud<<24>>24)*(he<<24>>24)>>>5)),D[P+O]=(4278255360&H)+(he<<16)+Q}}function ut(m,b,E,T,D){G[b]=function(P,O,H,V,Q,he,xe,Z,ge){for(V=xe;V<Z;++V)for(xe=0;xe<ge;++xe)Q[he++]=D(H[T(P[O++])])},G[m]=function(P,O,H,V,Q,he,xe){var Z=8>>P.b,ge=P.Ea,Se=P.K[0],Ie=P.w;if(8>Z)for(P=(1<<P.b)-1,Ie=(1<<Z)-1;O<H;++O){var _e,Me=0;for(_e=0;_e<ge;++_e)_e&P||(Me=T(V[Q++])),he[xe++]=D(Se[Me&Ie]),Me>>=Z}else G["VP8LMapColor"+E](V,Q,Se,Ie,he,xe,O,H,ge)}}function Xn(m,b,E,T,D){for(E=b+E;b<E;){var P=m[b++];T[D++]=P>>16&255,T[D++]=P>>8&255,T[D++]=255&P}}function Yt(m,b,E,T,D){for(E=b+E;b<E;){var P=m[b++];T[D++]=P>>16&255,T[D++]=P>>8&255,T[D++]=255&P,T[D++]=P>>24&255}}function _t(m,b,E,T,D){for(E=b+E;b<E;){var P=(O=m[b++])>>16&240|O>>12&15,O=240&O|O>>28&15;T[D++]=P,T[D++]=O}}function Nt(m,b,E,T,D){for(E=b+E;b<E;){var P=(O=m[b++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;T[D++]=P,T[D++]=O}}function Kt(m,b,E,T,D){for(E=b+E;b<E;){var P=m[b++];T[D++]=255&P,T[D++]=P>>8&255,T[D++]=P>>16&255}}function mt(m,b,E,T,D,P){if(P==0)for(E=b+E;b<E;)Ve(T,((P=m[b++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),D+=32;else o(T,D,m,b,E)}function En(m,b){G[b][0]=G[m+"0"],G[b][1]=G[m+"1"],G[b][2]=G[m+"2"],G[b][3]=G[m+"3"],G[b][4]=G[m+"4"],G[b][5]=G[m+"5"],G[b][6]=G[m+"6"],G[b][7]=G[m+"7"],G[b][8]=G[m+"8"],G[b][9]=G[m+"9"],G[b][10]=G[m+"10"],G[b][11]=G[m+"11"],G[b][12]=G[m+"12"],G[b][13]=G[m+"13"],G[b][14]=G[m+"0"],G[b][15]=G[m+"0"]}function xt(m){return m==Cl||m==su||m==Rs||m==lu}function Ct(){this.eb=[],this.size=this.A=this.fb=0}function yn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ct,this.f.kb=new yn,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Go(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Pi(m,b){var E=m.T,T=b.ba.f.RGBA,D=T.eb,P=T.fb+m.ka*T.A,O=Mi[b.ba.S],H=m.y,V=m.O,Q=m.f,he=m.N,xe=m.ea,Z=m.W,ge=b.cc,Se=b.dc,Ie=b.Mc,_e=b.Nc,Me=m.ka,Pe=m.ka+m.T,Ge=m.U,qe=Ge+1>>1;for(Me==0?O(H,V,null,null,Q,he,xe,Z,Q,he,xe,Z,D,P,null,null,Ge):(O(b.ec,b.fc,H,V,ge,Se,Ie,_e,Q,he,xe,Z,D,P-T.A,D,P,Ge),++E);Me+2<Pe;Me+=2)ge=Q,Se=he,Ie=xe,_e=Z,he+=m.Rc,Z+=m.Rc,P+=2*T.A,O(H,(V+=2*m.fa)-m.fa,H,V,ge,Se,Ie,_e,Q,he,xe,Z,D,P-T.A,D,P,Ge);return V+=m.fa,m.j+Pe<m.o?(o(b.ec,b.fc,H,V,Ge),o(b.cc,b.dc,Q,he,qe),o(b.Mc,b.Nc,xe,Z,qe),E--):1&Pe||O(H,V,null,null,Q,he,xe,Z,Q,he,xe,Z,D,P+T.A,null,null,Ge),E}function ur(m,b,E){var T=m.F,D=[m.J];if(T!=null){var P=m.U,O=b.ba.S,H=O==Nl||O==Rs;b=b.ba.f.RGBA;var V=[0],Q=m.ka;V[0]=m.T,m.Kb&&(Q==0?--V[0]:(--Q,D[0]-=m.width),m.j+m.ka+m.T==m.o&&(V[0]=m.o-m.j-Q));var he=b.eb;Q=b.fb+Q*b.A,m=Al(T,D[0],m.width,P,V,he,Q+(H?0:3),b.A),e(E==V),m&&xt(O)&&ja(he,Q,H,P,V,b.A)}return 0}function Ao(m){var b=m.ma,E=b.ba.S,T=11>E,D=E==Bi||E==Lo||E==Nl||E==Ls||E==12||xt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Yr(b.Oa,m,D?11:12))return 0;if(D&&xt(E)&&bl(),m.da)alert("todo:use_scaling");else{if(T){if(b.Ib=Go,m.Kb){if(E=m.U+1>>1,b.memory=s(m.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Pi,bl()}}else alert("todo:EmitYUV");D&&(b.Jb=ur,T&&Qo())}if(T&&!Ea){for(m=0;256>m;++m)Ii[m]=89858*(m-128)+ks>>Po,Pd[m]=-22014*(m-128)+ks,af[m]=-45773*(m-128),hu[m]=113618*(m-128)+ks>>Po;for(m=Za;m<xa;++m)b=76283*(m-16)+ks>>Po,Ud[m-Za]=po(b,255),Od[m-Za]=po(b+8>>4,15);Ea=1}return 1}function ht(m){var b=m.ma,E=m.U,T=m.T;return e(!(1&m.ka)),0>=E||0>=T?0:(E=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,E),b.Dc+=E,1)}function Mr(m){m.ma.memory=null}function cr(m,b,E,T){return J(m,8)!=47?0:(b[0]=J(m,14)+1,E[0]=J(m,14)+1,T[0]=J(m,1),J(m,3)!=0?0:!m.h)}function uo(m,b){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+J(b,E)+1}function co(m,b){return 120<b?b-120:1<=(E=((E=Mo[b-1])>>4)*m+(8-(15&E)))?E:1;var E}function Un(m,b,E){var T=K(E),D=m[b+=255&T].g-8;return 0<D&&(ce(E,E.u+8),T=K(E),b+=m[b].value,b+=T&(1<<D)-1),ce(E,E.u+m[b].g),m[b].value}function ii(m,b,E){return E.g+=m.g,E.value+=m.value<<b>>>0,e(8>=E.g),m.g}function Si(m,b,E){var T=m.xc;return e((b=T==0?0:m.vc[m.md*(E>>T)+(b>>T)])<m.Wb),m.Ya[b]}function da(m,b,E,T){var D=m.ab,P=m.c*b,O=m.C;b=O+b;var H=E,V=T;for(T=m.Ta,E=m.Ua;0<D--;){var Q=m.gc[D],he=O,xe=b,Z=H,ge=V,Se=(V=T,H=E,Q.Ea);switch(e(he<xe),e(xe<=Q.nc),Q.hc){case 2:$n(Z,ge,(xe-he)*Se,V,H);break;case 0:var Ie=he,_e=xe,Me=V,Pe=H,Ge=(et=Q).Ea;Ie==0&&(Es(Z,ge,null,null,1,Me,Pe),jt(Z,ge+1,0,0,Ge-1,Me,Pe+1),ge+=Ge,Pe+=Ge,++Ie);for(var qe=1<<et.b,it=qe-1,Ze=ze(Ge,et.b),Lt=et.K,et=et.w+(Ie>>et.b)*Ze;Ie<_e;){var Wt=Lt,kn=et,Ut=1;for(Ts(Z,ge,Me,Pe-Ge,1,Me,Pe);Ut<Ge;){var Qe=(Ut&~it)+qe;Qe>Ge&&(Qe=Ge),(0,jr[Wt[kn++]>>8&15])(Z,ge+ +Ut,Me,Pe+Ut-Ge,Qe-Ut,Me,Pe+Ut),Ut=Qe}ge+=Ge,Pe+=Ge,++Ie&it||(et+=Ze)}xe!=Q.nc&&o(V,H-Se,V,H+(xe-he-1)*Se,Se);break;case 1:for(Se=Z,_e=ge,Ge=(Z=Q.Ea)-(Pe=Z&~(Me=(ge=1<<Q.b)-1)),Ie=ze(Z,Q.b),qe=Q.K,Q=Q.w+(he>>Q.b)*Ie;he<xe;){for(it=qe,Ze=Q,Lt=new St,et=_e+Pe,Wt=_e+Z;_e<et;)at(it[Ze++],Lt),Ns(Lt,Se,_e,ge,V,H),_e+=ge,H+=ge;_e<Wt&&(at(it[Ze++],Lt),Ns(Lt,Se,_e,Ge,V,H),_e+=Ge,H+=Ge),++he&Me||(Q+=Ie)}break;case 3:if(Z==V&&ge==H&&0<Q.b){for(_e=V,Z=Se=H+(xe-he)*Se-(Pe=(xe-he)*ze(Q.Ea,Q.b)),ge=V,Me=H,Ie=[],Pe=(Ge=Pe)-1;0<=Pe;--Pe)Ie[Pe]=ge[Me+Pe];for(Pe=Ge-1;0<=Pe;--Pe)_e[Z+Pe]=Ie[Pe];nu(Q,he,xe,V,Se,V,H)}else nu(Q,he,xe,Z,ge,V,H)}H=T,V=E}V!=E&&o(T,E,H,V,P)}function Yi(m,b){var E=m.V,T=m.Ba+m.c*m.C,D=b-m.C;if(e(b<=m.l.o),e(16>=D),0<D){var P=m.l,O=m.Ta,H=m.Ua,V=P.width;if(da(m,D,E,T),D=H=[H],e((E=m.C)<(T=b)),e(P.v<P.va),T>P.o&&(T=P.o),E<P.j){var Q=P.j-E;E=P.j,D[0]+=Q*V}if(E>=T?E=0:(D[0]+=4*P.v,P.ka=E-P.j,P.U=P.va-P.v,P.T=T-E,E=1),E){if(H=H[0],11>(E=m.ca).S){var he=E.f.RGBA,xe=(T=E.S,D=P.U,P=P.T,Q=he.eb,he.A),Z=P;for(he=he.fb+m.Ma*he.A;0<Z--;){var ge=O,Se=H,Ie=D,_e=Q,Me=he;switch(T){case ru:Cs(ge,Se,Ie,_e,Me);break;case Bi:Kr(ge,Se,Ie,_e,Me);break;case Cl:Kr(ge,Se,Ie,_e,Me),ja(_e,Me,0,Ie,1,0);break;case au:Ya(ge,Se,Ie,_e,Me);break;case Lo:mt(ge,Se,Ie,_e,Me,1);break;case su:mt(ge,Se,Ie,_e,Me,1),ja(_e,Me,0,Ie,1,0);break;case Nl:mt(ge,Se,Ie,_e,Me,0);break;case Rs:mt(ge,Se,Ie,_e,Me,0),ja(_e,Me,1,Ie,1,0);break;case Ls:Wr(ge,Se,Ie,_e,Me);break;case lu:Wr(ge,Se,Ie,_e,Me),Co(_e,Me,Ie,1,0);break;case ba:_r(ge,Se,Ie,_e,Me);break;default:e(0)}H+=V,he+=xe}m.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=b,e(m.C<=m.i)}function bn(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var E=m.Ya[b].G,T=m.Ya[b].H;if(0<E[1][T[1]+0].g||0<E[2][T[2]+0].g||0<E[3][T[3]+0].g)return 0}return 1}function On(m,b,E,T,D,P){if(m.Z!=0){var O=m.qd,H=m.rd;for(e(Qr[m.Z]!=null);b<E;++b)Qr[m.Z](O,H,T,D,T,D,P),O=T,H=D,D+=P;m.qd=O,m.rd=H}}function Ui(m,b){var E=m.l.ma,T=E.Z==0||E.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,e(b<=m.l.o),b>T){var D=m.l.width,P=E.ca,O=E.tb+D*T,H=m.V,V=m.Ba+m.c*T,Q=m.gc;e(m.ab==1),e(Q[0].hc==3),Sr(Q[0],T,b,H,V,P,O),On(E,T,b,P,O,D)}m.C=m.Ma=b}function fo(m,b,E,T,D,P,O){var H=m.$/T,V=m.$%T,Q=m.m,he=m.s,xe=E+m.$,Z=xe;D=E+T*D;var ge=E+T*P,Se=280+he.ua,Ie=m.Pb?H:16777216,_e=0<he.ua?he.Wa:null,Me=he.wc,Pe=xe<ge?Si(he,V,H):null;e(m.C<P),e(ge<=D);var Ge=!1;e:for(;;){for(;Ge||xe<ge;){var qe=0;if(H>=Ie){var it=xe-E;e((Ie=m).Pb),Ie.wd=Ie.m,Ie.xd=it,0<Ie.s.ua&&je(Ie.s.Wa,Ie.s.vb),Ie=H+Sa}if(V&Me||(Pe=Si(he,V,H)),e(Pe!=null),Pe.Qb&&(b[xe]=Pe.qb,Ge=!0),!Ge)if(me(Q),Pe.jc){qe=Q,it=b;var Ze=xe,Lt=Pe.pd[K(qe)&ya-1];e(Pe.jc),256>Lt.g?(ce(qe,qe.u+Lt.g),it[Ze]=Lt.value,qe=0):(ce(qe,qe.u+Lt.g-256),e(256<=Lt.value),qe=Lt.value),qe==0&&(Ge=!0)}else qe=Un(Pe.G[0],Pe.H[0],Q);if(Q.h)break;if(Ge||256>qe){if(!Ge)if(Pe.nd)b[xe]=(Pe.qb|qe<<8)>>>0;else{if(me(Q),Ge=Un(Pe.G[1],Pe.H[1],Q),me(Q),it=Un(Pe.G[2],Pe.H[2],Q),Ze=Un(Pe.G[3],Pe.H[3],Q),Q.h)break;b[xe]=(Ze<<24|Ge<<16|qe<<8|it)>>>0}if(Ge=!1,++xe,++V>=T&&(V=0,++H,O!=null&&H<=P&&!(H%16)&&O(m,H),_e!=null))for(;Z<xe;)qe=b[Z++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else if(280>qe){if(qe=uo(qe-256,Q),it=Un(Pe.G[4],Pe.H[4],Q),me(Q),it=co(T,it=uo(it,Q)),Q.h)break;if(xe-E<it||D-xe<qe)break e;for(Ze=0;Ze<qe;++Ze)b[xe+Ze]=b[xe+Ze-it];for(xe+=qe,V+=qe;V>=T;)V-=T,++H,O!=null&&H<=P&&!(H%16)&&O(m,H);if(e(xe<=D),V&Me&&(Pe=Si(he,V,H)),_e!=null)for(;Z<xe;)qe=b[Z++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else{if(!(qe<Se))break e;for(Ge=qe-280,e(_e!=null);Z<xe;)qe=b[Z++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe;qe=xe,e(!(Ge>>>(it=_e).Xa)),b[qe]=it.X[Ge],Ge=!0}Ge||e(Q.h==ie(Q))}if(m.Pb&&Q.h&&xe<D)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&je(m.s.vb,m.s.Wa);else{if(Q.h)break e;O!=null&&O(m,H>P?P:H),m.a=0,m.$=xe-E}return 1}return m.a=3,0}function xo(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function Ua(){var m=new Tt;return m==null?null:(m.a=0,m.xb=lc,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),$n=zt,Ns=It,Cs=Xn,Kr=Yt,Wr=_t,_r=Nt,Ya=Kt,G.VP8LMapColor32b=br,G.VP8LMapColor8b=Ci,m)}function Vo(m,b,E,T,D){var P=1,O=[m],H=[b],V=T.m,Q=T.s,he=null,xe=0;e:for(;;){if(E)for(;P&&J(V,1);){var Z=O,ge=H,Se=T,Ie=1,_e=Se.m,Me=Se.gc[Se.ab],Pe=J(_e,2);if(Se.Oc&1<<Pe)P=0;else{switch(Se.Oc|=1<<Pe,Me.hc=Pe,Me.Ea=Z[0],Me.nc=ge[0],Me.K=[null],++Se.ab,e(4>=Se.ab),Pe){case 0:case 1:Me.b=J(_e,3)+2,Ie=Vo(ze(Me.Ea,Me.b),ze(Me.nc,Me.b),0,Se,Me.K),Me.K=Me.K[0];break;case 3:var Ge,qe=J(_e,8)+1,it=16<qe?0:4<qe?1:2<qe?2:3;if(Z[0]=ze(Me.Ea,it),Me.b=it,Ge=Ie=Vo(qe,1,0,Se,Me.K)){var Ze,Lt=qe,et=Me,Wt=1<<(8>>et.b),kn=s(Wt);if(kn==null)Ge=0;else{var Ut=et.K[0],Qe=et.w;for(kn[0]=et.K[0][0],Ze=1;Ze<1*Lt;++Ze)kn[Ze]=gt(Ut[Qe+Ze],kn[Ze-1]);for(;Ze<4*Wt;++Ze)kn[Ze]=0;et.K[0]=null,et.K[0]=kn,Ge=1}}Ie=Ge;break;case 2:break;default:e(0)}P=Ie}}if(O=O[0],H=H[0],P&&J(V,1)&&!(P=1<=(xe=J(V,4))&&11>=xe)){T.a=3;break e}var Je;if(Je=P)t:{var Bn,At,qt,gn=T,gi=O,ki=H,Cn=xe,ai=E,qi=gn.m,si=gn.s,Vt=[null],an=1,qn=0,fn=Io[Cn];n:for(;;){if(ai&&J(qi,1)){var mi=J(qi,3)+2,Hn=ze(gi,mi),sn=ze(ki,mi),ni=Hn*sn;if(!Vo(Hn,sn,0,gn,Vt))break n;for(Vt=Vt[0],si.xc=mi,Bn=0;Bn<ni;++Bn){var mn=Vt[Bn]>>8&65535;Vt[Bn]=mn,mn>=an&&(an=mn+1)}}if(qi.h)break n;for(At=0;5>At;++At){var li=Wa[At];!At&&0<Cn&&(li+=1<<Cn),qn<li&&(qn=li)}var ui=u(an*fn,se),Sn=an,rn=u(Sn,Ae);if(rn==null)var Hi=null;else e(65536>=Sn),Hi=rn;var Yn=s(qn);if(Hi==null||Yn==null||ui==null){gn.a=1;break n}var pt=ui;for(Bn=qt=0;Bn<an;++Bn){var vt=Hi[Bn],ln=vt.G,no=vt.H,Uo=0,Zi=1,ci=0;for(At=0;5>At;++At){li=Wa[At],ln[At]=pt,no[At]=qt,!At&&0<Cn&&(li+=1<<Cn);o:{var Ta,Na=li,gu=gn,Ln=Yn,cc=pt,fc=qt,mu=0,$r=gu.m,Fd=J($r,1);if(a(Ln,0,0,Na),Fd){var dc=J($r,1)+1,hc=J($r,1),vu=J($r,hc==0?1:8);Ln[vu]=1,dc==2&&(Ln[vu=J($r,8)]=1);var Ai=1}else{var Jn=s(19),Il=J($r,4)+4;if(19<Il){gu.a=3;var Ca=0;break o}for(Ta=0;Ta<Il;++Ta)Jn[Ll[Ta]]=J($r,3);var Ps=void 0,Qa=void 0,xr=gu,yu=Jn,Us=Na,bu=Ln,Su=0,ea=xr.m,pc=8,gc=u(128,se);i:for(;Y(gc,0,7,yu,19);){if(J(ea,1)){var sf=2+2*J(ea,3);if((Ps=2+J(ea,sf))>Us)break i}else Ps=Us;for(Qa=0;Qa<Us&&Ps--;){me(ea);var mc=gc[0+(127&K(ea))];ce(ea,ea.u+mc.g);var La=mc.value;if(16>La)bu[Qa++]=La,La!=0&&(pc=La);else{var lf=La==16,uf=La-16,cf=Ms[uf],vc=J(ea,Ro[uf])+cf;if(Qa+vc>Us)break i;for(var ff=lf?pc:0;0<vc--;)bu[Qa++]=ff}}Su=1;break i}Su||(xr.a=3),Ai=Su}(Ai=Ai&&!$r.h)&&(mu=Y(cc,fc,8,Ln,Na)),Ai&&mu!=0?Ca=mu:(gu.a=3,Ca=0)}if(Ca==0)break n;if(Zi&&uu[At]==1&&(Zi=pt[qt].g==0),Uo+=pt[qt].g,qt+=Ca,3>=At){var $a,_u=Yn[0];for($a=1;$a<li;++$a)Yn[$a]>_u&&(_u=Yn[$a]);ci+=_u}}if(vt.nd=Zi,vt.Qb=0,Zi&&(vt.qb=(ln[3][no[3]+0].value<<24|ln[1][no[1]+0].value<<16|ln[2][no[2]+0].value)>>>0,Uo==0&&256>ln[0][no[0]+0].value&&(vt.Qb=1,vt.qb+=ln[0][no[0]+0].value<<8)),vt.jc=!vt.Qb&&6>ci,vt.jc){var kl,Er=vt;for(kl=0;kl<ya;++kl){var ta=kl,na=Er.pd[ta],wu=Er.G[0][Er.H[0]+ta];256<=wu.value?(na.g=wu.g+256,na.value=wu.value):(na.g=0,na.value=0,ta>>=ii(wu,8,na),ta>>=ii(Er.G[1][Er.H[1]+ta],16,na),ta>>=ii(Er.G[2][Er.H[2]+ta],0,na),ii(Er.G[3][Er.H[3]+ta],24,na))}}}si.vc=Vt,si.Wb=an,si.Ya=Hi,si.yc=ui,Je=1;break t}Je=0}if(!(P=Je)){T.a=3;break e}if(0<xe){if(Q.ua=1<<xe,!W(Q.Wa,xe)){T.a=1,P=0;break e}}else Q.ua=0;var Au=T,es=O,df=H,Os=Au.s,Fs=Os.xc;if(Au.c=es,Au.i=df,Os.md=ze(es,Fs),Os.wc=Fs==0?-1:(1<<Fs)-1,E){T.xb=_a;break e}if((he=s(O*H))==null){T.a=1,P=0;break e}P=(P=fo(T,he,0,O,H,H,null))&&!V.h;break e}return P?(D!=null?D[0]=he:(e(he==null),e(E)),T.$=0,E||xo(Q)):xo(Q),P}function Yo(m,b){var E=m.c*m.i,T=E+b+16*b;return e(m.c<=b),m.V=s(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+b,1)}function ha(m,b){var E=m.C,T=b-E,D=m.V,P=m.Ba+m.c*E;for(e(b<=m.l.o);0<T;){var O=16<T?16:T,H=m.l.ma,V=m.l.width,Q=V*O,he=H.ca,xe=H.tb+V*E,Z=m.Ta,ge=m.Ua;da(m,O,D,P),bo(Z,ge,he,xe,Q),On(H,E,E+O,he,xe,V),T-=O,D+=O*m.c,E+=O}e(E==b),m.C=m.Ma=b}function Jo(){this.ub=this.yd=this.td=this.Rb=0}function jo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function fr(){this.Yb=(function(){var m=[];return(function b(E,T,D){for(var P=D[T],O=0;O<P&&(E.push(D.length>T+1?[]:0),!(D.length<T+1));O++)b(E[O],T+1,D)})(m,0,[3,11]),m})()}function Zn(){this.jb=s(3),this.Wc=c([4,8],fr),this.Xc=c([4,17],fr)}function rl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ho(){this.ld=this.La=this.dd=this.tc=0}function Ko(){this.Na=this.la=0}function Ir(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function al(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function sl(){this.uc=this.M=this.Nb=0,this.wa=Array(new ho),this.Y=0,this.ya=Array(new al),this.aa=0,this.l=new kr}function ll(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Jl(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Jo,this.Kc=new jo,this.ed=new rl,this.Qa=new Oa,this.Ic=this.$c=this.Aa=0,this.D=new sl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,Ir),this.Pa=new Zn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ll),this.Hd=0,this.rb=Array(new Ko),this.sb=0,this.wa=Array(new ho),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new al),this.L=this.aa=0,this.gd=c([4,2],ho),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function po(m,b){return 0>m?0:m>b?b:m}function kr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wo(){var m=new Jl;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,So||(So=pa)),m}function un(m,b,E){return m.a==0&&(m.a=b,m.sc=E,m.cb=0),0}function ul(m,b,E){return 3<=E&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function dr(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return un(m,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,T=b.w,D=b.ha;if(4>D)return un(m,7,"Truncated header.");var P=E[T+0]|E[T+1]<<8|E[T+2]<<16,O=m.Od;if(O.Rb=!(1&P),O.td=P>>1&7,O.yd=P>>4&1,O.ub=P>>5,3<O.td)return un(m,3,"Incorrect keyframe parameters.");if(!O.yd)return un(m,4,"Frame not displayable.");T+=3,D-=3;var H=m.Kc;if(O.Rb){if(7>D)return un(m,7,"cannot parse picture header");if(!ul(E,T,D))return un(m,3,"Bad code word");H.c=16383&(E[T+4]<<8|E[T+3]),H.Td=E[T+4]>>6,H.i=16383&(E[T+6]<<8|E[T+5]),H.Ud=E[T+6]>>6,T+=7,D-=7,m.za=H.c+15>>4,m.Ub=H.i+15>>4,b.width=H.c,b.height=H.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((P=m.Pa).jb,0,255,P.jb.length),e((P=m.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,a(P.Zb,0,0,P.Zb.length),a(P.Lb,0,0,P.Lb)}if(O.ub>D)return un(m,7,"bad partition length");ne(P=m.m,E,T,O.ub),T+=O.ub,D-=O.ub,O.Rb&&(H.Ld=Ne(P),H.Kd=Ne(P)),H=m.Qa;var V,Q=m.Pa;if(e(P!=null),e(H!=null),H.Cb=Ne(P),H.Cb){if(H.Bb=Ne(P),Ne(P)){for(H.Fb=Ne(P),V=0;4>V;++V)H.Zb[V]=Ne(P)?ue(P,7):0;for(V=0;4>V;++V)H.Lb[V]=Ne(P)?ue(P,6):0}if(H.Bb)for(V=0;3>V;++V)Q.jb[V]=Ne(P)?ae(P,8):255}else H.Bb=0;if(P.Ka)return un(m,3,"cannot parse segment header");if((H=m.ed).zd=Ne(P),H.Tb=ae(P,6),H.wb=ae(P,3),H.Pc=Ne(P),H.Pc&&Ne(P)){for(Q=0;4>Q;++Q)Ne(P)&&(H.vd[Q]=ue(P,6));for(Q=0;4>Q;++Q)Ne(P)&&(H.od[Q]=ue(P,6))}if(m.L=H.Tb==0?0:H.zd?1:2,P.Ka)return un(m,3,"cannot parse filter header");var he=D;if(D=V=T,T=V+he,H=he,m.Xb=(1<<ae(m.m,2))-1,he<3*(Q=m.Xb))E=7;else{for(V+=3*Q,H-=3*Q,he=0;he<Q;++he){var xe=E[D+0]|E[D+1]<<8|E[D+2]<<16;xe>H&&(xe=H),ne(m.Jc[+he],E,V,xe),V+=xe,H-=xe,D+=3}ne(m.Jc[+Q],E,V,H),E=V<T?0:5}if(E!=0)return un(m,E,"cannot parse partitions");for(E=ae(V=m.m,7),D=Ne(V)?ue(V,4):0,T=Ne(V)?ue(V,4):0,H=Ne(V)?ue(V,4):0,Q=Ne(V)?ue(V,4):0,V=Ne(V)?ue(V,4):0,he=m.Qa,xe=0;4>xe;++xe){if(he.Cb){var Z=he.Zb[xe];he.Fb||(Z+=E)}else{if(0<xe){m.pb[xe]=m.pb[0];continue}Z=E}var ge=m.pb[xe];ge.Sc[0]=ko[po(Z+D,127)],ge.Sc[1]=Do[po(Z+0,127)],ge.Eb[0]=2*ko[po(Z+T,127)],ge.Eb[1]=101581*Do[po(Z+H,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=ko[po(Z+Q,117)],ge.Qc[1]=Do[po(Z+V,127)],ge.lc=Z+V}if(!O.Rb)return un(m,4,"Not a key frame.");for(Ne(P),O=m.Pa,E=0;4>E;++E){for(D=0;8>D;++D)for(T=0;3>T;++T)for(H=0;11>H;++H)Q=Ue(P,In[E][D][T][H])?ae(P,8):rf[E][D][T][H],O.Wc[E][D].Yb[T][H]=Q;for(D=0;17>D;++D)O.Xc[E][D]=O.Wc[E][Xt[D]]}return m.kc=Ne(P),m.kc&&(m.Bd=ae(P,8)),m.cb=1}function pa(m,b,E,T,D,P,O){var H=b[D].Yb[E];for(E=0;16>D;++D){if(!Ue(m,H[E+0]))return D;for(;!Ue(m,H[E+1]);)if(H=b[++D].Yb[0],E=0,D==16)return 16;var V=b[D+1].Yb;if(Ue(m,H[E+2])){var Q=m,he=0;if(Ue(Q,(Z=H)[(xe=E)+3]))if(Ue(Q,Z[xe+6])){for(H=0,xe=2*(he=Ue(Q,Z[xe+8]))+(Z=Ue(Q,Z[xe+9+he])),he=0,Z=of[xe];Z[H];++H)he+=he+Ue(Q,Z[H]);he+=3+(8<<xe)}else Ue(Q,Z[xe+7])?(he=7+2*Ue(Q,165),he+=Ue(Q,145)):he=5+Ue(Q,159);else he=Ue(Q,Z[xe+4])?3+Ue(Q,Z[xe+5]):2;H=V[2]}else he=1,H=V[1];V=O+sc[D],0>(Q=m).b&&Le(Q);var xe,Z=Q.b,ge=(xe=Q.Ca>>1)-(Q.I>>Z)>>31;--Q.b,Q.Ca+=ge,Q.Ca|=1,Q.I-=(xe+1&ge)<<Z,P[V]=((he^ge)-ge)*T[(0<D)+0]}return 16}function cl(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function Ji(m,b,E,T,D){D=m[b+E+32*T]+(D>>3),m[b+E+32*T]=-256&D?0>D?0:255:D}function hi(m,b,E,T,D,P){Ji(m,b,0,E,T+D),Ji(m,b,1,E,T+P),Ji(m,b,2,E,T-P),Ji(m,b,3,E,T-D)}function oi(m){return(20091*m>>16)+m}function ys(m,b,E,T){var D,P=0,O=s(16);for(D=0;4>D;++D){var H=m[b+0]+m[b+8],V=m[b+0]-m[b+8],Q=(35468*m[b+4]>>16)-oi(m[b+12]),he=oi(m[b+4])+(35468*m[b+12]>>16);O[P+0]=H+he,O[P+1]=V+Q,O[P+2]=V-Q,O[P+3]=H-he,P+=4,b++}for(D=P=0;4>D;++D)H=(m=O[P+0]+4)+O[P+8],V=m-O[P+8],Q=(35468*O[P+4]>>16)-oi(O[P+12]),Ji(E,T,0,0,H+(he=oi(O[P+4])+(35468*O[P+12]>>16))),Ji(E,T,1,0,V+Q),Ji(E,T,2,0,V-Q),Ji(E,T,3,0,H-he),P++,T+=32}function jl(m,b,E,T){var D=m[b+0]+4,P=35468*m[b+4]>>16,O=oi(m[b+4]),H=35468*m[b+1]>>16;hi(E,T,0,D+O,m=oi(m[b+1]),H),hi(E,T,1,D+P,m,H),hi(E,T,2,D-P,m,H),hi(E,T,3,D-O,m,H)}function fl(m,b,E,T,D){ys(m,b,E,T),D&&ys(m,b+16,E,T+4)}function ji(m,b,E,T){Xr(m,b+0,E,T,1),Xr(m,b+32,E,T+128,1)}function dl(m,b,E,T){var D;for(m=m[b+0]+4,D=0;4>D;++D)for(b=0;4>b;++b)Ji(E,T,b,D,m)}function hl(m,b,E,T){m[b+0]&&cn(m,b+0,E,T),m[b+16]&&cn(m,b+16,E,T+4),m[b+32]&&cn(m,b+32,E,T+128),m[b+48]&&cn(m,b+48,E,T+128+4)}function Xo(m,b,E,T){var D,P=s(16);for(D=0;4>D;++D){var O=m[b+0+D]+m[b+12+D],H=m[b+4+D]+m[b+8+D],V=m[b+4+D]-m[b+8+D],Q=m[b+0+D]-m[b+12+D];P[0+D]=O+H,P[8+D]=O-H,P[4+D]=Q+V,P[12+D]=Q-V}for(D=0;4>D;++D)O=(m=P[0+4*D]+3)+P[3+4*D],H=P[1+4*D]+P[2+4*D],V=P[1+4*D]-P[2+4*D],Q=m-P[3+4*D],E[T+0]=O+H>>3,E[T+16]=Q+V>>3,E[T+32]=O-H>>3,E[T+48]=Q-V>>3,T+=64}function Fa(m,b,E){var T,D=b-32,P=Fi,O=255-m[D-1];for(T=0;T<E;++T){var H,V=P,Q=O+m[b-1];for(H=0;H<E;++H)m[b+H]=V[Q+m[D+H]];b+=32}}function Kl(m,b){Fa(m,b,4)}function Wl(m,b){Fa(m,b,8)}function pl(m,b){Fa(m,b,16)}function gl(m,b){var E;for(E=0;16>E;++E)o(m,b+32*E,m,b-32,16)}function Xl(m,b){var E;for(E=16;0<E;--E)a(m,b,m[b-1],16),b+=32}function eo(m,b,E){var T;for(T=0;16>T;++T)a(b,E+32*T,m,16)}function Zo(m,b){var E,T=16;for(E=0;16>E;++E)T+=m[b-1+32*E]+m[b+E-32];eo(T>>5,m,b)}function Dr(m,b){var E,T=8;for(E=0;16>E;++E)T+=m[b-1+32*E];eo(T>>4,m,b)}function Ba(m,b){var E,T=8;for(E=0;16>E;++E)T+=m[b+E-32];eo(T>>4,m,b)}function ga(m,b){eo(128,m,b)}function wt(m,b,E){return m+2*b+E+2>>2}function Zl(m,b){var E,T=b-32;for(T=new Uint8Array([wt(m[T-1],m[T+0],m[T+1]),wt(m[T+0],m[T+1],m[T+2]),wt(m[T+1],m[T+2],m[T+3]),wt(m[T+2],m[T+3],m[T+4])]),E=0;4>E;++E)o(m,b+32*E,T,0,T.length)}function ml(m,b){var E=m[b-1],T=m[b-1+32],D=m[b-1+64],P=m[b-1+96];Ve(m,b+0,16843009*wt(m[b-1-32],E,T)),Ve(m,b+32,16843009*wt(E,T,D)),Ve(m,b+64,16843009*wt(T,D,P)),Ve(m,b+96,16843009*wt(D,P,P))}function Ql(m,b){var E,T=4;for(E=0;4>E;++E)T+=m[b+E-32]+m[b-1+32*E];for(T>>=3,E=0;4>E;++E)a(m,b+32*E,T,4)}function go(m,b){var E=m[b-1+0],T=m[b-1+32],D=m[b-1+64],P=m[b-1-32],O=m[b+0-32],H=m[b+1-32],V=m[b+2-32],Q=m[b+3-32];m[b+0+96]=wt(T,D,m[b-1+96]),m[b+1+96]=m[b+0+64]=wt(E,T,D),m[b+2+96]=m[b+1+64]=m[b+0+32]=wt(P,E,T),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=wt(O,P,E),m[b+3+64]=m[b+2+32]=m[b+1+0]=wt(H,O,P),m[b+3+32]=m[b+2+0]=wt(V,H,O),m[b+3+0]=wt(Q,V,H)}function Ti(m,b){var E=m[b+1-32],T=m[b+2-32],D=m[b+3-32],P=m[b+4-32],O=m[b+5-32],H=m[b+6-32],V=m[b+7-32];m[b+0+0]=wt(m[b+0-32],E,T),m[b+1+0]=m[b+0+32]=wt(E,T,D),m[b+2+0]=m[b+1+32]=m[b+0+64]=wt(T,D,P),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=wt(D,P,O),m[b+3+32]=m[b+2+64]=m[b+1+96]=wt(P,O,H),m[b+3+64]=m[b+2+96]=wt(O,H,V),m[b+3+96]=wt(H,V,V)}function vl(m,b){var E=m[b-1+0],T=m[b-1+32],D=m[b-1+64],P=m[b-1-32],O=m[b+0-32],H=m[b+1-32],V=m[b+2-32],Q=m[b+3-32];m[b+0+0]=m[b+1+64]=P+O+1>>1,m[b+1+0]=m[b+2+64]=O+H+1>>1,m[b+2+0]=m[b+3+64]=H+V+1>>1,m[b+3+0]=V+Q+1>>1,m[b+0+96]=wt(D,T,E),m[b+0+64]=wt(T,E,P),m[b+0+32]=m[b+1+96]=wt(E,P,O),m[b+1+32]=m[b+2+96]=wt(P,O,H),m[b+2+32]=m[b+3+96]=wt(O,H,V),m[b+3+32]=wt(H,V,Q)}function qa(m,b){var E=m[b+0-32],T=m[b+1-32],D=m[b+2-32],P=m[b+3-32],O=m[b+4-32],H=m[b+5-32],V=m[b+6-32],Q=m[b+7-32];m[b+0+0]=E+T+1>>1,m[b+1+0]=m[b+0+64]=T+D+1>>1,m[b+2+0]=m[b+1+64]=D+P+1>>1,m[b+3+0]=m[b+2+64]=P+O+1>>1,m[b+0+32]=wt(E,T,D),m[b+1+32]=m[b+0+96]=wt(T,D,P),m[b+2+32]=m[b+1+96]=wt(D,P,O),m[b+3+32]=m[b+2+96]=wt(P,O,H),m[b+3+64]=wt(O,H,V),m[b+3+96]=wt(H,V,Q)}function mo(m,b){var E=m[b-1+0],T=m[b-1+32],D=m[b-1+64],P=m[b-1+96];m[b+0+0]=E+T+1>>1,m[b+2+0]=m[b+0+32]=T+D+1>>1,m[b+2+32]=m[b+0+64]=D+P+1>>1,m[b+1+0]=wt(E,T,D),m[b+3+0]=m[b+1+32]=wt(T,D,P),m[b+3+32]=m[b+1+64]=wt(D,P,P),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=P}function Ha(m,b){var E=m[b-1+0],T=m[b-1+32],D=m[b-1+64],P=m[b-1+96],O=m[b-1-32],H=m[b+0-32],V=m[b+1-32],Q=m[b+2-32];m[b+0+0]=m[b+2+32]=E+O+1>>1,m[b+0+32]=m[b+2+64]=T+E+1>>1,m[b+0+64]=m[b+2+96]=D+T+1>>1,m[b+0+96]=P+D+1>>1,m[b+3+0]=wt(H,V,Q),m[b+2+0]=wt(O,H,V),m[b+1+0]=m[b+3+32]=wt(E,O,H),m[b+1+32]=m[b+3+64]=wt(T,E,O),m[b+1+64]=m[b+3+96]=wt(D,T,E),m[b+1+96]=wt(P,D,T)}function hr(m,b){var E;for(E=0;8>E;++E)o(m,b+32*E,m,b-32,8)}function $l(m,b){var E;for(E=0;8>E;++E)a(m,b,m[b-1],8),b+=32}function Eo(m,b,E){var T;for(T=0;8>T;++T)a(b,E+32*T,m,8)}function bs(m,b){var E,T=8;for(E=0;8>E;++E)T+=m[b+E-32]+m[b-1+32*E];Eo(T>>4,m,b)}function Ss(m,b){var E,T=4;for(E=0;8>E;++E)T+=m[b+E-32];Eo(T>>3,m,b)}function _i(m,b){var E,T=4;for(E=0;8>E;++E)T+=m[b-1+32*E];Eo(T>>3,m,b)}function pr(m,b){Eo(128,m,b)}function To(m,b,E){var T=m[b-E],D=m[b+0],P=3*(D-T)+Zr[1020+m[b-2*E]-m[b+E]],O=Tl[112+(P+4>>3)];m[b-E]=Fi[255+T+Tl[112+(P+3>>3)]],m[b+0]=Fi[255+D-O]}function Pr(m,b,E,T){var D=m[b+0],P=m[b+E];return Li[255+m[b-2*E]-m[b-E]]>T||Li[255+P-D]>T}function _s(m,b,E,T){return 4*Li[255+m[b-E]-m[b+0]]+Li[255+m[b-2*E]-m[b+E]]<=T}function za(m,b,E,T,D){var P=m[b-3*E],O=m[b-2*E],H=m[b-E],V=m[b+0],Q=m[b+E],he=m[b+2*E],xe=m[b+3*E];return 4*Li[255+H-V]+Li[255+O-Q]>T?0:Li[255+m[b-4*E]-P]<=D&&Li[255+P-O]<=D&&Li[255+O-H]<=D&&Li[255+xe-he]<=D&&Li[255+he-Q]<=D&&Li[255+Q-V]<=D}function Ur(m,b,E,T){var D=2*T+1;for(T=0;16>T;++T)_s(m,b+T,E,D)&&To(m,b+T,E)}function Or(m,b,E,T){var D=2*T+1;for(T=0;16>T;++T)_s(m,b+T*E,1,D)&&To(m,b+T*E,1)}function Ga(m,b,E,T){var D;for(D=3;0<D;--D)Ur(m,b+=4*E,E,T)}function yl(m,b,E,T){var D;for(D=3;0<D;--D)Or(m,b+=4,E,T)}function Fr(m,b,E,T,D,P,O,H){for(P=2*P+1;0<D--;){if(za(m,b,E,P,O))if(Pr(m,b,E,H))To(m,b,E);else{var V=m,Q=b,he=E,xe=V[Q-2*he],Z=V[Q-he],ge=V[Q+0],Se=V[Q+he],Ie=V[Q+2*he],_e=27*(Pe=Zr[1020+3*(ge-Z)+Zr[1020+xe-Se]])+63>>7,Me=18*Pe+63>>7,Pe=9*Pe+63>>7;V[Q-3*he]=Fi[255+V[Q-3*he]+Pe],V[Q-2*he]=Fi[255+xe+Me],V[Q-he]=Fi[255+Z+_e],V[Q+0]=Fi[255+ge-_e],V[Q+he]=Fi[255+Se-Me],V[Q+2*he]=Fi[255+Ie-Pe]}b+=T}}function Br(m,b,E,T,D,P,O,H){for(P=2*P+1;0<D--;){if(za(m,b,E,P,O))if(Pr(m,b,E,H))To(m,b,E);else{var V=m,Q=b,he=E,xe=V[Q-he],Z=V[Q+0],ge=V[Q+he],Se=Tl[112+(4+(Ie=3*(Z-xe))>>3)],Ie=Tl[112+(Ie+3>>3)],_e=Se+1>>1;V[Q-2*he]=Fi[255+V[Q-2*he]+_e],V[Q-he]=Fi[255+xe+Ie],V[Q+0]=Fi[255+Z-Se],V[Q+he]=Fi[255+ge-_e]}b+=T}}function eu(m,b,E,T,D,P){Fr(m,b,E,1,16,T,D,P)}function qr(m,b,E,T,D,P){Fr(m,b,1,E,16,T,D,P)}function tu(m,b,E,T,D,P){var O;for(O=3;0<O;--O)Br(m,b+=4*E,E,1,16,T,D,P)}function x(m,b,E,T,D,P){var O;for(O=3;0<O;--O)Br(m,b+=4,1,E,16,T,D,P)}function k(m,b,E,T,D,P,O,H){Fr(m,b,D,1,8,P,O,H),Fr(E,T,D,1,8,P,O,H)}function ee(m,b,E,T,D,P,O,H){Fr(m,b,1,D,8,P,O,H),Fr(E,T,1,D,8,P,O,H)}function fe(m,b,E,T,D,P,O,H){Br(m,b+4*D,D,1,8,P,O,H),Br(E,T+4*D,D,1,8,P,O,H)}function ye(m,b,E,T,D,P,O,H){Br(m,b+4,1,D,8,P,O,H),Br(E,T+4,1,D,8,P,O,H)}function De(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new Ht,this.vb=new Ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new se}function Tt(){this.xb=this.a=0,this.l=new kr,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=u(4,tt),this.Oc=0}function Pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nn(m,b,E,T,D,P,O){for(m=m==null?0:m[b+0],b=0;b<O;++b)D[P+b]=m+E[T+b]&255,m=D[P+b]}function Fn(m,b,E,T,D,P,O){var H;if(m==null)nn(null,null,E,T,D,P,O);else for(H=0;H<O;++H)D[P+H]=m[b+H]+E[T+H]&255}function Qn(m,b,E,T,D,P,O){if(m==null)nn(null,null,E,T,D,P,O);else{var H,V=m[b+0],Q=V,he=V;for(H=0;H<O;++H)Q=he+(V=m[b+H])-Q,he=E[T+H]+(-256&Q?0>Q?0:255:Q)&255,Q=V,D[P+H]=he}}function Tn(m,b,E,T){var D=b.width,P=b.o;if(e(m!=null&&b!=null),0>E||0>=T||E+T>P)return null;if(!m.Cc){if(m.ga==null){var O;if(m.ga=new Pt,(O=m.ga==null)||(O=b.width*b.o,e(m.Gb.length==0),m.Gb=s(O),m.Uc=0,m.Gb==null?O=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,O=1),O=!O),!O){O=m.ga;var H=m.Fa,V=m.P,Q=m.qc,he=m.mb,xe=m.nb,Z=V+1,ge=Q-1,Se=O.l;if(e(H!=null&&he!=null&&b!=null),Qr[0]=null,Qr[1]=nn,Qr[2]=Fn,Qr[3]=Qn,O.ca=he,O.tb=xe,O.c=b.width,O.i=b.height,e(0<O.c&&0<O.i),1>=Q)b=0;else if(O.$a=3&H[V+0],O.Z=H[V+0]>>2&3,O.Lc=H[V+0]>>4&3,V=H[V+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||V)b=0;else if(Se.put=ht,Se.ac=Ao,Se.bc=Mr,Se.ma=O,Se.width=b.width,Se.height=b.height,Se.Da=b.Da,Se.v=b.v,Se.va=b.va,Se.j=b.j,Se.o=b.o,O.$a)e:{e(O.$a==1),b=Ua();t:for(;;){if(b==null){b=0;break e}if(e(O!=null),O.mc=b,b.c=O.c,b.i=O.i,b.l=O.l,b.l.ma=O,b.l.width=O.c,b.l.height=O.i,b.a=0,we(b.m,H,Z,ge),!Vo(O.c,O.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&bn(b.s)?(O.ic=1,H=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(H),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(O.ic=0,b=Yo(b,O.c)),!b))break t;b=1;break e}O.mc=null,b=0}else b=ge>=O.c*O.i;O=!b}if(O)return null;m.ga.Lc!=1?m.Ga=0:T=P-E}e(m.ga!=null),e(E+T<=P);e:{if(b=(H=m.ga).c,P=H.l.o,H.$a==0){if(Z=m.rc,ge=m.Vc,Se=m.Fa,V=m.P+1+E*b,Q=m.mb,he=m.nb+E*b,e(V<=m.P+m.qc),H.Z!=0)for(e(Qr[H.Z]!=null),O=0;O<T;++O)Qr[H.Z](Z,ge,Se,V,Q,he,b),Z=Q,ge=he,he+=b,V+=b;else for(O=0;O<T;++O)o(Q,he,Se,V,b),Z=Q,ge=he,he+=b,V+=b;m.rc=Z,m.Vc=ge}else{if(e(H.mc!=null),b=E+T,e((O=H.mc)!=null),e(b<=O.i),O.C>=b)b=1;else if(H.ic||Qo(),H.ic){H=O.V,Z=O.Ba,ge=O.c;var Ie=O.i,_e=(Se=1,V=O.$/ge,Q=O.$%ge,he=O.m,xe=O.s,O.$),Me=ge*Ie,Pe=ge*b,Ge=xe.wc,qe=_e<Pe?Si(xe,Q,V):null;e(_e<=Me),e(b<=Ie),e(bn(xe));t:for(;;){for(;!he.h&&_e<Pe;){if(Q&Ge||(qe=Si(xe,Q,V)),e(qe!=null),me(he),256>(Ie=Un(qe.G[0],qe.H[0],he)))H[Z+_e]=Ie,++_e,++Q>=ge&&(Q=0,++V<=b&&!(V%16)&&Ui(O,V));else{if(!(280>Ie)){Se=0;break t}Ie=uo(Ie-256,he);var it,Ze=Un(qe.G[4],qe.H[4],he);if(me(he),!(_e>=(Ze=co(ge,Ze=uo(Ze,he)))&&Me-_e>=Ie)){Se=0;break t}for(it=0;it<Ie;++it)H[Z+_e+it]=H[Z+_e+it-Ze];for(_e+=Ie,Q+=Ie;Q>=ge;)Q-=ge,++V<=b&&!(V%16)&&Ui(O,V);_e<Pe&&Q&Ge&&(qe=Si(xe,Q,V))}e(he.h==ie(he))}Ui(O,V>b?b:V);break t}!Se||he.h&&_e<Me?(Se=0,O.a=he.h?5:3):O.$=_e,b=Se}else b=fo(O,O.V,O.Ba,O.c,O.i,b,ha);if(!b){T=0;break e}}E+T>=P&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*D}function pi(m,b,E,T,D,P){for(;0<D--;){var O,H=m,V=b+(E?1:0),Q=m,he=b+(E?0:3);for(O=0;O<T;++O){var xe=Q[he+4*O];xe!=255&&(xe*=32897,H[V+4*O+0]=H[V+4*O+0]*xe>>23,H[V+4*O+1]=H[V+4*O+1]*xe>>23,H[V+4*O+2]=H[V+4*O+2]*xe>>23)}b+=P}}function ri(m,b,E,T,D){for(;0<T--;){var P;for(P=0;P<E;++P){var O=m[b+2*P+0],H=15&(Q=m[b+2*P+1]),V=4369*H,Q=(240&Q|Q>>4)*V>>16;m[b+2*P+0]=(240&O|O>>4)*V>>16&240|(15&O|O<<4)*V>>16>>4&15,m[b+2*P+1]=240&Q|H}b+=D}}function Ni(m,b,E,T,D,P,O,H){var V,Q,he=255;for(Q=0;Q<D;++Q){for(V=0;V<T;++V){var xe=m[b+V];P[O+4*V]=xe,he&=xe}b+=E,O+=H}return he!=255}function Hr(m,b,E,T,D){var P;for(P=0;P<D;++P)E[T+P]=m[b+P]>>8}function Qo(){ja=pi,Co=ri,Al=Ni,bo=Hr}function zr(m,b,E){G[m]=function(T,D,P,O,H,V,Q,he,xe,Z,ge,Se,Ie,_e,Me,Pe,Ge){var qe,it=Ge-1>>1,Ze=H[V+0]|Q[he+0]<<16,Lt=xe[Z+0]|ge[Se+0]<<16;e(T!=null);var et=3*Ze+Lt+131074>>2;for(b(T[D+0],255&et,et>>16,Ie,_e),P!=null&&(et=3*Lt+Ze+131074>>2,b(P[O+0],255&et,et>>16,Me,Pe)),qe=1;qe<=it;++qe){var Wt=H[V+qe]|Q[he+qe]<<16,kn=xe[Z+qe]|ge[Se+qe]<<16,Ut=Ze+Wt+Lt+kn+524296,Qe=Ut+2*(Wt+Lt)>>3;et=Qe+Ze>>1,Ze=(Ut=Ut+2*(Ze+kn)>>3)+Wt>>1,b(T[D+2*qe-1],255&et,et>>16,Ie,_e+(2*qe-1)*E),b(T[D+2*qe-0],255&Ze,Ze>>16,Ie,_e+(2*qe-0)*E),P!=null&&(et=Ut+Lt>>1,Ze=Qe+kn>>1,b(P[O+2*qe-1],255&et,et>>16,Me,Pe+(2*qe-1)*E),b(P[O+2*qe+0],255&Ze,Ze>>16,Me,Pe+(2*qe+0)*E)),Ze=Wt,Lt=kn}1&Ge||(et=3*Ze+Lt+131074>>2,b(T[D+Ge-1],255&et,et>>16,Ie,_e+(Ge-1)*E),P!=null&&(et=3*Lt+Ze+131074>>2,b(P[O+Ge-1],255&et,et>>16,Me,Pe+(Ge-1)*E)))}}function bl(){Mi[ru]=Xa,Mi[Bi]=Is,Mi[au]=uc,Mi[Lo]=fu,Mi[Nl]=wa,Mi[Ls]=Ar,Mi[ba]=Aa,Mi[Cl]=Is,Mi[su]=fu,Mi[Rs]=wa,Mi[lu]=Ar}function ws(m){return m&-16384?0>m?0:255:m>>du}function gr(m,b){return ws((19077*m>>8)+(26149*b>>8)-14234)}function $o(m,b,E){return ws((19077*m>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function Va(m,b){return ws((19077*m>>8)+(33050*b>>8)-17685)}function Gr(m,b,E,T,D){T[D+0]=gr(m,E),T[D+1]=$o(m,b,E),T[D+2]=Va(m,b)}function wi(m,b,E,T,D){T[D+0]=Va(m,b),T[D+1]=$o(m,b,E),T[D+2]=gr(m,E)}function ma(m,b,E,T,D){var P=$o(m,b,E);b=P<<3&224|Va(m,b)>>3,T[D+0]=248&gr(m,E)|P>>5,T[D+1]=b}function va(m,b,E,T,D){var P=240&Va(m,b)|15;T[D+0]=240&gr(m,E)|$o(m,b,E)>>4,T[D+1]=P}function As(m,b,E,T,D){T[D+0]=255,Gr(m,b,E,T,D+1)}function mr(m,b,E,T,D){wi(m,b,E,T,D),T[D+3]=255}function Ki(m,b,E,T,D){Gr(m,b,E,T,D),T[D+3]=255}function Vr(m,b,E){G[m]=function(T,D,P,O,H,V,Q,he,xe){for(var Z=he+(-2&xe)*E;he!=Z;)b(T[D+0],P[O+0],H[V+0],Q,he),b(T[D+1],P[O+0],H[V+0],Q,he+E),D+=2,++O,++V,he+=2*E;1&xe&&b(T[D+0],P[O+0],H[V+0],Q,he)}}function xs(m,b,E){return E==0?m==0?b==0?6:5:b==0?4:0:E}function Sl(m,b,E,T,D){switch(m>>>30){case 3:Xr(b,E,T,D,0);break;case 2:Oi(b,E,T,D);break;case 1:cn(b,E,T,D)}}function vo(m,b){var E,T,D=b.M,P=b.Nb,O=m.oc,H=m.pc+40,V=m.oc,Q=m.pc+584,he=m.oc,xe=m.pc+600;for(E=0;16>E;++E)O[H+32*E-1]=129;for(E=0;8>E;++E)V[Q+32*E-1]=129,he[xe+32*E-1]=129;for(0<D?O[H-1-32]=V[Q-1-32]=he[xe-1-32]=129:(a(O,H-32-1,127,21),a(V,Q-32-1,127,9),a(he,xe-32-1,127,9)),T=0;T<m.za;++T){var Z=b.ya[b.aa+T];if(0<T){for(E=-1;16>E;++E)o(O,H+32*E-4,O,H+32*E+12,4);for(E=-1;8>E;++E)o(V,Q+32*E-4,V,Q+32*E+4,4),o(he,xe+32*E-4,he,xe+32*E+4,4)}var ge=m.Gd,Se=m.Hd+T,Ie=Z.ad,_e=Z.Hc;if(0<D&&(o(O,H-32,ge[Se].y,0,16),o(V,Q-32,ge[Se].f,0,8),o(he,xe-32,ge[Se].ea,0,8)),Z.Za){var Me=O,Pe=H-32+16;for(0<D&&(T>=m.za-1?a(Me,Pe,ge[Se].y[15],4):o(Me,Pe,ge[Se+1].y,0,4)),E=0;4>E;E++)Me[Pe+128+E]=Me[Pe+256+E]=Me[Pe+384+E]=Me[Pe+0+E];for(E=0;16>E;++E,_e<<=2)Me=O,Pe=H+ti[E],Vn[Z.Ob[E]](Me,Pe),Sl(_e,Ie,16*+E,Me,Pe)}else if(Me=xs(T,D,Z.Ob[0]),Xi[Me](O,H),_e!=0)for(E=0;16>E;++E,_e<<=2)Sl(_e,Ie,16*+E,O,H+ti[E]);for(E=Z.Gc,Me=xs(T,D,Z.Dd),ir[Me](V,Q),ir[Me](he,xe),_e=Ie,Me=V,Pe=Q,255&(Z=0|E)&&(170&Z?No(_e,256,Me,Pe):on(_e,256,Me,Pe)),Z=he,_e=xe,255&(E>>=8)&&(170&E?No(Ie,320,Z,_e):on(Ie,320,Z,_e)),D<m.Ub-1&&(o(ge[Se].y,0,O,H+480,16),o(ge[Se].f,0,V,Q+224,8),o(ge[Se].ea,0,he,xe+224,8)),E=8*P*m.B,ge=m.sa,Se=m.ta+16*T+16*P*m.R,Ie=m.qa,Z=m.ra+8*T+E,_e=m.Ha,Me=m.Ia+8*T+E,E=0;16>E;++E)o(ge,Se+E*m.R,O,H+32*E,16);for(E=0;8>E;++E)o(Ie,Z+E*m.B,V,Q+32*E,8),o(_e,Me+E*m.B,he,xe+32*E,8)}}function er(m,b,E,T,D,P,O,H,V){var Q=[0],he=[0],xe=0,Z=V!=null?V.kd:0,ge=V??new He;if(m==null||12>E)return 7;ge.data=m,ge.w=b,ge.ha=E,b=[b],E=[E],ge.gb=[ge.gb];e:{var Se=b,Ie=E,_e=ge.gb;if(e(m!=null),e(Ie!=null),e(_e!=null),_e[0]=0,12<=Ie[0]&&!n(m,Se[0],"RIFF")){if(n(m,Se[0]+8,"WEBP")){_e=3;break e}var Me=rt(m,Se[0]+4);if(12>Me||4294967286<Me){_e=3;break e}if(Z&&Me>Ie[0]-8){_e=7;break e}_e[0]=Me,Se[0]+=12,Ie[0]-=12}_e=0}if(_e!=0)return _e;for(Me=0<ge.gb[0],E=E[0];;){e:{var Pe=m;Ie=b,_e=E;var Ge=Q,qe=he,it=Se=[0];if((et=xe=[xe])[0]=0,8>_e[0])_e=7;else{if(!n(Pe,Ie[0],"VP8X")){if(rt(Pe,Ie[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var Ze=rt(Pe,Ie[0]+8),Lt=1+We(Pe,Ie[0]+12);if(2147483648<=Lt*(Pe=1+We(Pe,Ie[0]+15))){_e=3;break e}it!=null&&(it[0]=Ze),Ge!=null&&(Ge[0]=Lt),qe!=null&&(qe[0]=Pe),Ie[0]+=18,_e[0]-=18,et[0]=1}_e=0}}if(xe=xe[0],Se=Se[0],_e!=0)return _e;if(Ie=!!(2&Se),!Me&&xe)return 3;if(P!=null&&(P[0]=!!(16&Se)),O!=null&&(O[0]=Ie),H!=null&&(H[0]=0),O=Q[0],Se=he[0],xe&&Ie&&V==null){_e=0;break}if(4>E){_e=7;break}if(Me&&xe||!Me&&!xe&&!n(m,b[0],"ALPH")){E=[E],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ze=m,_e=b,Me=E;var et=ge.gb;Ge=ge.na,qe=ge.P,it=ge.Sa,Lt=22,e(Ze!=null),e(Me!=null),Pe=_e[0];var Wt=Me[0];for(e(Ge!=null),e(it!=null),Ge[0]=null,qe[0]=null,it[0]=0;;){if(_e[0]=Pe,Me[0]=Wt,8>Wt){_e=7;break e}var kn=rt(Ze,Pe+4);if(4294967286<kn){_e=3;break e}var Ut=8+kn+1&-2;if(Lt+=Ut,0<et&&Lt>et){_e=3;break e}if(!n(Ze,Pe,"VP8 ")||!n(Ze,Pe,"VP8L")){_e=0;break e}if(Wt[0]<Ut){_e=7;break e}n(Ze,Pe,"ALPH")||(Ge[0]=Ze,qe[0]=Pe+8,it[0]=kn),Pe+=Ut,Wt-=Ut}}if(E=E[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],_e!=0)break}E=[E],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(et=m,_e=b,Me=E,Ge=ge.gb[0],qe=ge.Ja,it=ge.xa,Ze=_e[0],Pe=!n(et,Ze,"VP8 "),Lt=!n(et,Ze,"VP8L"),e(et!=null),e(Me!=null),e(qe!=null),e(it!=null),8>Me[0])_e=7;else{if(Pe||Lt){if(et=rt(et,Ze+4),12<=Ge&&et>Ge-12){_e=3;break e}if(Z&&et>Me[0]-8){_e=7;break e}qe[0]=et,_e[0]+=8,Me[0]-=8,it[0]=Lt}else it[0]=5<=Me[0]&&et[Ze+0]==47&&!(et[Ze+4]>>5),qe[0]=Me[0];_e=0}if(E=E[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],b=b[0],_e!=0)break;if(4294967286<ge.Ja)return 3;if(H==null||Ie||(H[0]=ge.xa?2:1),O=[O],Se=[Se],ge.xa){if(5>E){_e=7;break}H=O,Z=Se,Ie=P,m==null||5>E?m=0:5<=E&&m[b+0]==47&&!(m[b+4]>>5)?(Me=[0],et=[0],Ge=[0],we(qe=new z,m,b,E),cr(qe,Me,et,Ge)?(H!=null&&(H[0]=Me[0]),Z!=null&&(Z[0]=et[0]),Ie!=null&&(Ie[0]=Ge[0]),m=1):m=0):m=0}else{if(10>E){_e=7;break}H=Se,m==null||10>E||!ul(m,b+3,E-3)?m=0:(Z=m[b+0]|m[b+1]<<8|m[b+2]<<16,Ie=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ge.Ja||!Ie||!m?m=0:(O&&(O[0]=Ie),H&&(H[0]=m),m=1))}if(!m||(O=O[0],Se=Se[0],xe&&(Q[0]!=O||he[0]!=Se)))return 3;V!=null&&(V[0]=ge,V.offset=b-V.w,e(4294967286>b-V.w),e(V.offset==V.ha-E));break}return _e==0||_e==7&&xe&&V==null?(P!=null&&(P[0]|=ge.na!=null&&0<ge.na.length),T!=null&&(T[0]=O),D!=null&&(D[0]=Se),0):_e}function Yr(m,b,E){var T=b.width,D=b.height,P=0,O=0,H=T,V=D;if(b.Da=m!=null&&0<m.Da,b.Da&&(H=m.cd,V=m.bd,P=m.v,O=m.j,11>E||(P&=-2,O&=-2),0>P||0>O||0>=H||0>=V||P+H>T||O+V>D))return 0;if(b.v=P,b.j=O,b.va=P+H,b.o=O+V,b.U=H,b.T=V,b.da=m!=null&&0<m.da,b.da){if(!bt(H,V,E=[m.ib],P=[m.hb]))return 0;b.ib=E[0],b.hb=P[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*T/4&&b.hb<3*D/4,b.Kb=0),1}function _l(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function tr(m,b,E,T){if(T==null||0>=m||0>=b)return 2;if(E!=null){if(E.Da){var D=E.cd,P=E.bd,O=-2&E.v,H=-2&E.j;if(0>O||0>H||0>=D||0>=P||O+D>m||H+P>b)return 2;m=D,b=P}if(E.da){if(!bt(m,b,D=[E.ib],P=[E.hb]))return 2;m=D[0],b=P[0]}}T.width=m,T.height=b;e:{var V=T.width,Q=T.height;if(m=T.S,0>=V||0>=Q||!(m>=ru&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){O=P=D=b=0;var he=(H=V*pu[m])*Q;if(11>m||(P=(Q+1)/2*(b=(V+1)/2),m==12&&(O=(D=V)*Q)),(Q=s(he+2*P+O))==null){m=1;break e}T.sd=Q,11>m?((V=T.f.RGBA).eb=Q,V.fb=0,V.A=H,V.size=he):((V=T.f.kb).y=Q,V.O=0,V.fa=H,V.Fd=he,V.f=Q,V.N=0+he,V.Ab=b,V.Cd=P,V.ea=Q,V.W=0+he+P,V.Db=b,V.Ed=P,m==12&&(V.F=Q,V.J=0+he+2*P),V.Tc=O,V.lb=D)}if(b=1,D=T.S,P=T.width,O=T.height,D>=ru&&13>D)if(11>D)m=T.f.RGBA,b&=(H=Math.abs(m.A))*(O-1)+P<=m.size,b&=H>=P*pu[D],b&=m.eb!=null;else{m=T.f.kb,H=(P+1)/2,he=(O+1)/2,V=Math.abs(m.fa),Q=Math.abs(m.Ab);var xe=Math.abs(m.Db),Z=Math.abs(m.lb),ge=Z*(O-1)+P;b&=V*(O-1)+P<=m.Fd,b&=Q*(he-1)+H<=m.Cd,b=(b&=xe*(he-1)+H<=m.Ed)&V>=P&Q>=H&xe>=H,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,D==12&&(b&=Z>=P,b&=ge<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||E!=null&&E.fd&&(m=_l(T)),m}var ya=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,vr=32,yr=8,Jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),G.Predictor0=function(){return 4278190080},G.Predictor1=function(m){return m},G.Predictor2=function(m,b,E){return b[E+0]},G.Predictor3=function(m,b,E){return b[E+1]},G.Predictor4=function(m,b,E){return b[E-1]},G.Predictor5=function(m,b,E){return dt(dt(m,b[E+1]),b[E+0])},G.Predictor6=function(m,b,E){return dt(m,b[E-1])},G.Predictor7=function(m,b,E){return dt(m,b[E+0])},G.Predictor8=function(m,b,E){return dt(b[E-1],b[E+0])},G.Predictor9=function(m,b,E){return dt(b[E+0],b[E+1])},G.Predictor10=function(m,b,E){return dt(dt(m,b[E-1]),dt(b[E+0],b[E+1]))},G.Predictor11=function(m,b,E){var T=b[E+0];return 0>=Mt(T>>24&255,m>>24&255,(b=b[E-1])>>24&255)+Mt(T>>16&255,m>>16&255,b>>16&255)+Mt(T>>8&255,m>>8&255,b>>8&255)+Mt(255&T,255&m,255&b)?T:m},G.Predictor12=function(m,b,E){var T=b[E+0];return(Dt((m>>24&255)+(T>>24&255)-((b=b[E-1])>>24&255))<<24|Dt((m>>16&255)+(T>>16&255)-(b>>16&255))<<16|Dt((m>>8&255)+(T>>8&255)-(b>>8&255))<<8|Dt((255&m)+(255&T)-(255&b)))>>>0},G.Predictor13=function(m,b,E){var T=b[E-1];return(Jt((m=dt(m,b[E+0]))>>24&255,T>>24&255)<<24|Jt(m>>16&255,T>>16&255)<<16|Jt(m>>8&255,T>>8&255)<<8|Jt(255&m,255&T))>>>0};var Es=G.PredictorAdd0;G.PredictorAdd1=jt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Ts=G.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var $n,nu=G.ColorIndexInverseTransform,br=G.MapARGB,Sr=G.VP8LColorIndexInverseTransformAlpha,Ci=G.MapAlpha,jr=G.VP8LPredictorsAdd=[];jr.length=16,(G.VP8LPredictors=[]).length=16,(G.VP8LPredictorsAdd_C=[]).length=16,(G.VP8LPredictors_C=[]).length=16;var Ns,Cs,Kr,Wr,_r,Ya,yo,Xr,Oi,No,cn,on,Nn,ei,wr,nr,Ja,wl,oc,ef,tf,nf,rc,ac,ja,Co,Al,bo,Ka=s(511),iu=s(2041),xl=s(225),El=s(767),ou=0,Zr=iu,Tl=xl,Fi=El,Li=Ka,ru=0,Bi=1,au=2,Lo=3,Nl=4,Ls=5,ba=6,Cl=7,su=8,Rs=9,lu=10,Ro=[2,3,7],Ms=[3,3,11],Wa=[280,256,256,256,40],uu=[0,1,1,1,0],Ll=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Io=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sa=8,ko=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Do=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],So=null,of=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ri=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],In=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xi=[],Vn=[],ir=[],_a=1,lc=2,Qr=[],Mi=[];zr("UpsampleRgbLinePair",Gr,3),zr("UpsampleBgrLinePair",wi,3),zr("UpsampleRgbaLinePair",Ki,4),zr("UpsampleBgraLinePair",mr,4),zr("UpsampleArgbLinePair",As,4),zr("UpsampleRgba4444LinePair",va,2),zr("UpsampleRgb565LinePair",ma,2);var Xa=G.UpsampleRgbLinePair,uc=G.UpsampleBgrLinePair,Is=G.UpsampleRgbaLinePair,fu=G.UpsampleBgraLinePair,wa=G.UpsampleArgbLinePair,Ar=G.UpsampleRgba4444LinePair,Aa=G.UpsampleRgb565LinePair,Po=16,ks=1<<Po-1,Za=-227,xa=482,du=6,Ea=0,Ii=s(256),hu=s(256),af=s(256),Pd=s(256),Ud=s(xa-Za),Od=s(xa-Za);Vr("YuvToRgbRow",Gr,3),Vr("YuvToBgrRow",wi,3),Vr("YuvToRgbaRow",Ki,4),Vr("YuvToBgraRow",mr,4),Vr("YuvToArgbRow",As,4),Vr("YuvToRgba4444Row",va,2),Vr("YuvToRgb565Row",ma,2);var ti=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ds=[0,2,8],Rl=[8,7,6,4,4,2,2,2,1,1,1,1],Ml=1;this.WebPDecodeRGBA=function(m,b,E,T,D){var P=Bi,O=new De,H=new Bt;O.ba=H,H.S=P,H.width=[H.width],H.height=[H.height];var V=H.width,Q=H.height,he=new ct;if(he==null||m==null)var xe=2;else e(he!=null),xe=er(m,b,E,he.width,he.height,he.Pd,he.Qd,he.format,null);if(xe!=0?V=0:(V!=null&&(V[0]=he.width[0]),Q!=null&&(Q[0]=he.height[0]),V=1),V){H.width=H.width[0],H.height=H.height[0],T!=null&&(T[0]=H.width),D!=null&&(D[0]=H.height);e:{if(T=new kr,(D=new He).data=m,D.w=b,D.ha=E,D.kd=1,b=[0],e(D!=null),((m=er(D.data,D.w,D.ha,null,null,null,b,null,D))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(O!=null),T.data=D.data,T.w=D.w+D.offset,T.ha=D.ha-D.offset,T.put=ht,T.ac=Ao,T.bc=Mr,T.ma=O,D.xa){if((m=Ua())==null){O=1;break e}if((function(Z,ge){var Se=[0],Ie=[0],_e=[0];t:for(;;){if(Z==null)return 0;if(ge==null)return Z.a=2,0;if(Z.l=ge,Z.a=0,we(Z.m,ge.data,ge.w,ge.ha),!cr(Z.m,Se,Ie,_e)){Z.a=3;break t}if(Z.xb=lc,ge.width=Se[0],ge.height=Ie[0],!Vo(Se[0],Ie[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(m,T)){if(T=(b=tr(T.width,T.height,O.Oa,O.ba))==0){t:{T=m;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((E=T.l)!=null),e((D=E.ma)!=null),T.xb!=0){if(T.ca=D.ba,T.tb=D.tb,e(T.ca!=null),!Yr(D.Oa,E,Lo)){T.a=2;break n}if(!Yo(T,E.width)||E.da)break n;if((E.da||xt(T.ca.S))&&Qo(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Qo()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!W(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!fo(T,T.V,T.Ba,T.c,T.i,E.o,Yi))break n;D.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(b=m.a)}else b=m.a}else{if((m=new Wo)==null){O=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,dr(m,T)){if((b=tr(T.width,T.height,O.Oa,O.ba))==0){if(m.Aa=0,E=O.Oa,e((D=m)!=null),E!=null){if(0<(V=0>(V=E.Md)?0:100<V?255:255*V/100)){for(Q=he=0;4>Q;++Q)12>(xe=D.pb[Q]).lc&&(xe.ia=V*Rl[0>xe.lc?0:xe.lc]>>3),he|=xe.ia;he&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=E.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(Z,ge){if(Z==null)return 0;if(ge==null)return un(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!dr(Z,ge))return 0;if(e(Z.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(Z.L=0);var Se=Ds[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ge.v-Se>>4,Z.zb=ge.j-Se>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ge.o+15+Se>>4,Z.Hb=ge.va+15+Se>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Ie=Z.ed;for(Se=0;4>Se;++Se){var _e;if(Z.Qa.Cb){var Me=Z.Qa.Lb[Se];Z.Qa.Fb||(Me+=Ie.Tb)}else Me=Ie.Tb;for(_e=0;1>=_e;++_e){var Pe=Z.gd[Se][_e],Ge=Me;if(Ie.Pc&&(Ge+=Ie.vd[0],_e&&(Ge+=Ie.od[0])),0<(Ge=0>Ge?0:63<Ge?63:Ge)){var qe=Ge;0<Ie.wb&&(qe=4<Ie.wb?qe>>2:qe>>1)>9-Ie.wb&&(qe=9-Ie.wb),1>qe&&(qe=1),Pe.dd=qe,Pe.tc=2*Ge+qe,Pe.ld=40<=Ge?2:15<=Ge?1:0}else Pe.tc=0;Pe.La=_e}}}Se=0}else un(Z,6,"Frame setup failed"),Se=Z.a;if(Se=Se==0){if(Se){Z.$c=0,0<Z.Aa||(Z.Ic=Ml);t:{Se=Z.Ic,Ie=4*(qe=Z.za);var it=32*qe,Ze=qe+1,Lt=0<Z.L?qe*(0<Z.Aa?2:1):0,et=(Z.Aa==2?2:1)*qe;if((Pe=Ie+832+(_e=3*(16*Se+Ds[Z.L])/2*it)+(Me=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Pe)Se=0;else{if(Pe>Z.Vb){if(Z.Vb=0,Z.Ec=s(Pe),Z.Fc=0,Z.Ec==null){Se=un(Z,1,"no memory during frame initialization.");break t}Z.Vb=Pe}Pe=Z.Ec,Ge=Z.Fc,Z.Ac=Pe,Z.Bc=Ge,Ge+=Ie,Z.Gd=u(it,ll),Z.Hd=0,Z.rb=u(Ze+1,Ko),Z.sb=1,Z.wa=Lt?u(Lt,ho):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=qe),e(!0),Z.oc=Pe,Z.pc=Ge,Ge+=832,Z.ya=u(et,al),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=qe),Z.R=16*qe,Z.B=8*qe,qe=(it=Ds[Z.L])*Z.R,it=it/2*Z.B,Z.sa=Pe,Z.ta=Ge+qe,Z.qa=Z.sa,Z.ra=Z.ta+16*Se*Z.R+it,Z.Ha=Z.qa,Z.Ia=Z.ra+8*Se*Z.B+it,Z.$c=0,Ge+=_e,Z.mb=Me?Pe:null,Z.nb=Me?Ge:null,e(Ge+Me<=Z.Fc+Z.Vb),cl(Z),a(Z.Ac,Z.Bc,0,Ie),Se=1}}if(Se){if(ge.ka=0,ge.y=Z.sa,ge.O=Z.ta,ge.f=Z.qa,ge.N=Z.ra,ge.ea=Z.Ha,ge.Vd=Z.Ia,ge.fa=Z.R,ge.Rc=Z.B,ge.F=null,ge.J=0,!ou){for(Se=-255;255>=Se;++Se)Ka[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)iu[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)xl[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)El[255+Se]=0>Se?0:255<Se?255:Se;ou=1}yo=Xo,Xr=fl,No=ji,cn=dl,on=hl,Oi=jl,Nn=eu,ei=qr,wr=k,nr=ee,Ja=tu,wl=x,oc=fe,ef=ye,tf=Ur,nf=Or,rc=Ga,ac=yl,Vn[0]=Ql,Vn[1]=Kl,Vn[2]=Zl,Vn[3]=ml,Vn[4]=go,Vn[5]=vl,Vn[6]=Ti,Vn[7]=qa,Vn[8]=Ha,Vn[9]=mo,Xi[0]=Zo,Xi[1]=pl,Xi[2]=gl,Xi[3]=Xl,Xi[4]=Dr,Xi[5]=Ba,Xi[6]=ga,ir[0]=bs,ir[1]=Wl,ir[2]=hr,ir[3]=$l,ir[4]=_i,ir[5]=Ss,ir[6]=pr,Se=1}else Se=0}Se&&(Se=(function(Wt,kn){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var Ut,Qe=Wt.Jc[Wt.M&Wt.Xb],Je=Wt.m,Bn=Wt;for(Ut=0;Ut<Bn.za;++Ut){var At=Je,qt=Bn,gn=qt.Ac,gi=qt.Bc+4*Ut,ki=qt.zc,Cn=qt.ya[qt.aa+Ut];if(qt.Qa.Bb?Cn.$b=Ue(At,qt.Pa.jb[0])?2+Ue(At,qt.Pa.jb[2]):Ue(At,qt.Pa.jb[1]):Cn.$b=0,qt.kc&&(Cn.Ad=Ue(At,qt.Bd)),Cn.Za=!Ue(At,145)+0,Cn.Za){var ai=Cn.Ob,qi=0;for(qt=0;4>qt;++qt){var si,Vt=ki[0+qt];for(si=0;4>si;++si){Vt=Ri[gn[gi+si]][Vt];for(var an=cu[Ue(At,Vt[0])];0<an;)an=cu[2*an+Ue(At,Vt[an])];Vt=-an,gn[gi+si]=Vt}o(ai,qi,gn,gi,4),qi+=4,ki[0+qt]=Vt}}else Vt=Ue(At,156)?Ue(At,128)?1:3:Ue(At,163)?2:0,Cn.Ob[0]=Vt,a(gn,gi,Vt,4),a(ki,0,Vt,4);Cn.Dd=Ue(At,142)?Ue(At,114)?Ue(At,183)?1:3:2:0}if(Bn.m.Ka)return un(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(Bn=Qe,At=(Je=Wt).rb[Je.sb-1],gn=Je.rb[Je.sb+Je.ja],Ut=Je.ya[Je.aa+Je.ja],gi=Je.kc?Ut.Ad:0)At.la=gn.la=0,Ut.Za||(At.Na=gn.Na=0),Ut.Hc=0,Ut.Gc=0,Ut.ia=0;else{var qn,fn;if(At=gn,gn=Bn,gi=Je.Pa.Xc,ki=Je.ya[Je.aa+Je.ja],Cn=Je.pb[ki.$b],qt=ki.ad,ai=0,qi=Je.rb[Je.sb-1],Vt=si=0,a(qt,ai,0,384),ki.Za)var mi=0,Hn=gi[3];else{an=s(16);var sn=At.Na+qi.Na;if(sn=So(gn,gi[1],sn,Cn.Eb,0,an,0),At.Na=qi.Na=(0<sn)+0,1<sn)yo(an,0,qt,ai);else{var ni=an[0]+3>>3;for(an=0;256>an;an+=16)qt[ai+an]=ni}mi=1,Hn=gi[0]}var mn=15&At.la,li=15&qi.la;for(an=0;4>an;++an){var ui=1&li;for(ni=fn=0;4>ni;++ni)mn=mn>>1|(ui=(sn=So(gn,Hn,sn=ui+(1&mn),Cn.Sc,mi,qt,ai))>mi)<<7,fn=fn<<2|(3<sn?3:1<sn?2:qt[ai+0]!=0),ai+=16;mn>>=4,li=li>>1|ui<<7,si=(si<<8|fn)>>>0}for(Hn=mn,mi=li>>4,qn=0;4>qn;qn+=2){for(fn=0,mn=At.la>>4+qn,li=qi.la>>4+qn,an=0;2>an;++an){for(ui=1&li,ni=0;2>ni;++ni)sn=ui+(1&mn),mn=mn>>1|(ui=0<(sn=So(gn,gi[2],sn,Cn.Qc,0,qt,ai)))<<3,fn=fn<<2|(3<sn?3:1<sn?2:qt[ai+0]!=0),ai+=16;mn>>=2,li=li>>1|ui<<5}Vt|=fn<<4*qn,Hn|=mn<<4<<qn,mi|=(240&li)<<qn}At.la=Hn,qi.la=mi,ki.Hc=si,ki.Gc=Vt,ki.ia=43690&Vt?0:Cn.ia,gi=!(si|Vt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Ut.$b][Ut.Za],Je.wa[Je.Y+Je.ja].La|=!gi),Bn.Ka)return un(Wt,7,"Premature end-of-file encountered.")}if(cl(Wt),Je=kn,Bn=1,Ut=(Qe=Wt).D,At=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(Ut.M=Qe.M,Ut.uc=At,vo(Qe,Ut),Bn=1,Ut=(fn=Qe.D).Nb,At=(Vt=Ds[Qe.L])*Qe.R,gn=Vt/2*Qe.B,an=16*Ut*Qe.R,ni=8*Ut*Qe.B,gi=Qe.sa,ki=Qe.ta-At+an,Cn=Qe.qa,qt=Qe.ra-gn+ni,ai=Qe.Ha,qi=Qe.Ia-gn+ni,li=(mn=fn.M)==0,si=mn>=Qe.Va-1,Qe.Aa==2&&vo(Qe,fn),fn.uc)for(ui=(sn=Qe).D.M,e(sn.D.uc),fn=sn.yb;fn<sn.Hb;++fn){mi=fn,Hn=ui;var Sn=(rn=(ci=sn).D).Nb;qn=ci.R;var rn=rn.wa[rn.Y+mi],Hi=ci.sa,Yn=ci.ta+16*Sn*qn+16*mi,pt=rn.dd,vt=rn.tc;if(vt!=0)if(e(3<=vt),ci.L==1)0<mi&&nf(Hi,Yn,qn,vt+4),rn.La&&ac(Hi,Yn,qn,vt),0<Hn&&tf(Hi,Yn,qn,vt+4),rn.La&&rc(Hi,Yn,qn,vt);else{var ln=ci.B,no=ci.qa,Uo=ci.ra+8*Sn*ln+8*mi,Zi=ci.Ha,ci=ci.Ia+8*Sn*ln+8*mi;Sn=rn.ld,0<mi&&(ei(Hi,Yn,qn,vt+4,pt,Sn),nr(no,Uo,Zi,ci,ln,vt+4,pt,Sn)),rn.La&&(wl(Hi,Yn,qn,vt,pt,Sn),ef(no,Uo,Zi,ci,ln,vt,pt,Sn)),0<Hn&&(Nn(Hi,Yn,qn,vt+4,pt,Sn),wr(no,Uo,Zi,ci,ln,vt+4,pt,Sn)),rn.La&&(Ja(Hi,Yn,qn,vt,pt,Sn),oc(no,Uo,Zi,ci,ln,vt,pt,Sn))}}if(Qe.ia&&alert("todo:DitherRow"),Je.put!=null){if(fn=16*mn,mn=16*(mn+1),li?(Je.y=Qe.sa,Je.O=Qe.ta+an,Je.f=Qe.qa,Je.N=Qe.ra+ni,Je.ea=Qe.Ha,Je.W=Qe.Ia+ni):(fn-=Vt,Je.y=gi,Je.O=ki,Je.f=Cn,Je.N=qt,Je.ea=ai,Je.W=qi),si||(mn-=Vt),mn>Je.o&&(mn=Je.o),Je.F=null,Je.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&fn<mn&&(Je.J=Tn(Qe,Je,fn,mn-fn),Je.F=Qe.mb,Je.F==null&&Je.F.length==0)){Bn=un(Qe,3,"Could not decode alpha data.");break t}fn<Je.j&&(Vt=Je.j-fn,fn=Je.j,e(!(1&Vt)),Je.O+=Qe.R*Vt,Je.N+=Qe.B*(Vt>>1),Je.W+=Qe.B*(Vt>>1),Je.F!=null&&(Je.J+=Je.width*Vt)),fn<mn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=fn-Je.j,Je.U=Je.va-Je.v,Je.T=mn-fn,Bn=Je.put(Je))}Ut+1!=Qe.Ic||si||(o(Qe.sa,Qe.ta-At,gi,ki+16*Qe.R,At),o(Qe.qa,Qe.ra-gn,Cn,qt+8*Qe.B,gn),o(Qe.Ha,Qe.Ia-gn,ai,qi+8*Qe.B,gn))}if(!Bn)return un(Wt,6,"Output aborted.")}return 1})(Z,ge)),ge.bc!=null&&ge.bc(ge),Se&=1}return Se?(Z.cb=0,Se):0})(m,T)||(b=m.a)}}else b=m.a}b==0&&O.Oa!=null&&O.Oa.fd&&(b=_l(O.ba))}O=b}P=O!=0?null:11>P?H.f.RGBA.eb:H.f.kb.y}else P=null;return P};var pu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(G,te){for(var U="",Y=0;Y<4;Y++)U+=String.fromCharCode(G[te++]);return U}function g(G,te){return G[te+0]|G[te+1]<<8}function _(G,te){return(G[te+0]|G[te+1]<<8|G[te+2]<<16)>>>0}function A(G,te){return(G[te+0]|G[te+1]<<8|G[te+2]<<16|G[te+3]<<24)>>>0}new h;var S=[0],C=[0],I=[],M=new h,R=t,j=(function(G,te){var U={},Y=0,se=!1,oe=0,Ae=0;if(U.frames=[],!(function(L,z){for(var K=0;K<4;K++)if(L[z+K]!="RIFF".charCodeAt(K))return!0;return!1})(G,te)){for(A(G,te+=4),te+=8;te<G.length;){var ne=f(G,te),ae=A(G,te+=4);te+=4;var ue=ae+(1&ae);switch(ne){case"VP8 ":case"VP8L":U.frames[Y]===void 0&&(U.frames[Y]={}),(J=U.frames[Y]).src_off=se?Ae:te-8,J.src_size=oe+ae+8,Y++,se&&(se=!1,oe=0,Ae=0);break;case"VP8X":(J=U.header={}).feature_flags=G[te];var we=te+4;J.canvas_width=1+_(G,we),we+=3,J.canvas_height=1+_(G,we),we+=3;break;case"ALPH":se=!0,oe=ue+8,Ae=te-8;break;case"ANIM":(J=U.header).bgcolor=A(G,te),we=te+4,J.loop_count=g(G,we),we+=2;break;case"ANMF":var Oe,J;(J=U.frames[Y]={}).offset_x=2*_(G,te),te+=3,J.offset_y=2*_(G,te),te+=3,J.width=1+_(G,te),te+=3,J.height=1+_(G,te),te+=3,J.duration=_(G,te),te+=3,Oe=G[te++],J.dispose=1&Oe,J.blend=Oe>>1&1}ne!="ANMF"&&(te+=ue)}return U}})(R,0);j.response=R,j.rgbaoutput=!0,j.dataurl=!1;var q=j.header?j.header:null,B=j.frames?j.frames:null;if(q){q.loop_counter=q.loop_count,S=[q.canvas_height],C=[q.canvas_width];for(var X=0;X<B.length&&B[X].blend!=0;X++);}var ve=B[0],de=M.WebPDecodeRGBA(R,ve.src_off,ve.src_size,C,S);ve.rgba=de,ve.imgwidth=C[0],ve.imgheight=S[0];for(var re=0;re<C[0]*S[0]*4;re++)I[re]=de[re];return this.width=C,this.height=S,this.data=I,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function h6(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function p6(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,o,a,s,u,c,h,f,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,f=new g}]);var _=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(W){K=!!W}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(W){ie=!!W}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(W){isNaN(W)||(ce=W)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(W){isNaN(W)||(me=W)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(W){var je;typeof W=="number"?je=[W,W,W,W]:((je=new Array(4))[0]=W[0],je[1]=W.length>=2?W[1]:je[0],je[2]=W.length>=3?W[2]:je[0],je[3]=W.length>=4?W[3]:je[1]),f.margin=je}});var Le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Le},set:function(W){Le=W}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(W){Ne=W}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(W){Ue=W}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(W){W instanceof g&&(f=W)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(W){f.path=W}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(W){Ve=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var je;je=A(W),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var je=A(W);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var Ke=null,We=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(W){Ke=null,We=null,rt=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var je;if(this.ctx.font=W,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var Ht=je[1];je[2];var bt=je[3],ze=je[4];je[5];var gt=je[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor($e==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var St=(function(ut){var Xn,Yt,_t=[],Nt=ut.trim();if(Nt==="")return Ap;if(Nt in Cv)return[Cv[Nt]];for(;Nt!=="";){switch(Yt=null,Xn=(Nt=Rv(Nt)).charAt(0)){case'"':case"'":Yt=s6(Nt.substring(1),Xn);break;default:Yt=l6(Nt)}if(Yt===null||(_t.push(Yt[0]),(Nt=Rv(Yt[1]))!==""&&Nt.charAt(0)!==","))return Ap;Nt=Nt.replace(/^,/,"")}return _t})(gt);if(this.fontFaces){var dt=(function(ut,Xn){var Yt=ut.getFontList(),_t=JSON.stringify(Yt);if(Ke===null||We!==_t){var Nt=(function(Kt){var mt=[];return Object.keys(Kt).forEach(function(En){Kt[En].forEach(function(xt){var Ct=null;switch(xt){case"bold":Ct={family:En,weight:"bold"};break;case"italic":Ct={family:En,style:"italic"};break;case"bolditalic":Ct={family:En,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:En}}Ct!==null&&(Ct.ref={name:En,style:xt},mt.push(Ct))})}),mt})(Yt);Ke=(function(Kt){for(var mt={},En=0;En<Kt.length;++En){var xt=wp(Kt[En]),Ct=xt.family,yn=xt.stretch,Bt=xt.style,ct=xt.weight;mt[Ct]=mt[Ct]||{},mt[Ct][yn]=mt[Ct][yn]||{},mt[Ct][yn][Bt]=mt[Ct][yn][Bt]||{},mt[Ct][yn][Bt][ct]=xt}return mt})(Nt.concat(Xn)),We=_t}return Ke})(this.pdf,this.fontFaces),Dt=St.map(function(ut){return{family:ut,stretch:"normal",weight:bt,style:Ht}}),Jt=(function(ut,Xn,Yt){for(var _t=(Yt=Yt||{}).defaultFontFamily||"times",Nt=Object.assign({},a6,Yt.genericFontFamilies||{}),Kt=null,mt=null,En=0;En<Xn.length;++En)if(Nt[(Kt=wp(Xn[En])).family]&&(Kt.family=Nt[Kt.family]),ut.hasOwnProperty(Kt.family)){mt=ut[Kt.family];break}if(!(mt=mt||ut[_t]))throw new Error("Could not find a font-family for the rule '"+Lv(Kt)+"' and default family '"+_t+"'.");if(mt=(function(xt,Ct){if(Ct[xt])return Ct[xt];var yn=i0[xt],Bt=yn<=i0.normal?-1:1,ct=Nv(Ct,D5,yn,Bt);if(!ct)throw new Error("Could not find a matching font-stretch value for "+xt);return ct})(Kt.stretch,mt),mt=(function(xt,Ct){if(Ct[xt])return Ct[xt];for(var yn=k5[xt],Bt=0;Bt<yn.length;++Bt)if(Ct[yn[Bt]])return Ct[yn[Bt]];throw new Error("Could not find a matching font-style for "+xt)})(Kt.style,mt),!(mt=(function(xt,Ct){if(Ct[xt])return Ct[xt];if(xt===400&&Ct[500])return Ct[500];if(xt===500&&Ct[400])return Ct[400];var yn=r6[xt],Bt=Nv(Ct,P5,yn,xt<400?-1:1);if(!Bt)throw new Error("Could not find a matching font-weight for value "+xt);return Bt})(Kt.weight,mt)))throw new Error("Failed to resolve a font for the rule '"+Lv(Kt)+"'.");return mt})(dt,Dt);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Mt="";(bt==="bold"||parseInt(bt,10)>=700||Ht==="bold")&&(Mt="bold"),Ht==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var jt="",zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<St.length;at++){if(this.pdf.internal.getFont(St[at],Mt,{noFallback:!0,disableWarning:!0})!==void 0){jt=St[at];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(St[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=St[at],Mt="bold";else if(this.pdf.internal.getFont(St[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=St[at],Mt="normal";break}}if(jt===""){for(var It=0;It<St.length;It++)if(zt[St[It]]){jt=zt[St[It]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};_.prototype.setLineDash=function(L){this.lineDash=L},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){B.call(this,"fill",!1)},_.prototype.stroke=function(){B.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new u(L,z));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new u(L,z)},_.prototype.closePath=function(){var L=new u(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&xn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new u(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},_.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new u(L,z));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new u(K.x,K.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},_.prototype.quadraticCurveTo=function(L,z,K,ie){if(isNaN(K)||isNaN(ie)||isNaN(L)||isNaN(z))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(K,ie)),me=this.ctx.transform.applyToPoint(new u(L,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},_.prototype.bezierCurveTo=function(L,z,K,ie,ce,me){if(isNaN(ce)||isNaN(me)||isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Le=this.ctx.transform.applyToPoint(new u(ce,me)),Ne=this.ctx.transform.applyToPoint(new u(L,z)),Ue=this.ctx.transform.applyToPoint(new u(K,ie));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Ue.x,y2:Ue.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new u(Le.x,Le.y)},_.prototype.arc=function(L,z,K,ie,ce,me){if(isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie)||isNaN(ce))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Le=this.ctx.transform.applyToPoint(new u(L,z));L=Le.x,z=Le.y;var Ne=this.ctx.transform.applyToPoint(new u(0,K)),Ue=this.ctx.transform.applyToPoint(new u(0,0));K=Math.sqrt(Math.pow(Ne.x-Ue.x,2)+Math.pow(Ne.y-Ue.y,2))}Math.abs(ce-ie)>=2*Math.PI&&(ie=0,ce=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:K,startAngle:ie,endAngle:ce,counterclockwise:me})},_.prototype.arcTo=function(L,z,K,ie,ce){throw new Error("arcTo not implemented.")},_.prototype.rect=function(L,z,K,ie){if(isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+K,z),this.lineTo(L+K,z+ie),this.lineTo(L,z+ie),this.lineTo(L,z),this.lineTo(L+K,z),this.lineTo(L,z)},_.prototype.fillRect=function(L,z,K,ie){if(isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,K,ie),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},_.prototype.strokeRect=function(L,z,K,ie){if(isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(L,z,K,ie),this.stroke())},_.prototype.clearRect=function(L,z,K,ie){if(isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,K,ie))},_.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},_.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(L){var z,K,ie,ce;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,K=0,ie=0,ce=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(me!==null)z=parseInt(me[1]),K=parseInt(me[2]),ie=parseInt(me[3]),ce=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(me[1]),K=parseInt(me[2]),ie=parseInt(me[3]),ce=parseFloat(me[4]);else{if(ce=1,typeof L=="string"&&L.charAt(0)!=="#"){var Le=new T5(L);L=Le.ok?Le.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,K=L.substring(2,3),K+=K,ie=L.substring(3,4),ie+=ie):(z=L.substring(1,3),K=L.substring(3,5),ie=L.substring(5,7)),z=parseInt(z,16),K=parseInt(K,16),ie=parseInt(ie,16)}}return{r:z,g:K,b:ie,a:ce,style:L}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(L,z,K,ie){if(isNaN(z)||isNaN(K)||typeof L!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!S.call(this)){var ce=ue(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;Y.call(this,{text:L,x:z,y:K,scale:me,angle:ce,align:this.textAlign,maxWidth:ie})}},_.prototype.strokeText=function(L,z,K,ie){if(isNaN(z)||isNaN(K)||typeof L!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){ie=isNaN(ie)?void 0:ie;var ce=ue(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;Y.call(this,{text:L,x:z,y:K,scale:me,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ie})}},_.prototype.measureText=function(L){if(typeof L!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,K=this.pdf.internal.scaleFactor,ie=z.internal.getFontSize(),ce=z.getStringUnitWidth(L)*ie/z.internal.scaleFactor;return new function(me){var Le=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this}({width:ce*=Math.round(96*K/72*1e4)/1e4})},_.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new h(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},_.prototype.rotate=function(L){if(isNaN(L))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},_.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new h(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(K)},_.prototype.transform=function(L,z,K,ie,ce,me){if(isNaN(L)||isNaN(z)||isNaN(K)||isNaN(ie)||isNaN(ce)||isNaN(me))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Le=new h(L,z,K,ie,ce,me);this.ctx.transform=this.ctx.transform.multiply(Le)},_.prototype.setTransform=function(L,z,K,ie,ce,me){L=isNaN(L)?1:L,z=isNaN(z)?0:z,K=isNaN(K)?0:K,ie=isNaN(ie)?1:ie,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,this.ctx.transform=new h(L,z,K,ie,ce,me)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(L,z,K,ie,ce,me,Le,Ne,Ue){var Ve=this.pdf.getImageProperties(L),Ke=1,We=1,rt=1,W=1;ie!==void 0&&Ne!==void 0&&(rt=Ne/ie,W=Ue/ce,Ke=Ve.width/ie*Ne/ie,We=Ve.height/ce*Ue/ce),me===void 0&&(me=z,Le=K,z=0,K=0),ie!==void 0&&Ne===void 0&&(Ne=ie,Ue=ce),ie===void 0&&Ne===void 0&&(Ne=Ve.width,Ue=Ve.height);var je=this.ctx.transform.decompose(),Ht=ue(je.rotate.shx),bt=new h,ze=(bt=(bt=(bt=bt.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new c(me-z*rt,Le-K*W,ie*Ke,ce*We));if(this.autoPaging){for(var gt,$e=M.call(this,ze),St=[],dt=0;dt<$e.length;dt+=1)St.indexOf($e[dt])===-1&&St.push($e[dt]);q(St);for(var Dt=St[0],Jt=St[St.length-1],Mt=Dt;Mt<Jt+1;Mt++){this.pdf.setPage(Mt);var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Mt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Mt===1?0:at+(Mt-2)*It;if(this.ctx.clip_path.length!==0){var Xn=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(gt,this.posX+this.margin[3],-ut+zt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Xn}var Yt=JSON.parse(JSON.stringify(ze));Yt=j([Yt],this.posX+this.margin[3],-ut+zt+this.ctx.prevPageLastElemOffset)[0];var _t=(Mt>Dt||Mt<Jt)&&I.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,It,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Ht),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Ht)};var M=function(L,z,K){var ie=[];z=z||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+ce)/K)+1);break;case"arc":ie.push(Math.floor((L.y+ce-L.radius)/K)+1),ie.push(Math.floor((L.y+ce+L.radius)/K)+1);break;case"qct":var me=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((me.y+ce)/K)+1),ie.push(Math.floor((me.y+me.h+ce)/K)+1);break;case"bct":var Le=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((Le.y+ce)/K)+1),ie.push(Math.floor((Le.y+Le.h+ce)/K)+1);break;case"rect":ie.push(Math.floor((L.y+ce)/K)+1),ie.push(Math.floor((L.y+L.h+ce)/K)+1)}for(var Ne=0;Ne<ie.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Ne];)R.call(this);return ie},R=function(){var L=this.fillStyle,z=this.strokeStyle,K=this.font,ie=this.lineCap,ce=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=K,this.lineCap=ie,this.lineWidth=ce,this.lineJoin=me},j=function(L,z,K){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=z,L[ie].y2+=K;case"qct":L[ie].x1+=z,L[ie].y1+=K;default:L[ie].x+=z,L[ie].y+=K}return L},q=function(L){return L.sort(function(z,K){return z-K})},B=function(L,z){var K=this.fillStyle,ie=this.strokeStyle,ce=this.lineCap,me=this.lineWidth,Le=Math.abs(me*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var Ue,Ve,Ke=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),rt=[],W=0;W<We.length;W++)if(We[W].x!==void 0)for(var je=M.call(this,We[W]),Ht=0;Ht<je.length;Ht+=1)rt.indexOf(je[Ht])===-1&&rt.push(je[Ht]);for(var bt=0;bt<rt.length;bt++)for(;this.pdf.internal.getNumberOfPages()<rt[bt];)R.call(this);q(rt);for(var ze=rt[0],gt=rt[rt.length-1],$e=ze;$e<gt+1;$e++){this.pdf.setPage($e),this.fillStyle=K,this.strokeStyle=ie,this.lineCap=ce,this.lineWidth=Le,this.lineJoin=Ne;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=$e===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=$e===1?0:Dt+($e-2)*Jt;if(this.ctx.clip_path.length!==0){var jt=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ue,this.posX+this.margin[3],-Mt+dt+this.ctx.prevPageLastElemOffset),X.call(this,L,!0),this.path=jt}if(Ve=JSON.parse(JSON.stringify(Ke)),this.path=j(Ve,this.posX+this.margin[3],-Mt+dt+this.ctx.prevPageLastElemOffset),z===!1||$e===0){var zt=($e>ze||$e<gt)&&I.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Jt,null).clip().discardPath()),X.call(this,L,z),zt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=Ke}else this.lineWidth=Le,X.call(this,L,z),this.lineWidth=me},X=function(L,z){if((L!=="stroke"||z||!C.call(this))&&(L==="stroke"||z||!S.call(this))){for(var K,ie,ce=[],me=this.path,Le=0;Le<me.length;Le++){var Ne=me[Le];switch(Ne.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Ue=ce.length;if(me[Le-1]&&!isNaN(me[Le-1].x)&&(K=[Ne.x-me[Le-1].x,Ne.y-me[Le-1].y],Ue>0)){for(;Ue>=0;Ue--)if(ce[Ue-1].close!==!0&&ce[Ue-1].begin!==!0){ce[Ue-1].deltas.push(K),ce[Ue-1].abs.push(Ne);break}}break;case"bct":K=[Ne.x1-me[Le-1].x,Ne.y1-me[Le-1].y,Ne.x2-me[Le-1].x,Ne.y2-me[Le-1].y,Ne.x-me[Le-1].x,Ne.y-me[Le-1].y],ce[ce.length-1].deltas.push(K);break;case"qct":var Ve=me[Le-1].x+2/3*(Ne.x1-me[Le-1].x),Ke=me[Le-1].y+2/3*(Ne.y1-me[Le-1].y),We=Ne.x+2/3*(Ne.x1-Ne.x),rt=Ne.y+2/3*(Ne.y1-Ne.y),W=Ne.x,je=Ne.y;K=[Ve-me[Le-1].x,Ke-me[Le-1].y,We-me[Le-1].x,rt-me[Le-1].y,W-me[Le-1].x,je-me[Le-1].y],ce[ce.length-1].deltas.push(K);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ne)}}ie=z?null:L==="stroke"?"stroke":"fill";for(var Ht=!1,bt=0;bt<ce.length;bt++)if(ce[bt].arc)for(var ze=ce[bt].abs,gt=0;gt<ze.length;gt++){var $e=ze[gt];$e.type==="arc"?re.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,z,!Ht):se.call(this,$e.x,$e.y),Ht=!0}else if(ce[bt].close===!0)this.pdf.internal.out("h"),Ht=!1;else if(ce[bt].begin!==!0){var St=ce[bt].start.x,dt=ce[bt].start.y;oe.call(this,ce[bt].deltas,St,dt),Ht=!0}ie&&G.call(this,ie),z&&te.call(this)}},ve=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-K;case"top":return L+z-K;case"hanging":return L+z-2*K;case"middle":return L+z/2-K;default:return L}},de=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,K){this.colorStops.push([z,K])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var re=function(L,z,K,ie,ce,me,Le,Ne,Ue){for(var Ve=ne.call(this,K,ie,ce,me),Ke=0;Ke<Ve.length;Ke++){var We=Ve[Ke];Ke===0&&(Ue?U.call(this,We.x1+L,We.y1+z):se.call(this,We.x1+L,We.y1+z)),Ae.call(this,L,z,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}Ne?te.call(this):G.call(this,Le)},G=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(L,z){this.pdf.internal.out(n(L)+" "+o(z)+" m")},Y=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var K,ie,ce,me=this.pdf.getTextDimensions(L.text),Le=ve.call(this,L.y),Ne=de.call(this,Le)-me.h,Ue=this.ctx.transform.applyToPoint(new u(L.x,Le));if(this.autoPaging){var Ve=this.ctx.transform.decompose(),Ke=new h;Ke=(Ke=(Ke=Ke.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var We=this.ctx.transform.applyToRectangle(new c(L.x,Le,me.w,me.h)),rt=Ke.applyToRectangle(new c(L.x,Ne,me.w,me.h)),W=M.call(this,rt),je=[],Ht=0;Ht<W.length;Ht+=1)je.indexOf(W[Ht])===-1&&je.push(W[Ht]);q(je);for(var bt=je[0],ze=je[je.length-1],gt=bt;gt<ze+1;gt++){this.pdf.setPage(gt);var $e=gt===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],Dt=dt-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Mt=Jt-this.margin[3],jt=gt===1?0:St+(gt-2)*Dt;if(this.ctx.clip_path.length!==0){var zt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(K,this.posX+this.margin[3],-1*jt+$e),X.call(this,"fill",!0),this.path=zt}var at=j([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-jt+$e+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale);var It=this.autoPaging!=="text";if(It||at.y+at.h<=dt){if(It||at.y>=$e&&at.x<=Jt){var ut=It?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Jt-at.x)[0],Xn=j([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-jt+$e+this.ctx.prevPageLastElemOffset)[0],Yt=It&&(gt>bt||gt<ze)&&I.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Dt,null).clip().discardPath()),this.pdf.text(ut,Xn.x,Xn.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else at.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-at.y);L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ce)}}else L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale),this.pdf.text(L.text,Ue.x+this.posX,Ue.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ce)},se=function(L,z,K,ie){K=K||0,ie=ie||0,this.pdf.internal.out(n(L+K)+" "+o(z+ie)+" l")},oe=function(L,z,K){return this.pdf.lines(L,z,K,null,null)},Ae=function(L,z,K,ie,ce,me,Le,Ne){this.pdf.internal.out([e(a(K+L)),e(s(ie+z)),e(a(ce+L)),e(s(me+z)),e(a(Le+L)),e(s(Ne+z)),"c"].join(" "))},ne=function(L,z,K,ie){for(var ce=2*Math.PI,me=Math.PI/2;z>K;)z-=ce;var Le=Math.abs(K-z);Le<ce&&ie&&(Le=ce-Le);for(var Ne=[],Ue=ie?-1:1,Ve=z;Le>1e-5;){var Ke=Ve+Ue*Math.min(Le,me);Ne.push(ae.call(this,L,Ve,Ke)),Le-=Math.abs(Ke-Ve),Ve=Ke}return Ne},ae=function(L,z,K){var ie=(K-z)/2,ce=L*Math.cos(ie),me=L*Math.sin(ie),Le=ce,Ne=-me,Ue=Le*Le+Ne*Ne,Ve=Ue+Le*ce+Ne*me,Ke=4/3*(Math.sqrt(2*Ue*Ve)-Ve)/(Le*me-Ne*ce),We=Le-Ke*Ne,rt=Ne+Ke*Le,W=We,je=-rt,Ht=ie+z,bt=Math.cos(Ht),ze=Math.sin(Ht);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:We*bt-rt*ze,y2:We*ze+rt*bt,x3:W*bt-je*ze,y3:W*ze+je*bt,x4:L*Math.cos(K),y4:L*Math.sin(K)}},ue=function(L){return 180*L/Math.PI},we=function(L,z,K,ie,ce,me){var Le=L+.5*(K-L),Ne=z+.5*(ie-z),Ue=ce+.5*(K-ce),Ve=me+.5*(ie-me),Ke=Math.min(L,ce,Le,Ue),We=Math.max(L,ce,Le,Ue),rt=Math.min(z,me,Ne,Ve),W=Math.max(z,me,Ne,Ve);return new c(Ke,rt,We-Ke,W-rt)},Oe=function(L,z,K,ie,ce,me,Le,Ne){var Ue,Ve,Ke,We,rt,W,je,Ht,bt,ze,gt,$e,St,dt,Dt=K-L,Jt=ie-z,Mt=ce-K,jt=me-ie,zt=Le-ce,at=Ne-me;for(Ve=0;Ve<41;Ve++)bt=(je=(Ke=L+(Ue=Ve/40)*Dt)+Ue*((rt=K+Ue*Mt)-Ke))+Ue*(rt+Ue*(ce+Ue*zt-rt)-je),ze=(Ht=(We=z+Ue*Jt)+Ue*((W=ie+Ue*jt)-We))+Ue*(W+Ue*(me+Ue*at-W)-Ht),Ve==0?(gt=bt,$e=ze,St=bt,dt=ze):(gt=Math.min(gt,bt),$e=Math.min($e,ze),St=Math.max(St,bt),dt=Math.max(dt,ze));return new c(Math.round(gt),Math.round($e),Math.round(St-gt),Math.round(dt-$e))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,K=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ft.API),(function(t){var e=function(u){var c,h,f,g,_,A,S,C,I,M;for(h=[],f=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>f;f+=4)(_=(u.charCodeAt(f)<<24)+(u.charCodeAt(f+1)<<16)+(u.charCodeAt(f+2)<<8)+u.charCodeAt(f+3))!==0?(A=(_=((_=((_=((_=(_-(M=_%85))/85)-(I=_%85))/85)-(C=_%85))/85)-(S=_%85))/85)%85,h.push(A+33,S+33,C+33,I+33,M+33)):h.push(122);return(function(R,j){for(var q=j;q>0;q--)R.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},n=function(u){var c,h,f,g,_,A=String,S="length",C=255,I="charCodeAt",M="slice",R="replace";for(u[M](-2),u=u[M](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),f=[],g=0,_=(u+=c="uuuuu"[M](u[S]%5||5))[S];_>g;g+=5)h=52200625*(u[I](g)-33)+614125*(u[I](g+1)-33)+7225*(u[I](g+2)-33)+85*(u[I](g+3)-33)+(u[I](g+4)-33),f.push(C&h>>24,C&h>>16,C&h>>8,C&h);return(function(j,q){for(var B=q;B>0;B--)j.pop()})(f,c[S]),A.fromCharCode.apply(A,f)},o=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var h="",f=0;f<u.length;f+=2)h+=String.fromCharCode("0x"+(u[f]+u[f+1]));return h},s=function(u){for(var c=new Uint8Array(u.length),h=u.length;h--;)c[h]=u.charCodeAt(h);return(c=Xp(c)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};t.processDataByFilters=function(u,c){var h=0,f=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=o(f),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}})(ft.API),(function(t){t.loadFile=function(e,n,o){return(function(a,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(h,f,g){var _=new XMLHttpRequest,A=0,S=function(C){var I=C.length,M=[],R=String.fromCharCode;for(A=0;A<I;A+=1)M.push(R(255&C.charCodeAt(A)));return M.join("")};if(_.open("GET",h,!f),_.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(_.onload=function(){_.status===200?g(S(this.responseText)):g(void 0)}),_.send(null),f&&_.status===200)return S(_.responseText)})(a,s,u)}catch{}return c})(e,n,o)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(ft.API),(function(t){function e(){return(Rt.html2canvas?Promise.resolve(Rt.html2canvas):op(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(Rt.DOMPurify?Promise.resolve(Rt.DOMPurify):op(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var o=function(c){var h=xn(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(c,h){var f=document.createElement(c);for(var g in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[g]=h.style[g];return f},s=function c(h,f){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)f!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||g.appendChild(c(_,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},u=function c(h){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),f);return(g=g.setProgress(1,c,1,[c])).set(h)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,h){return c.__proto__=h||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(f){switch(o(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(n).then(function(f){return this.set({src:a("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var f=this.opt.jsPDF,g=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var S=0;S<g.length;++S){var C=g[S],I=C.src.find(function(M){return M.format==="truetype"});I&&f.addFont(I.url,C.ref.name,C.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,f.context2d.save(!0),h(this.prop.container,A)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},u.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(o(c)!=="object")return this;var h=Object.keys(c||{}).map(function(f){if(f in u.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(h)})},u.prototype.get=function(c,h){return this.then(function(){var f=c in u.template.prop?this.prop[c]:this.opt[c];return h?h(f):f})},u.prototype.setMargin=function(c){return this.then(function(){switch(o(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function h(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(c=c||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,h,f,g){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,h,f,g){return this.setProgress(c?this.progress.val+c:null,h||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,h){var f=this;return this.thenCore(c,h,function(g,_){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return f.updateProgress(null,g),A}).then(g,_).then(function(A){return f.updateProgress(1),A})})},u.prototype.thenCore=function(c,h,f){f=f||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),h&&(h=h.bind(g));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),A=f.call(_,c,h);return u.convert(A,g.__proto__)},u.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},u.prototype.thenList=function(c){var h=this;return c.forEach(function(f){h=h.thenCore(f)}),h},u.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return u.convert(h,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,ft.getPageSize=function(c,h,f){if(xn(c)==="object"){var g=c;c=g.orientation,h=g.unit||h,f=g.format||f}h=h||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var _,A=(""+f).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+h}var C,I=0,M=0;if(S.hasOwnProperty(A))I=S[A][1]/_,M=S[A][0]/_;else try{I=f[1],M=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",M>I&&(C=M,M=I,I=C);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",I>M&&(C=M,M=I,I=C)}return{width:M,height:I,unit:h,k:_,orientation:c}},t.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(wp):null;var f=new u(h);return h.worker?f:f.from(c).doCallback()}})(ft.API),ft.API.addJS=function(t){var e,n,o=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+o+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),s=0;s<a.length;s++){var u=a[s],c=o.exec(u);if(c!=null){var h=c[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(s=0;s<f;s++){var _=n.internal.newObject();g.push(_);var A=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var S=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<g.length;s++)n.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+S+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(o,a,s){var u={title:a,options:s,children:[]};return o==null&&(o=this.root),o.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(o){o.id=n.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},n.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},n.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<o.children.length;s++){var u=o.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(o)),s>0&&this.line("/Prev "+this.makeRef(o.children[s-1])),s<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var h=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<o.children.length;f++)this.renderItems(o.children[f])},n.outline.line=function(o){this.ctx.val+=o+`\r
`},n.outline.makeRef=function(o){return o.id+" 0 R"},n.outline.makeString=function(o){return"("+n.internal.pdfEscape(o)+")"},n.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(o,a){for(var s=0;s<a.children.length;s++)o.count++,this.count_r(o,a.children[s]);return o.count}}])})(ft.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,o,a,s,u,c){var h,f=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,h=(function(_){for(var A,S=256*_.charCodeAt(4)+_.charCodeAt(5),C=_.length,I={width:0,height:0,numcomponents:1},M=4;M<C;M+=2){if(M+=S,e.indexOf(_.charCodeAt(M+1))!==-1){A=256*_.charCodeAt(M+5)+_.charCodeAt(M+6),I={width:256*_.charCodeAt(M+7)+_.charCodeAt(M+8),height:A,numcomponents:_.charCodeAt(M+9)};break}S=256*_.charCodeAt(M+2)+_.charCodeAt(M+3)}return I})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:n,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:f,index:o,alias:a}}return g}})(ft.API),ft.API.processPNG=function(t,e,n,o){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,s=YC(t,{checkCrc:!0}),u=s.width,c=s.height,h=s.channels,f=s.palette,g=s.depth;a=f&&h===1?(function(re){for(var G=re.width,te=re.height,U=re.data,Y=re.palette,se=re.depth,oe=!1,Ae=[],ne=[],ae=void 0,ue=!1,we=0,Oe=0;Oe<Y.length;Oe++){var J=U2(Y[Oe],4),L=J[0],z=J[1],K=J[2],ie=J[3];Ae.push(L,z,K),ie!=null&&(ie===0?(we++,ne.length<1&&ne.push(Oe)):ie<255&&(ue=!0))}if(ue||we>1){oe=!0,ne=void 0;var ce=G*te;ae=new Uint8Array(ce);for(var me=new DataView(U.buffer),Le=0;Le<ce;Le++){var Ne=xp(me,Le,se),Ue=U2(Y[Ne],4)[3];ae[Le]=Ue}}else we===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:U,alphaBytes:ae,needSMask:oe,palette:Ae,mask:ne}})(s):h===2||h===4?(function(re){for(var G=re.data,te=re.width,U=re.height,Y=re.channels,se=re.depth,oe=Y===2?"DeviceGray":"DeviceRGB",Ae=Y-1,ne=te*U,ae=Ae,ue=ne*ae,we=1*ne,Oe=Math.ceil(ue*se/8),J=Math.ceil(we*se/8),L=new Uint8Array(Oe),z=new Uint8Array(J),K=new DataView(G.buffer),ie=new DataView(L.buffer),ce=new DataView(z.buffer),me=!1,Le=0;Le<ne;Le++){for(var Ne=Le*Y,Ue=0;Ue<ae;Ue++)Bv(ie,xp(K,Ne+Ue,se),Le*ae+Ue,se);var Ve=xp(K,Ne+ae,se);Ve<(1<<se)-1&&(me=!0),Bv(ce,Ve,1*Le,se)}return{colorSpace:oe,colorsPerPixel:Ae,sMaskBitsPerComponent:me?se:void 0,colorBytes:L,alphaBytes:z,needSMask:me}})(s):(function(re){var G=re.data,te=re.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:te,colorsPerPixel:te==="DeviceGray"?1:3,colorBytes:G instanceof Uint16Array?(function(U){for(var Y=U.length,se=new Uint8Array(2*Y),oe=new DataView(se.buffer,se.byteOffset,se.byteLength),Ae=0;Ae<Y;Ae++)oe.setUint16(2*Ae,U[Ae],!1);return se})(G):G,needSMask:!1}})(s);var _,A,S,C=a,I=C.colorSpace,M=C.colorsPerPixel,R=C.sMaskBitsPerComponent,j=C.colorBytes,q=C.alphaBytes,B=C.needSMask,X=C.palette,ve=C.mask,de=null;return o!==ft.API.image_compression.NONE&&typeof Xp=="function"?(de=(function(re){var G;switch(re){case ft.API.image_compression.FAST:G=11;break;case ft.API.image_compression.MEDIUM:G=13;break;case ft.API.image_compression.SLOW:G=14;break;default:G=12}return G})(o),_=this.decode.FLATE_DECODE,A="/Predictor ".concat(de," /Colors ").concat(M," /BitsPerComponent ").concat(g," /Columns ").concat(u),t=Dv(j,Math.ceil(u*M*g/8),M,g,o),B&&(S=Dv(q,Math.ceil(u*R/8),1,R,o))):(_=void 0,A=void 0,t=j,B&&(S=q)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:n,data:t,index:e,filter:_,decodeParameters:A,transparency:ve,palette:X,sMask:S,predictor:de,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:R,colorSpace:I}}},(function(t){t.processGIF89A=function(e,n,o,a){var s=new d6(e),u=s.width,c=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:u,height:c},g=new Ep(100).encode(f,100);return t.processJPEG.call(this,g,n,o,a)},t.processGIF87A=t.processGIF89A})(ft.API),ra.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:o,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ra.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Pn.log("bit decode error:"+n)}},ra.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var h=this.palette[s>>7-c&1];this.data[u+4*c]=h.blue,this.data[u+4*c+1]=h.green,this.data[u+4*c+2]=h.red,this.data[u+4*c+3]=255}n!==0&&(this.pos+=4-n)}},ra.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+2*a*4,c=s>>4,h=15&s,f=this.palette[c];if(this.data[u]=f.blue,this.data[u+1]=f.green,this.data[u+2]=f.red,this.data[u+3]=255,2*a+1>=this.width)break;f=this.palette[h],this.data[u+4]=f.blue,this.data[u+4+1]=f.green,this.data[u+4+2]=f.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},ra.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*o;if(a<this.palette.length){var u=this.palette[a];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ra.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,h=(s>>10&e)/e*255|0,f=s>>15?255:0,g=o*this.width*4+4*a;this.data[g]=h,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=f}this.pos+=t}},ra.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,h=(u>>5&n)/n*255|0,f=(u>>11)/e*255|0,g=a*this.width*4+4*s;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=c,this.data[g+3]=255}this.pos+=t}},ra.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=s,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=255}this.pos+=this.width%4}},ra.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}},ra.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,o,a){var s=new ra(e,!1),u=s.width,c=s.height,h={data:s.getData(),width:u,height:c},f=new Ep(100).encode(h,100);return t.processJPEG.call(this,f,n,o,a)}})(ft.API),Hv.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,o,a){var s=new Hv(e),u=s.width,c=s.height,h={data:s.getData(),width:u,height:c},f=new Ep(100).encode(h,100);return t.processJPEG.call(this,f,n,o,a)}})(ft.API),ft.API.processRGBA=function(t,e,n){for(var o=t.data,a=o.length,s=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,h=0,f=0;f<a;f+=4){var g=o[f],_=o[f+1],A=o[f+2],S=o[f+3];s[c++]=g,s[c++]=_,s[c++]=A,u[h++]=S}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:C,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fu=ft.API,rd=Fu.getCharWidthsArray=function(t,e){var n,o,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,h=c.fof?c.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=f.fof?f.fof:1,_=e.doKerning!==!1,A=0,S=t.length,C=0,I=c[0]||h,M=[];for(n=0;n<S;n++)o=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?M.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+u*(1e3/s)||0)/1e3):(A=_&&xn(f[o])==="object"&&!isNaN(parseInt(f[o][C],10))?f[o][C]/g:0,M.push((c[o]||I)/h+A)),C=o;return M},Mv=Fu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),o=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Fu.processArabic&&(t=Fu.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,n,a)/n:rd.apply(this,arguments).reduce(function(s,u){return s+u},0)},Iv=function(t,e,n,o){for(var a=[],s=0,u=t.length,c=0;s!==u&&c+e[s]<n;)c+=e[s],s++;a.push(t.slice(0,s));var h=s;for(c=0;s!==u;)c+e[s]>o&&(a.push(t.slice(h,s)),c=0,h=s),c+=e[s],s++;return h!==s&&a.push(t.slice(h,s)),a},kv=function(t,e,n){n||(n={});var o,a,s,u,c,h,f,g=[],_=[g],A=n.textIndent||0,S=0,C=0,I=t.split(" "),M=rd.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var R=Array(h).join(" "),j=[];I.map(function(B){(B=B.split(/\s*\n/)).length>1?j=j.concat(B.map(function(X,ve){return(ve&&X.length?`
`:"")+X})):j.push(B[0])}),I=j,h=Mv.apply(this,[R,n])}for(s=0,u=I.length;s<u;s++){var q=0;if(o=I[s],h&&o[0]==`
`&&(o=o.substr(1),q=1),A+S+(C=(a=rd.apply(this,[o,n])).reduce(function(B,X){return B+X},0))>e||q){if(C>e){for(c=Iv.apply(this,[o,a,e-(A+S),e]),g.push(c.shift()),g=[c.pop()];c.length;)_.push([c.shift()]);C=a.slice(o.length-(g[0]?g[0].length:0)).reduce(function(B,X){return B+X},0)}else g=[o];_.push(g),A=C+h,S=M}else g.push(o),A+=S+C,S=M}return f=h?function(B,X){return(X?R:"")+B.join(" ")}:function(B){return B.join(" ")},_.map(f)},Fu.splitTextToSize=function(t,e,n){var o,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var _=this.internal.getFont(g.fontName,g.fontStyle),A="Unicode";return _.metadata[A]?{widths:_.metadata[A].widths||{0:1},kerning:_.metadata[A].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var c,h,f=[];for(c=0,h=o.length;c<h;c++)f=f.concat(kv.apply(this,[o[c],u,s]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",o={},a={},s=0;s<16;s++)o[n[s]]=e[s],a[e[s]]=n[s];var u=function(A){return"0x"+parseInt(A,10).toString(16)},c=t.__fontmetrics__.compress=function(A){var S,C,I,M,R=["{"];for(var j in A){if(S=A[j],isNaN(parseInt(j,10))?C="'"+j+"'":(j=parseInt(j,10),C=(C=u(j).slice(2)).slice(0,-1)+a[C.slice(-1)]),typeof S=="number")S<0?(I=u(S).slice(3),M="-"):(I=u(S).slice(2),M=""),I=M+I.slice(0,-1)+a[I.slice(-1)];else{if(xn(S)!=="object")throw new Error("Don't know what to do with value type "+xn(S)+".");I=c(S)}R.push(C+I)}return R.push("}"),R.join("")},h=t.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,C,I,M,R={},j=1,q=R,B=[],X="",ve="",de=A.length-1,re=1;re<de;re+=1)(M=A[re])=="'"?S?(I=S.join(""),S=void 0):S=[]:S?S.push(M):M=="{"?(B.push([q,I]),q={},I=void 0):M=="}"?((C=B.pop())[0][C[1]]=q,I=void 0,q=C[0]):M=="-"?j=-1:I===void 0?o.hasOwnProperty(M)?(X+=o[M],I=parseInt(X,16)*j,j=1,X=""):X+=M:o.hasOwnProperty(M)?(ve+=o[M],q[I]=parseInt(ve,16)*j,j=1,I=void 0,ve=""):ve+=M;return R},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},_={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(A){var S=A.font,C=_.Unicode[S.postScriptName];C&&(S.metadata.Unicode={},S.metadata.Unicode.widths=C.widths,S.metadata.Unicode.kerning=C.kerning);var I=g.Unicode[S.postScriptName];I&&(S.metadata.Unicode.encoding=I,S.encoding=I.codePages[0])}])})(ft.API),(function(t){var e=function(n){for(var o=n.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=n.charCodeAt(s);return a};t.API.events.push(["addFont",function(n){var o=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(ud(c)),u.metadata=t.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,o)}}])})(ft),ft.API.addSvgAsImage=function(t,e,n,o,a,s,u,c){if(isNaN(e)||isNaN(n))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=o,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Rt.canvg?Promise.resolve(Rt.canvg):op(()=>import("./index.es-Bzhbx7ve.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(f,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){_.addImage(h.toDataURL("image/jpeg",1),e,n,o,a,u,c)})},ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var o,a,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),h=[],f=0,g=0,_=0;function A(C,I){var M,R=!1;for(M=0;M<C.length;M+=1)C[M]===I&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var S=c.length;for(_=0;_<S;_+=1)n[c[_]].value=n[c[_]].defaultValue,n[c[_]].explicitSet=!1}if(xn(t)==="object"){for(a in t)if(s=t[a],A(c,a)&&s!==void 0){if(n[a].type==="boolean"&&typeof s=="boolean")n[a].value=s;else if(n[a].type==="name"&&A(n[a].valueSet,s))n[a].value=s;else if(n[a].type==="integer"&&Number.isInteger(s))n[a].value=s;else if(n[a].type==="array"){for(f=0;f<s.length;f+=1)if(o=!0,s[f].length===1&&typeof s[f][0]=="number")h.push(String(s[f]-1));else if(s[f].length>1){for(g=0;g<s[f].length;g+=1)typeof s[f][g]!="number"&&(o=!1);o===!0&&h.push([s[f][0]-1,s[f][1]-1].join(" "))}n[a].value="["+h.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,I=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?I.push("/"+C+" /"+n[C].value):I.push("/"+C+" "+n[C].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ft.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",p6),this.internal.events.subscribe("postPutResources",h6)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(s,u){for(var c,h=u.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],_=0,A=s.length;_<A;++_){if(c=u.metadata.characterToGlyph(s.charCodeAt(_)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=s.charCodeAt(_),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(f[4-c.length],c)}return g.join("")},o=function(s){var u,c,h,f,g,_,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],_=0,A=(c=Object.keys(s).sort(function(S,C){return S-C})).length;_<A;_++)u=c[_],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(f=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),h.push("<"+u+"><"+f+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(u){var c=u.font,h=u.out,f=u.newObject,g=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var _=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),S="",C=0;C<A.length;C++)S+=String.fromCharCode(A[C]);var I=f();g({data:S,addLength1:!0,objectId:I}),h("endobj");var M=f();g({data:o(c.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var R=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Hu(c.fontName)),h("/FontFile2 "+I+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var j=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Hu(c.fontName)),h("/FontDescriptor "+R+" 0 R"),h("/W "+t.API.PDFObject.convert(_)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+M+" 0 R"),h("/BaseFont /"+Hu(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+j+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(u){var c=u.font,h=u.out,f=u.newObject,g=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var _=c.metadata.rawData,A="",S=0;S<_.length;S++)A+=String.fromCharCode(_[S]);var C=f();g({data:A,addLength1:!0,objectId:C}),h("endobj");var I=f();g({data:o(c.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var M=f();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+C+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+Hu(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=f();for(var R=0;R<c.metadata.hmtx.widths.length;R++)c.metadata.hmtx.widths[R]=parseInt(c.metadata.hmtx.widths[R]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Hu(c.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]);var a=function(s){var u,c=s.text||"",h=s.x,f=s.y,g=s.options||{},_=s.mutex||{},A=_.pdfEscape,S=_.activeFontKey,C=_.fonts,I=S,M="",R=0,j="",q=C[I].encoding;if(C[I].encoding!=="Identity-H")return{text:c,x:h,y:f,options:g,mutex:_};for(j=c,I=S,Array.isArray(c)&&(j=c[0]),R=0;R<j.length;R+=1)C[I].metadata.hasOwnProperty("cmap")&&(u=C[I].metadata.cmap.unicode.codeMap[j[R].charCodeAt(0)]),u||j[R].charCodeAt(0)<256&&C[I].metadata.hasOwnProperty("Unicode")?M+=j[R]:M+="";var B="";return parseInt(I.slice(1))<14||q==="WinAnsiEncoding"?B=A(M,I).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(B=n(M,C[I])),_.isHex=!0,{text:B,x:h,y:f,options:g,mutex:_}};e.events.push(["postProcessText",function(s){var u=s.text||"",c=[],h={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var f=0;for(f=0;f<u.length;f+=1)Array.isArray(u[f])&&u[f].length===3?c.push([a(Object.assign({},h,{text:u[f][0]})).text,u[f][1],u[f][2]]):c.push(a(Object.assign({},h,{text:u[f]})).text);s.text=c}else s.text=a(Object.assign({},h,{text:u})).text}])})(ft),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,o){return e.call(this),this.internal.vFS[n]=o,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(ft.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,s,u,c,h,f,g,_=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,q=0;this.__bidiEngine__={};var B=function(U){var Y=U.charCodeAt(),se=Y>>8,oe=I[se];return oe!==void 0?_[256*oe+(255&Y)]:se===252||se===253?"AL":R.test(se)?"L":se===8?"R":"N"},X=function(U){for(var Y,se=0;se<U.length;se++){if((Y=B(U.charAt(se)))==="L")return!1;if(Y==="R")return!0}return!1},ve=function(U,Y,se,oe){var Ae,ne,ae,ue,we=Y[oe];switch(we){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(we="AN");break;case"AL":j=!0,we="R";break;case"WS":case"BN":we="N";break;case"CS":oe<1||oe+1>=Y.length||(Ae=se[oe-1])!=="EN"&&Ae!=="AN"||(ne=Y[oe+1])!=="EN"&&ne!=="AN"?we="N":j&&(ne="AN"),we=ne===Ae?ne:"N";break;case"ES":we=(Ae=oe>0?se[oe-1]:"B")==="EN"&&oe+1<Y.length&&Y[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&se[oe-1]==="EN"){we="EN";break}if(j){we="N";break}for(ae=oe+1,ue=Y.length;ae<ue&&Y[ae]==="ET";)ae++;we=ae<ue&&Y[ae]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(ue=Y.length,ae=oe+1;ae<ue&&Y[ae]==="NSM";)ae++;if(ae<ue){var Oe=U[oe],J=Oe>=1425&&Oe<=2303||Oe===64286;if(Ae=Y[ae],J&&(Ae==="R"||Ae==="AL")){we="R";break}}}we=oe<1||(Ae=Y[oe-1])==="B"?"N":se[oe-1];break;case"B":j=!1,a=!0,we=q;break;case"S":s=!0,we="N"}return we},de=function(U,Y,se){var oe=U.split("");return se&&re(oe,se,{hiLevel:q}),oe.reverse(),Y&&Y.reverse(),oe.join("")},re=function(U,Y,se){var oe,Ae,ne,ae,ue,we=-1,Oe=U.length,J=0,L=[],z=q?S:A,K=[];for(j=!1,a=!1,s=!1,Ae=0;Ae<Oe;Ae++)K[Ae]=B(U[Ae]);for(ne=0;ne<Oe;ne++){if(ue=J,L[ne]=ve(U,K,L,ne),oe=240&(J=z[ue][C[L[ne]]]),J&=15,Y[ne]=ae=z[J][5],oe>0)if(oe===16){for(Ae=we;Ae<ne;Ae++)Y[Ae]=1;we=-1}else we=-1;if(z[J][6])we===-1&&(we=ne);else if(we>-1){for(Ae=we;Ae<ne;Ae++)Y[Ae]=ae;we=-1}K[ne]==="B"&&(Y[ne]=0),se.hiLevel|=ae}s&&(function(ie,ce,me){for(var Le=0;Le<me;Le++)if(ie[Le]==="S"){ce[Le]=q;for(var Ne=Le-1;Ne>=0&&ie[Ne]==="WS";Ne--)ce[Ne]=q}})(K,Y,Oe)},G=function(U,Y,se,oe,Ae){if(!(Ae.hiLevel<U)){if(U===1&&q===1&&!a)return Y.reverse(),void(se&&se.reverse());for(var ne,ae,ue,we,Oe=Y.length,J=0;J<Oe;){if(oe[J]>=U){for(ue=J+1;ue<Oe&&oe[ue]>=U;)ue++;for(we=J,ae=ue-1;we<ae;we++,ae--)ne=Y[we],Y[we]=Y[ae],Y[ae]=ne,se&&(ne=se[we],se[we]=se[ae],se[ae]=ne);J=ue}J++}}},te=function(U,Y,se){var oe=U.split(""),Ae={hiLevel:q};return se||(se=[]),re(oe,se,Ae),(function(ne,ae,ue){if(ue.hiLevel!==0&&g)for(var we,Oe=0;Oe<ne.length;Oe++)ae[Oe]===1&&(we=M.indexOf(ne[Oe]))>=0&&(ne[Oe]=M[we+1])})(oe,se,Ae),G(2,oe,Y,se,Ae),G(1,oe,Y,se,Ae),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(U,Y,se){if((function(Ae,ne){if(ne)for(var ae=0;ae<Ae.length;ae++)ne[ae]=ae;c===void 0&&(c=X(Ae)),f===void 0&&(f=X(Ae))})(U,Y),u||!h||f)if(u&&h&&c^f)q=c?1:0,U=de(U,Y,se);else if(!u&&h&&f)q=c?1:0,U=te(U,Y,se),U=de(U,Y);else if(!u||c||h||f){if(u&&!h&&c^f)U=de(U,Y),c?(q=0,U=te(U,Y,se)):(q=1,U=te(U,Y,se),U=de(U,Y));else if(u&&c&&!h&&f)q=1,U=te(U,Y,se),U=de(U,Y);else if(!u&&!h&&c^f){var oe=g;c?(q=1,U=te(U,Y,se),q=0,g=!1,U=te(U,Y,se),g=oe):(q=0,U=te(U,Y,se),U=de(U,Y),q=1,g=!1,U=te(U,Y,se),g=oe,U=de(U,Y))}}else q=0,U=te(U,Y,se);else q=c?1:0,U=te(U,Y,se);return U},this.__bidiEngine__.setOptions=function(U){U&&(u=U.isInputVisual,h=U.isOutputVisual,c=U.isInputRtl,f=U.isOutputRtl,g=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var s=o.options||{};o.mutex,s.lang;var u=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([n.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([n.doBidiReorder(a[c])]);o.text=u}else o.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])})(ft),ft.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new nl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new L6(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new g6(this.contents),this.head=new v6(this),this.name=new w6(this),this.cmap=new O5(this),this.toUnicode={},this.hhea=new y6(this),this.maxp=new A6(this),this.hmtx=new x6(this),this.post=new S6(this),this.os2=new b6(this),this.loca=new C6(this),this.glyf=new E6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,o,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,h,f;for(f=[],u=0,c=(h=this.bbox).length;u<c;u++)e=h[u],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,o){var a,s,u,c;for(u=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)a=e.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var o;return n==null&&(n=!1),o=n?this.lineGap:0,(this.ascender+o-this.decender)/1e3*e},t})();var fa,nl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,o;for(o=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)o[n]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(e){var n,o,a;for(a=[],n=0,o=e.length;0<=o?n<o:n>o;n=0<=o?++n:--n)a.push(this.writeByte(e.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,o,a,s,u,c,h;return e=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),u=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^s)+65536*(255^u)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*n+1099511627776*o+4294967296*a+16777216*s+65536*u+256*c+h},t.prototype.writeLongLong=function(e){var n,o;return n=Math.floor(e/4294967296),o=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,o;for(n=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)n.push(this.readByte());return n},t.prototype.write=function(e){var n,o,a,s;for(s=[],o=0,a=e.length;o<a;o++)n=e[o],s.push(this.writeByte(n));return s},t})(),g6=(function(){var t;function e(n){var o,a,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)o={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[o.tag]=o}return e.prototype.encode=function(n){var o,a,s,u,c,h,f,g,_,A,S,C,I;for(I in S=Object.keys(n).length,h=Math.log(2),_=16*Math.floor(Math.log(S)/h),u=Math.floor(_/h),g=16*S-_,(a=new nl).writeInt(this.scalarType),a.writeShort(S),a.writeShort(_),a.writeShort(u),a.writeShort(g),s=16*S,f=a.pos+s,c=null,C=[],n)for(A=n[I],a.writeString(I),a.writeInt(t(A)),a.writeInt(f),a.writeInt(A.length),C=C.concat(A),I==="head"&&(c=f),f+=A.length;f%4;)C.push(0),f++;return a.write(C),o=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(o),a.data},t=function(n){var o,a,s,u;for(n=F5.call(n);n.length%4;)n.push(0);for(s=new nl(n),a=0,o=0,u=n.length;o<u;o=o+=4)a+=s.readUInt32();return 4294967295&a},e})(),m6={}.hasOwnProperty,Pa=function(t,e){for(var n in e)m6.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};fa=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var v6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new nl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),zv=(function(){function t(e,n){var o,a,s,u,c,h,f,g,_,A,S,C,I,M,R,j,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(S=e.readUInt16(),A=S/2,e.pos+=6,s=(function(){var B,X;for(X=[],h=B=0;0<=A?B<A:B>A;h=0<=A?++B:--B)X.push(e.readUInt16());return X})(),e.pos+=2,I=(function(){var B,X;for(X=[],h=B=0;0<=A?B<A:B>A;h=0<=A?++B:--B)X.push(e.readUInt16());return X})(),f=(function(){var B,X;for(X=[],h=B=0;0<=A?B<A:B>A;h=0<=A?++B:--B)X.push(e.readUInt16());return X})(),g=(function(){var B,X;for(X=[],h=B=0;0<=A?B<A:B>A;h=0<=A?++B:--B)X.push(e.readUInt16());return X})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var B,X;for(X=[],h=B=0;0<=a?B<a:B>a;h=0<=a?++B:--B)X.push(e.readUInt16());return X})(),h=R=0,q=s.length;R<q;h=++R)for(M=s[h],o=j=C=I[h];C<=M?j<=M:j>=M;o=C<=M?++j:--j)g[h]===0?u=o+f[h]:(u=c[g[h]/2+(o-C)-(A-h)]||0)!==0&&(u+=f[h]),this.codeMap[o]=65535&u}e.pos=_}return t.encode=function(e,n){var o,a,s,u,c,h,f,g,_,A,S,C,I,M,R,j,q,B,X,ve,de,re,G,te,U,Y,se,oe,Ae,ne,ae,ue,we,Oe,J,L,z,K,ie,ce,me,Le,Ne,Ue,Ve,Ke;switch(oe=new nl,u=Object.keys(e).sort(function(We,rt){return We-rt}),n){case"macroman":for(I=0,M=(function(){var We=[];for(C=0;C<256;++C)We.push(0);return We})(),j={0:0},s={},Ae=0,we=u.length;Ae<we;Ae++)j[Ne=e[a=u[Ae]]]==null&&(j[Ne]=++I),s[a]={old:e[a],new:j[e[a]]},M[a]=j[e[a]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(M),{charMap:s,subtable:oe.data,maxGlyphID:I+1};case"unicode":for(Y=[],_=[],q=0,j={},o={},R=f=null,ne=0,Oe=u.length;ne<Oe;ne++)j[X=e[a=u[ne]]]==null&&(j[X]=++q),o[a]={old:X,new:j[X]},c=j[X]-a,R!=null&&c===f||(R&&_.push(R),Y.push(a),f=c),R=a;for(R&&_.push(R),_.push(65535),Y.push(65535),te=2*(G=Y.length),re=2*Math.pow(Math.log(G)/Math.LN2,2),A=Math.log(re/2)/Math.LN2,de=2*G-re,h=[],ve=[],S=[],C=ae=0,J=Y.length;ae<J;C=++ae){if(U=Y[C],g=_[C],U===65535){h.push(0),ve.push(0);break}if(U-(se=o[U].new)>=32768)for(h.push(0),ve.push(2*(S.length+G-C)),a=ue=U;U<=g?ue<=g:ue>=g;a=U<=g?++ue:--ue)S.push(o[a].new);else h.push(se-U),ve.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*G+2*S.length),oe.writeUInt16(0),oe.writeUInt16(te),oe.writeUInt16(re),oe.writeUInt16(A),oe.writeUInt16(de),me=0,L=_.length;me<L;me++)a=_[me],oe.writeUInt16(a);for(oe.writeUInt16(0),Le=0,z=Y.length;Le<z;Le++)a=Y[Le],oe.writeUInt16(a);for(Ue=0,K=h.length;Ue<K;Ue++)c=h[Ue],oe.writeUInt16(c);for(Ve=0,ie=ve.length;Ve<ie;Ve++)B=ve[Ve],oe.writeUInt16(B);for(Ke=0,ce=S.length;Ke<ce;Ke++)I=S[Ke],oe.writeUInt16(I);return{charMap:o,subtable:oe.data,maxGlyphID:q+1}}},t})(),O5=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,o,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)n=new zv(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var o,a;return n==null&&(n="macroman"),o=zv.encode(e,n),(a=new nl).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},t})(),y6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),b6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,o;for(o=[],n=0;n<10;++n)o.push(e.readByte());return o})(),this.charRange=(function(){var n,o;for(o=[],n=0;n<4;++n)o.push(e.readInt());return o})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,o;for(o=[],n=0;n<2;n=++n)o.push(e.readInt());return o})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),S6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="post",t.prototype.parse=function(e){var n,o,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(o=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)n=e.readByte(),a.push(this.names.push(e.readString(n)));return a;case 151552:return o=e.readUInt16(),this.offsets=e.read(o);case 262144:return this.map=(function(){var u,c,h;for(h=[],s=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;s=0<=c?++u:--u)h.push(e.readUInt32());return h}).call(this)}},t})(),_6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="name",t.prototype.parse=function(e){var n,o,a,s,u,c,h,f,g,_,A;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),o=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)o.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},s=g=0,_=o.length;g<_;s=++g)a=o[s],e.pos=a.offset,f=e.readString(a.length),u=new _6(f,a),h[A=a.nameID]==null&&(h[A]=[]),h[a.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t})(),A6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),x6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,o,a,s,u,c,h;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],n=f=0;0<=a?f<a:f>a;n=0<=a?++f:--f)g.push(e.readInt16());return g})(),this.widths=(function(){var f,g,_,A;for(A=[],f=0,g=(_=this.metrics).length;f<g;f++)s=_[f],A.push(s.advance);return A}).call(this),o=this.widths[this.widths.length-1],h=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)h.push(this.widths.push(o));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),F5=[].slice,E6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,o,a,s,u,c,h,f,g,_;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,o=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+o,u=(c=new nl(n.read(a))).readShort(),f=c.readShort(),_=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new N6(c,f,_,h,g):new T6(c,u,f,_,h,g),this.cache[e]))},t.prototype.encode=function(e,n,o){var a,s,u,c,h;for(u=[],s=[],c=0,h=n.length;c<h;c++)a=e[n[c]],s.push(u.length),a&&(u=u.concat(a.encode(o)));return s.push(u.length),{table:u,offsets:s}},t})(),T6=(function(){function t(e,n,o,a,s,u){this.raw=e,this.numberOfContours=n,this.xMin=o,this.yMin=a,this.xMax=s,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),N6=(function(){function t(e,n,o,a,s){var u,c;for(this.raw=e,this.xMin=n,this.yMin=o,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,o;for(n=new nl(F5.call(this.raw.data)),e=0,o=this.glyphIDs.length;e<o;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),C6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Pa(t,fa),t.prototype.tag="loca",t.prototype.parse=function(e){var n,o;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],o=0,a=this.length;o<a;o+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],o=0,a=this.length;o<a;o+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var o=new Uint32Array(this.offsets.length),a=0,s=0,u=0;u<o.length;++u)if(o[u]=a,s<n.length&&n[s]==u){++s,o[u]=a;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(a+=h)}for(var f=new Array(4*o.length),g=0;g<o.length;++g)f[4*g+3]=255&o[g],f[4*g+2]=(65280&o[g])>>8,f[4*g+1]=(16711680&o[g])>>16,f[4*g]=(4278190080&o[g])>>24;return f},t})(),L6=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,o,a,s;for(n in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)o=s[n],e[n]=a[o];return e},t.prototype.glyphsFor=function(e){var n,o,a,s,u,c,h;for(a={},u=0,c=e.length;u<c;u++)a[s=e[u]]=this.font.glyf.glyphFor(s);for(s in n=[],a)(o=a[s])!=null&&o.compound&&n.push.apply(n,o.glyphIDs);if(n.length>0)for(s in h=this.glyphsFor(n))o=h[s],a[s]=o;return a},t.prototype.encode=function(e,n){var o,a,s,u,c,h,f,g,_,A,S,C,I,M,R;for(a in o=O5.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),S={0:0},R=o.charMap)S[(h=R[a]).old]=h.new;for(C in A=o.maxGlyphID,u)C in S||(S[C]=A++);return g=(function(j){var q,B;for(q in B={},j)B[j[q]]=q;return B})(S),_=Object.keys(g).sort(function(j,q){return j-q}),I=(function(){var j,q,B;for(B=[],j=0,q=_.length;j<q;j++)c=_[j],B.push(g[c]);return B})(),s=this.font.glyf.encode(u,I,S),f=this.font.loca.encode(s.offsets,I),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},t})();ft.API.PDFObject=(function(){var t;function e(){}return t=function(n,o){return(Array(o+1).join("0")+n).slice(-o)},e.convert=function(n){var o,a,s,u;if(Array.isArray(n))return"["+(function(){var c,h,f;for(f=[],c=0,h=n.length;c<h;c++)o=n[c],f.push(e.convert(o));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in s=["<<"],n)u=n[a],s.push("/"+a+" "+e.convert(u));return s.push(">>"),s.join(`
`)}return""+n},e})();function B5(t,e,n,o,a){o=o||{};var s=1.15,u=a.internal.scaleFactor,c=a.internal.getFontSize()/u,h=a.getLineHeightFactor?a.getLineHeightFactor():s,f=c*h,g=/\r\n|\r|\n/g,_="",A=1;if((o.valign==="middle"||o.valign==="bottom"||o.halign==="center"||o.halign==="right")&&(_=typeof t=="string"?t.split(g):t,A=_.length||1),n+=c*(2-s),o.valign==="middle"?n-=A/2*f:o.valign==="bottom"&&(n-=A*f),o.halign==="center"||o.halign==="right"){var S=c;if(o.halign==="center"&&(S*=.5),_&&A>=1){for(var C=0;C<_.length;C++)a.text(_[C],e-a.getStringUnitWidth(_[C])*S,n),n+=f;return a}e-=a.getStringUnitWidth(t)*S}return o.halign==="justify"?a.text(t,e,n,{maxWidth:o.maxWidth||100,align:"justify"}):a.text(t,e,n),a}var Gv={},Qu=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Gv=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var o,a,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,h=u.fontName;if(e.font&&(h=e.font),e.fontStyle){c=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(h,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var g=t.unifyColor(e.fillColor);g&&(o=this.jsPDFDocument).setFillColor.apply(o,g),g=t.unifyColor(e.textColor),g&&(a=this.jsPDFDocument).setTextColor.apply(a,g),g=t.unifyColor(e.lineColor),g&&(s=this.jsPDFDocument).setDrawColor.apply(s,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,o){return this.jsPDFDocument.splitTextToSize(e,n,o)},t.prototype.rect=function(e,n,o,a,s){return this.jsPDFDocument.rect(e,n,o,a,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Gv||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),o0=function(t,e){return o0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},o0(t,e)};function q5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var H5=(function(t){q5(e,t);function e(n){var o=t.call(this)||this;return o._element=n,o}return e})(Array);function R6(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function M6(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function xd(t,e,n){n.applyStyles(e,!0);var o=Array.isArray(t)?t:[t],a=o.map(function(s){return n.getTextWidth(s)}).reduce(function(s,u){return Math.max(s,u)},0);return a}function z5(t,e,n,o){var a=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:s});var u=G5(a,!1);u&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),o.y-n.y,u)}function G5(t,e){var n=t>0,o=e||e===0;return n&&o?"DF":n?"S":o?"F":null}function Dd(t,e){var n,o,a,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(o=t.top)!==null&&o!==void 0?o:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function V5(t,e){var n=Dd(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function I6(t,e,n,o,a){var s={},u=1.3333333333333333,c=Tp(e,function(q){return a.getComputedStyle(q).backgroundColor});c!=null&&(s.fillColor=c);var h=Tp(e,function(q){return a.getComputedStyle(q).color});h!=null&&(s.textColor=h);var f=D6(o,n);f&&(s.cellPadding=f);var g="borderTopColor",_=u*n,A=o.borderTopWidth;if(o.borderBottomWidth===A&&o.borderRightWidth===A&&o.borderLeftWidth===A){var S=(parseFloat(A)||0)/_;S&&(s.lineWidth=S)}else s.lineWidth={top:(parseFloat(o.borderTopWidth)||0)/_,right:(parseFloat(o.borderRightWidth)||0)/_,bottom:(parseFloat(o.borderBottomWidth)||0)/_,left:(parseFloat(o.borderLeftWidth)||0)/_},s.lineWidth.top||(s.lineWidth.right?g="borderRightColor":s.lineWidth.bottom?g="borderBottomColor":s.lineWidth.left&&(g="borderLeftColor"));var C=Tp(e,function(q){return a.getComputedStyle(q)[g]});C!=null&&(s.lineColor=C);var I=["left","right","center","justify"];I.indexOf(o.textAlign)!==-1&&(s.halign=o.textAlign),I=["middle","bottom","top"],I.indexOf(o.verticalAlign)!==-1&&(s.valign=o.verticalAlign);var M=parseInt(o.fontSize||"");isNaN(M)||(s.fontSize=M/u);var R=k6(o);R&&(s.fontStyle=R);var j=(o.fontFamily||"").toLowerCase();return t.indexOf(j)!==-1&&(s.font=j),s}function k6(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Tp(t,e){var n=Y5(t,e);if(!n)return null;var o=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!o||!Array.isArray(o))return null;var a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])],s=parseInt(o[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Y5(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Y5(t.parentElement,e):n}function D6(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],o=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(c){return parseInt(c||"0")/o}),u=Dd(s,0);return a>u.top&&(u.top=a),a>u.bottom&&(u.bottom=a),u}function J5(t,e,n,o,a){var s,u;o===void 0&&(o=!1),a===void 0&&(a=!1);var c;typeof e=="string"?c=n.document.querySelector(e):c=e;var h=Object.keys(t.getFontList()),f=t.scaleFactor(),g=[],_=[],A=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:g,body:_,foot:A};for(var S=0;S<c.rows.length;S++){var C=c.rows[S],I=(u=(s=C==null?void 0:C.parentElement)===null||s===void 0?void 0:s.tagName)===null||u===void 0?void 0:u.toLowerCase(),M=P6(h,f,n,C,o,a);M&&(I==="thead"?g.push(M):I==="tfoot"?A.push(M):_.push(M))}return{head:g,body:_,foot:A}}function P6(t,e,n,o,a,s){for(var u=new H5(o),c=0;c<o.cells.length;c++){var h=o.cells[c],f=n.getComputedStyle(h);if(a||f.display!=="none"){var g=void 0;s&&(g=I6(t,h,e,f,n)),u.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:U6(h)})}}var _=n.getComputedStyle(o);if(u.length>0&&(a||_.display!=="none"))return u}function U6(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function O6(t,e,n){for(var o=0,a=[t,e,n];o<a.length;o++){var s=a[o];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function hs(t,e,n,o,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])}return s}function j5(t,e){var n=new Qu(t),o=n.getDocumentOptions(),a=n.getGlobalOptions();O6(a,o,e);var s=hs({},a,o,e),u;typeof window<"u"&&(u=window);var c=F6(a,o,e),h=B6(a,o,e),f=q6(n,s),g=z6(n,s,u);return{id:e.tableId,content:g,hooks:h,styles:c,settings:f}}function F6(t,e,n){for(var o={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(h){if(h==="columnStyles"){var f=t[h],g=e[h],_=n[h];o.columnStyles=hs({},f,g,_)}else{var A=[t,e,n],S=A.map(function(C){return C[h]||{}});o[h]=hs({},S[0],S[1],S[2])}},s=0,u=Object.keys(o);s<u.length;s++){var c=u[s];a(c)}return o}function B6(t,e,n){for(var o=[t,e,n],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,u=o;s<u.length;s++){var c=u[s];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function q6(t,e){var n,o,a,s,u,c,h,f,g,_,A,S,C=Dd(e.margin,40/t.scaleFactor()),I=(n=H6(t,e.startY))!==null&&n!==void 0?n:C.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(o=e.showFoot)!==null&&o!==void 0?o:"everyPage";var R;e.showHead===!0?R="everyPage":e.showHead===!1?R="never":R=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var j=(s=e.useCss)!==null&&s!==void 0?s:!1,q=e.theme||(j?"plain":"striped"),B=!!e.horizontalPageBreak,X=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:j,theme:q,startY:I,margin:C,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:R,showFoot:M,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(A=e.tableLineColor)!==null&&A!==void 0?A:200,horizontalPageBreak:B,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(S=e.horizontalPageBreakBehaviour)!==null&&S!==void 0?S:"afterAllRows"}}function H6(t,e){var n=t.getLastAutoTable(),o=t.scaleFactor(),a=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var u=n.startPageNumber+n.pageNumber-1;s=u===a}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/o:null}function z6(t,e,n){var o=e.head||[],a=e.body||[],s=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(n){var c=J5(t,e.html,n,u,e.useCss)||{};o=c.head||o,a=c.body||o,s=c.foot||o}else console.error("Cannot parse html in non browser environment")}var h=e.columns||G6(o,a,s);return{columns:h,head:o,body:a,foot:s}}function G6(t,e,n){var o=t[0]||e[0]||n[0]||[],a=[];return Object.keys(o).filter(function(s){return s!=="_element"}).forEach(function(s){var u=1,c;Array.isArray(o)?c=o[parseInt(s)]:c=o[s],typeof c=="object"&&!Array.isArray(c)&&(u=(c==null?void 0:c.colSpan)||1);for(var h=0;h<u;h++){var f=void 0;Array.isArray(o)?f=a.length:f=s+(h>0?"_".concat(h):"");var g={dataKey:f};a.push(g)}}),a}var r0=(function(){function t(e,n,o){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=o,this.doc=e.getDocument()}return t})(),V6=(function(t){q5(e,t);function e(n,o,a,s,u,c){var h=t.call(this,n,o,c)||this;return h.cell=a,h.row=s,h.column=u,h.section=s.section,h}return e})(r0),Y6=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,o){return n+o.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,o){return n+o.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,o,a,s,u){for(var c=0,h=n;c<h.length;c++){var f=h[c],g=new V6(e,this,o,a,s,u),_=f(g)===!1;if(o.text=Array.isArray(o.text)?o.text:[o.text],_)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var o=0,a=this.hooks.didDrawPage;o<a.length;o++){var s=a[o];s(new r0(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var o=0,a=this.hooks.willDrawPage;o<a.length;o++){var s=a[o];s(new r0(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return n}else{var o=this.settings.margin;return e-o.left-o.right}},t})(),K5=(function(){function t(e,n,o,a,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof H5&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=o,this.cells=a,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(o,a){var s;return Math.max(o,((s=n.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(o){var a=n.cells[o.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var o=this;return e.reduce(function(a,s){var u=o.cells[s.index];if(!u)return 0;var c=n.getLineHeight(u.styles.fontSize),h=u.padding("vertical"),f=h+c;return f>a?f:a},0)},t})(),W5=(function(){function t(e,n,o){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=o,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var o;if(this.styles.halign==="right")o=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");o=this.x+a/2+this.padding("left")}else o=this.x+this.padding("left");return{x:o,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var o=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*n,s=o*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Dd(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),J6=(function(){function t(e,n,o){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=o}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,o=0,a=e.allRows();o<a.length;o++){var s=a[o],u=s.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(n=Math.max(n,u.styles.cellWidth))}return n},t})();function j6(t,e){K6(t,e);var n=[],o=0;e.columns.forEach(function(s){var u=s.getMaxCustomCellWidth(e);u?s.width=u:(s.width=s.wrappedWidth,n.push(s)),o+=s.width});var a=e.getWidth(t.pageSize().width)-o;a&&(a=a0(n,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=a0(n,a,function(s){return s.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),X6(e),Z6(e,t),W6(e)}function K6(t,e){var n=t.scaleFactor(),o=e.settings.horizontalPageBreak,a=V5(t,e);e.allRows().forEach(function(s){for(var u=0,c=e.columns;u<c.length;u++){var h=c[u],f=s.cells[h.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(t,g,f,s,h,null);var _=f.padding("horizontal");f.contentWidth=xd(f.text,f.styles,t)+_;var A=xd(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=A+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||o===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var S=10/n;f.minWidth=f.styles.minCellWidth||S,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(s){for(var u=0,c=e.columns;u<c.length;u++){var h=c[u],f=s.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},_=g.cellWidth||g.minCellWidth;_&&typeof _=="number"&&(h.minWidth=_,h.wrappedWidth=_)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function a0(t,e,n){for(var o=e,a=t.reduce(function(S,C){return S+C.wrappedWidth},0),s=0;s<t.length;s++){var u=t[s],c=u.wrappedWidth/a,h=o*c,f=u.width+h,g=n(u),_=f<g?g:f;e-=_-u.width,u.width=_}if(e=Math.round(e*1e10)/1e10,e){var A=t.filter(function(S){return e<0?S.width>n(S):!0});A.length&&(e=a0(A,e,n))}return e}function W6(t){for(var e={},n=1,o=t.allRows(),a=0;a<o.length;a++)for(var s=o[a],u=0,c=t.columns;u<c.length;u++){var h=c[u],f=e[h.index];if(n>1)n--,delete s.cells[h.index];else if(f)f.cell.height+=s.height,n=f.cell.colSpan,delete s.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var g=s.cells[h.index];if(!g)continue;if(g.height=s.height,g.rowSpan>1){var _=o.length-a,A=g.rowSpan>_?_:g.rowSpan;e[h.index]={cell:g,left:A,row:s}}}}}function X6(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var o=e[n],a=null,s=0,u=0,c=0;c<t.columns.length;c++){var h=t.columns[c];if(u-=1,u>1&&t.columns[c+1])s+=h.width,delete o.cells[h.index];else if(a){var f=a;delete o.cells[h.index],a=null,f.width=h.width+s}else{var f=o.cells[h.index];if(!f)continue;if(u=f.colSpan,s=0,f.colSpan>1){a=f,s+=h.width;continue}f.width=h.width+s}}}function Z6(t,e){for(var n={count:0,height:0},o=0,a=t.allRows();o<a.length;o++){for(var s=a[o],u=0,c=t.columns;u<c.length;u++){var h=c[u],f=s.cells[h.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Vv(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=Vv(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var _=f.styles.overflow(f.text,g);typeof _=="string"?f.text=[_]:f.text=_}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var A=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<A*f.rowSpan?n={height:A,count:f.rowSpan}:n&&n.count>0&&n.height>A&&(A=n.height),A>s.height&&(s.height=A)}}n.count--}}function Vv(t,e,n,o,a){return t.map(function(s){return Q6(s,e,n,o,a)})}function Q6(t,e,n,o,a){var s=1e4*o.scaleFactor();if(e=Math.ceil(e*s)/s,e>=xd(t,n,o))return t;for(;e<xd(t+a,n,o)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function X5(t,e){var n=new Qu(t),o=$6(e,n.scaleFactor()),a=new Y6(e,o);return j6(n,a),n.applyStyles(n.userStyles),a}function $6(t,e){var n=t.content,o=t8(n.columns);if(n.head.length===0){var a=Yv(o,"head");a&&n.head.push(a)}if(n.foot.length===0){var a=Yv(o,"foot");a&&n.foot.push(a)}var s=t.settings.theme,u=t.styles;return{columns:o,head:Np("head",n.head,o,u,s,e),body:Np("body",n.body,o,u,s,e),foot:Np("foot",n.foot,o,u,s,e)}}function Np(t,e,n,o,a,s){var u={},c=e.map(function(h,f){for(var g=0,_={},A=0,S=0,C=0,I=n;C<I.length;C++){var M=I[C];if(u[M.index]==null||u[M.index].left===0)if(S===0){var R=void 0;Array.isArray(h)?R=h[M.index-A-g]:R=h[M.dataKey];var j={};typeof R=="object"&&!Array.isArray(R)&&(j=(R==null?void 0:R.styles)||{});var q=n8(t,M,f,a,o,s,j),B=new W5(R,q,t);_[M.dataKey]=B,_[M.index]=B,S=B.colSpan-1,u[M.index]={left:B.rowSpan-1,times:S}}else S--,A++;else u[M.index].left--,S=u[M.index].times,g++}return new K5(h,f,t,_)});return c}function Yv(t,e){var n={};return t.forEach(function(o){if(o.raw!=null){var a=e8(e,o.raw);a!=null&&(n[o.dataKey]=a)}}),Object.keys(n).length>0?n:null}function e8(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function t8(t){return t.map(function(e,n){var o,a;return typeof e=="object"?a=(o=e.dataKey)!==null&&o!==void 0?o:n:a=n,new J6(a,e,n)})}function n8(t,e,n,o,a,s,u){var c=M6(o),h;t==="head"?h=a.headStyles:t==="body"?h=a.bodyStyles:t==="foot"&&(h=a.footStyles);var f=hs({},c.table,c[t],a.styles,h),g=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},_=t==="body"?g:{},A=t==="body"&&n%2===0?hs({},c.alternateRow,a.alternateRowStyles):{},S=R6(s),C=hs({},S,f,A,_);return hs(C,u)}function i8(t,e,n){var o;n===void 0&&(n={});var a=V5(t,e),s=new Map,u=[],c=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(A){var S=e.columns.find(function(C){return C.dataKey===A||C.index===A});S&&!s.has(S.index)&&(s.set(S.index,!0),u.push(S.index),c.push(e.columns[S.index]),a-=S.wrappedWidth)});for(var f=!0,g=(o=n==null?void 0:n.start)!==null&&o!==void 0?o:0;g<e.columns.length;){if(s.has(g)){g++;continue}var _=e.columns[g].wrappedWidth;if(f||a>=_)f=!1,u.push(g),c.push(e.columns[g]),a-=_;else break;g++}return{colIndexes:u,columns:c,lastIndex:g-1}}function o8(t,e){for(var n=[],o=0;o<e.columns.length;o++){var a=i8(t,e,{start:o});a.columns.length&&(n.push(a),o=a.lastIndex)}return n}function Z5(t,e){var n=e.settings,o=n.startY,a=n.margin,s={x:a.left,y:o},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=o+a.bottom+u;if(n.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(A,S){return A+S.height},0);c+=f}var g=new Qu(t);(n.pageBreak==="always"||n.startY!=null&&c>g.pageSize().height)&&($5(g),s.y=a.top),e.callWillDrawPageHooks(g,s);var _=hs({},s);e.startPageNumber=g.pageNumber(),n.horizontalPageBreak?r8(g,e,_,s):(g.applyStyles(g.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(A){return gs(g,e,A,s,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(A,S){var C=S===e.body.length-1;Ed(g,e,A,C,_,s,e.columns)}),g.applyStyles(g.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(A){return gs(g,e,A,s,e.columns)})),z5(g,e,_,s),e.callEndPageHooks(g,s),e.finalY=s.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function r8(t,e,n,o){var a=o8(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,g){t.applyStyles(t.userStyles),g>0?Kc(t,e,n,o,f.columns,!0):Jv(t,e,o,f.columns),a8(t,e,n,o,f.columns),Cp(t,e,o,f.columns)});else for(var u=-1,c=a[0],h=function(){var f=u;if(c){t.applyStyles(t.userStyles);var g=c.columns;u>=0?Kc(t,e,n,o,g,!0):Jv(t,e,o,g),f=jv(t,e,u+1,o,g),Cp(t,e,o,g)}var _=f-u;a.slice(1).forEach(function(A){t.applyStyles(t.userStyles),Kc(t,e,n,o,A.columns,!0),jv(t,e,u+1,o,A.columns,_),Cp(t,e,o,A.columns)}),u=f};u<e.body.length-1;)h()}function Jv(t,e,n,o){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return gs(t,e,s,n,o)})}function a8(t,e,n,o,a){t.applyStyles(t.userStyles),e.body.forEach(function(s,u){var c=u===e.body.length-1;Ed(t,e,s,c,n,o,a)})}function jv(t,e,n,o,a,s){t.applyStyles(t.userStyles),s=s??e.body.length;var u=Math.min(n+s,e.body.length),c=-1;return e.body.slice(n,u).forEach(function(h,f){var g=n+f===e.body.length-1,_=Q5(t,e,g,o);h.canEntireRowFit(_,a)&&(gs(t,e,h,o,a),c=n+f)}),c}function Cp(t,e,n,o){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return gs(t,e,s,n,o)})}function s8(t,e,n){var o=n.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),s=Math.floor((e-a)/o);return Math.max(0,s)}function l8(t,e,n,o){var a={};t.spansMultiplePages=!0,t.height=0;for(var s=0,u=0,c=n.columns;u<c.length;u++){var h=c[u],f=t.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new W5(f.raw,f.styles,f.section);g=hs(g,f),g.text=[];var _=s8(f,e,o);f.text.length>_&&(g.text=f.text.splice(_,f.text.length));var A=o.scaleFactor(),S=o.getLineHeightFactor();f.contentHeight=f.getContentHeight(A,S),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>t.height&&(t.height=f.contentHeight),g.contentHeight=g.getContentHeight(A,S),g.contentHeight>s&&(s=g.contentHeight),a[h.index]=g}}var C=new K5(t.raw,-1,t.section,a,!0);C.height=s;for(var I=0,M=n.columns;I<M.length;I++){var h=M[I],g=C.cells[h.index];g&&(g.height=C.height);var f=t.cells[h.index];f&&(f.height=t.height)}return C}function u8(t,e,n,o){var a=t.pageSize().height,s=o.settings.margin,u=s.top+s.bottom,c=a-u;e.section==="body"&&(c-=o.getHeadHeight(o.columns)+o.getFootHeight(o.columns));var h=e.getMinimumRowHeight(o.columns,t),f=h<n;if(h>c)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(o.columns),_=e.getMaxCellHeight(o.columns)>c;return _?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||o.settings.rowPageBreak==="avoid")}function Ed(t,e,n,o,a,s,u){var c=Q5(t,e,o,s);if(n.canEntireRowFit(c,u))gs(t,e,n,s,u);else if(u8(t,n,c,e)){var h=l8(n,c,e,t);gs(t,e,n,s,u),Kc(t,e,a,s,u),Ed(t,e,h,o,a,s,u)}else Kc(t,e,a,s,u),Ed(t,e,n,o,a,s,u)}function gs(t,e,n,o,a){o.x=e.settings.margin.left;for(var s=0,u=a;s<u.length;s++){var c=u[s],h=n.cells[c.index];if(!h){o.x+=c.width;continue}t.applyStyles(h.styles),h.x=o.x,h.y=o.y;var f=e.callCellHooks(t,e.hooks.willDrawCell,h,n,c,o);if(f===!1){o.x+=c.width;continue}c8(t,h,o);var g=h.getTextPos();B5(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,h,n,c,o),o.x+=c.width}o.y+=n.height}function c8(t,e,n){var o=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof o.lineWidth=="number"){var a=G5(o.lineWidth,o.fillColor);a&&t.rect(e.x,n.y,e.width,e.height,a)}else typeof o.lineWidth=="object"&&(o.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),f8(t,e,n,o.lineWidth))}function f8(t,e,n,o){var a,s,u,c;o.top&&(a=n.x,s=n.y,u=n.x+e.width,c=n.y,o.right&&(u+=.5*o.right),o.left&&(a-=.5*o.left),h(o.top,a,s,u,c)),o.bottom&&(a=n.x,s=n.y+e.height,u=n.x+e.width,c=n.y+e.height,o.right&&(u+=.5*o.right),o.left&&(a-=.5*o.left),h(o.bottom,a,s,u,c)),o.left&&(a=n.x,s=n.y,u=n.x,c=n.y+e.height,o.top&&(s-=.5*o.top),o.bottom&&(c+=.5*o.bottom),h(o.left,a,s,u,c)),o.right&&(a=n.x+e.width,s=n.y,u=n.x+e.width,c=n.y+e.height,o.top&&(s-=.5*o.top),o.bottom&&(c+=.5*o.bottom),h(o.right,a,s,u,c));function h(f,g,_,A,S){t.getDocument().setLineWidth(f),t.getDocument().line(g,_,A,S,"S")}}function Q5(t,e,n,o){var a=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-o.y-a}function Kc(t,e,n,o,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(c){return gs(t,e,c,o,a)}),e.callEndPageHooks(t,o);var u=e.settings.margin;z5(t,e,n,o),$5(t),e.pageNumber++,o.x=u.left,o.y=u.top,n.y=u.top,e.callWillDrawPageHooks(t,o),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return gs(t,e,c,o,a)}),t.applyStyles(t.userStyles))}function $5(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function d8(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[0],a=j5(this,o),s=X5(this,a);return Z5(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,o,a){B5(e,n,o,a,this)},t.API.autoTableSetDefaults=function(e){return Qu.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Qu.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var o;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Qu(this),s=J5(a,e,window,n,!1),u=s.head,c=s.body,h=((o=u[0])===null||o===void 0?void 0:o.map(function(f){return f.content}))||[];return{columns:h,rows:c,data:c}}}var Lp;function h8(t,e){var n=j5(t,e),o=X5(t,n);Z5(t,o)}try{if(typeof window<"u"&&window){var Kv=window,Wv=Kv.jsPDF||((Lp=Kv.jspdf)===null||Lp===void 0?void 0:Lp.jsPDF);Wv&&d8(Wv)}}catch(t){console.error("Could not apply autoTable plugin",t)}const p8=(t,e)=>{const n=il[e],o=new ft;o.setFontSize(22),o.text(n.title||"Seizure Alert",14,20),o.setFontSize(14),o.text("Seizure Report",14,30),o.setFontSize(10);const a=new Date().toLocaleDateString();o.text(`Generated on: ${a}`,14,38);const s=t.map(c=>[new Date(c.date).toLocaleDateString(),new Date(c.date).toLocaleTimeString(),c.duration?`${Math.floor(c.duration/60)}m ${c.duration%60}s`:"N/A",c.notes||"No notes"]);h8(o,{startY:45,head:[["Date","Time","Duration","Notes"]],body:s,foot:[["","","",""]],margin:{bottom:40},didDrawPage:c=>{const h=o.internal.pageSize,f=h.height?h.height:h.getHeight();o.setFontSize(8),o.setTextColor(128,128,128);const _=o.splitTextToSize("DISCLAIMER: This application and report are for informational purposes only and do not constitute medical advice, diagnosis, or treatment. Coqui Cloud Dev Co and its developers are not liable for any actions taken based on this information. Always consult a healthcare professional.",o.internal.pageSize.width-30);o.text(_,14,f-25),o.setFontSize(9),o.setTextColor(0,0,0),o.text("Developed by RamonRios.NET",14,f-12),o.setTextColor(100,100,100),o.text(" | Coqui Cloud Dev Co",14+o.getTextWidth("Developed by RamonRios.NET"),f-12),o.setFontSize(8);const A="Page "+o.getNumberOfPages(),S=h.width?h.width:h.getWidth();o.text(A,S-14-o.getTextWidth(A),f-12)}});const u=`Seizure_Report_${new Date().toISOString().split("T")[0]}.pdf`;o.save(u)},g8=({isOpen:t,onClose:e,language:n})=>{const[o,a]=ju("alert_reports",[]),[s,u]=Ye.useState(null),[c,h]=Ye.useState(""),f=il[n],[g,_]=Ye.useState(!1);if(!t)return null;const A=()=>{_(!0)},S=q=>{let B=o;const X=new Date;if(q==="prev_year"){const ve=X.getFullYear()-1;B=o.filter(de=>new Date(de.date).getFullYear()===ve)}else if(typeof q=="number"){const ve=new Date;ve.setMonth(X.getMonth()-q),B=o.filter(de=>new Date(de.date)>=ve)}p8(B,n),_(!1)},C=q=>{const B=Math.floor(q/60).toString().padStart(2,"0"),X=(q%60).toString().padStart(2,"0");return`${B}:${X}`},I=q=>{u(q.id),h(q.notes)},M=()=>{u(null),h("")},R=()=>{s&&(a(q=>q.map(B=>B.id===s?{...B,notes:c}:B)),M())},j=q=>{window.confirm("Are you sure you want to delete this report? This action cannot be undone.")&&a(B=>B.filter(X=>X.id!==q))};return $.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:$.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-3xl h-[90vh] max-h-[800px] flex flex-col relative",children:[g&&$.jsx("div",{className:"absolute inset-0 bg-black/60 z-50 flex items-center justify-center p-4 rounded-lg",children:$.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl shadow-2xl w-full max-w-sm space-y-4 border border-gray-200 dark:border-gray-700",children:[$.jsxs("div",{className:"flex justify-between items-center mb-2",children:[$.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Select Range"}),$.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:$.jsx($u,{className:"w-6 h-6"})})]}),$.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[$.jsx("button",{onClick:()=>S(1),className:"p-3 bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-left font-medium transition-colors",children:"Last Month"}),$.jsx("button",{onClick:()=>S(3),className:"p-3 bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-left font-medium transition-colors",children:"Past 3 Months"}),$.jsx("button",{onClick:()=>S(6),className:"p-3 bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-left font-medium transition-colors",children:"Past 6 Months"}),$.jsx("button",{onClick:()=>S(9),className:"p-3 bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-left font-medium transition-colors",children:"Past 9 Months"}),$.jsx("button",{onClick:()=>S(12),className:"p-3 bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-left font-medium transition-colors",children:"Past Year"}),$.jsxs("button",{onClick:()=>S("prev_year"),className:"p-3 bg-gray-100 dark:bg-gray-800 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-left font-medium transition-colors",children:["Previous Calendar Year (",new Date().getFullYear()-1,")"]}),$.jsx("button",{onClick:()=>S("all"),className:"p-3 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-center font-bold mt-2 shadow-sm transition-colors",children:"Export All Time"})]})]})}),$.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[$.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[$.jsx(Yp,{className:"w-6 h-6"}),f.reportsTitle]}),$.jsxs("div",{className:"flex items-center gap-2",children:[o.length>0&&$.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium transition-colors",title:"Export as PDF",children:[$.jsx(iT,{className:"w-4 h-4"}),$.jsx("span",{className:"hidden sm:inline",children:"Export PDF"})]}),$.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white p-1",children:$.jsx($u,{className:"w-6 h-6"})})]})]}),$.jsx("main",{className:"flex-grow p-6 overflow-y-auto",children:o.length===0?$.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[$.jsx(Yp,{className:"w-24 h-24 text-gray-300 dark:text-gray-600 mb-4"}),$.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:f.noReportsMessage})]}):$.jsx("div",{className:"space-y-4",children:o.map(q=>$.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[$.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[$.jsxs("div",{children:[$.jsx("p",{className:"font-bold text-lg text-gray-800 dark:text-gray-200",children:new Date(q.date).toLocaleString(n,{dateStyle:"long",timeStyle:"short"})}),$.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[$.jsxs("span",{className:"font-semibold",children:[f.reportDurationLabel,":"]})," ",C(q.duration)]})]}),$.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[$.jsx("button",{onClick:()=>I(q),className:"p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50 text-blue-500 hover:text-blue-700 dark:hover:text-blue-400","aria-label":f.editNotes,children:$.jsx(Jp,{className:"w-5 h-5"})}),$.jsx("button",{onClick:()=>j(q.id),className:"p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50 text-red-500 hover:text-red-700 dark:hover:text-red-400","aria-label":f.deleteReport,children:$.jsx(Jy,{className:"w-5 h-5"})})]})]}),$.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[$.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-1",children:f.reportNotesLabel}),s===q.id?$.jsxs("div",{className:"space-y-2",children:[$.jsx("textarea",{value:c,onChange:B=>h(B.target.value),placeholder:f.notesPlaceholder,className:"w-full h-24 p-2 border rounded-md dark:bg-gray-600 dark:border-gray-500 focus:ring-2 focus:ring-blue-500",rows:3}),$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsxs("button",{onClick:R,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-1 text-sm",children:[$.jsx(QE,{className:"w-4 h-4"}),f.saveNotes]}),$.jsx("button",{onClick:M,className:"px-3 py-1 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 text-sm",children:f.cancelNotes})]})]}):$.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:q.notes||$.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"No notes added."})})]})]},q.id))})})]})})},m8=()=>{const[t,e]=Ye.useState("light");Ye.useEffect(()=>{const o=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;e(o||(a?"dark":"light"))},[]),Ye.useEffect(()=>{t==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=Ye.useCallback(()=>{e(o=>o==="light"?"dark":"light")},[]);return[t,n]},v8=({isOpen:t,onClose:e})=>t?$.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-[70] backdrop-blur-sm",onClick:e,children:$.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md flex flex-col transform transition-all border-l-4 border-yellow-500 overflow-hidden",onClick:n=>n.stopPropagation(),children:[$.jsxs("header",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:[$.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 dark:text-yellow-500",children:[$.jsx(y0,{className:"w-6 h-6"}),$.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Medical Disclaimer"})]}),$.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors","aria-label":"Close",children:$.jsx($u,{className:"w-6 h-6"})})]}),$.jsxs("main",{className:"p-6 text-gray-700 dark:text-gray-300 space-y-4",children:[$.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg text-sm text-yellow-800 dark:text-yellow-200",children:[$.jsx("strong",{children:"Important:"})," This application is for informational purposes only."]}),$.jsxs("p",{className:"leading-relaxed",children:["This application is ",$.jsx("strong",{children:"NOT a certified medical device"}),". It is intended as an informational tool to assist in attracting attention and providing guidance to bystanders during a potential medical event."]}),$.jsxs("p",{className:"leading-relaxed",children:["It should not be solely relied upon for emergency situations. In case of a medical emergency, ",$.jsx("strong",{children:"always call your local emergency services immediately."})]}),$.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-100 dark:border-gray-700",children:"The developer assumes no liability for the use or misuse of this application. Is stored locally."})]}),$.jsx("footer",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 flex justify-end",children:$.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"I Understand"})})]})}):null;function y8({theme:t,toggleTheme:e,onOpenSettings:n,onOpenReports:o,onOpenDisclaimer:a,language:s}){const u=il[s],c="p-2 rounded-full shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600";return $.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col items-end gap-2",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("button",{onClick:n,className:c,"aria-label":"Open settings",children:$.jsx(mT,{className:"w-6 h-6"})}),$.jsx("button",{onClick:o,className:c,"aria-label":u.openReports,children:$.jsx(Yp,{className:"w-6 h-6"})})]}),$.jsx("button",{onClick:a,className:"p-2 rounded-full shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-900/50","aria-label":"Medical Disclaimer",children:$.jsx(y0,{className:"w-6 h-6"})})]})}function b8({language:t,setLanguage:e,screen:n,isVisible:o=!0}){if(!o)return null;const a=t==="en"?"es":"en",s=t==="en"?"Espaol":"English",u=()=>n==="alert"?"bg-white/20 text-white hover:bg-white/30 border-white/30 shadow-[0_0_15px_rgba(0,0,0,0.3)]":"bg-white/80 dark:bg-black/40 text-gray-800 dark:text-white border-gray-200 dark:border-white/10 hover:bg-white dark:hover:bg-black/60 shadow-lg backdrop-blur-md";return $.jsx("div",{className:"fixed top-4 left-4 z-[60]",children:$.jsx("button",{onClick:()=>e(a),className:`px-4 py-2 text-sm font-bold rounded-full border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-black ${u()}`,"aria-label":`Switch to ${s}`,children:s})})}function S8(){const[t,e]=Ye.useState("ready"),[n,o]=Ye.useState("en"),[a,s]=Ye.useState(!1),[u,c]=Ye.useState(!1),[h,f]=Ye.useState(!1),[g,_]=Ye.useState(!1),[A,S]=m8(),C=Ye.useCallback(()=>{e("alert")},[]),I=Ye.useCallback(re=>{try{const G={id:Date.now().toString(),date:new Date().toISOString(),duration:re,notes:""},te=localStorage.getItem("alert_reports"),U=te?JSON.parse(te):[],Y=[G,...U];localStorage.setItem("alert_reports",JSON.stringify(Y))}catch(G){console.error("Failed to save alert report:",G)}e("ready")},[]);Ye.useEffect(()=>{new URLSearchParams(window.location.search).get("emergency")==="true"&&C()},[C]),Ye.useEffect(()=>{const re=G=>{(a||u||h)&&(s(!1),c(!1),f(!1))};return window.addEventListener("popstate",re),()=>window.removeEventListener("popstate",re)},[a,u,h,g]);const M=Ye.useCallback(()=>{window.history.pushState({modal:"chat"},""),s(!0)},[]),R=Ye.useCallback(()=>{var re;a&&(((re=window.history.state)==null?void 0:re.modal)==="chat"?window.history.back():s(!1))},[a]),j=Ye.useCallback(()=>{window.history.pushState({modal:"settings"},""),c(!0)},[]),q=Ye.useCallback(()=>{var re;u&&(((re=window.history.state)==null?void 0:re.modal)==="settings"?window.history.back():c(!1))},[u]),B=Ye.useCallback(()=>{window.history.pushState({modal:"reports"},""),f(!0)},[]),X=Ye.useCallback(()=>{var re;h&&(((re=window.history.state)==null?void 0:re.modal)==="reports"?window.history.back():f(!1))},[h]),ve=Ye.useCallback(()=>{window.history.pushState({modal:"disclaimer"},""),_(!0)},[]),de=Ye.useCallback(()=>{var re;g&&(((re=window.history.state)==null?void 0:re.modal)==="disclaimer"?window.history.back():_(!1))},[g]);return $.jsxs("div",{className:"w-screen h-screen overflow-hidden",children:[t==="ready"&&$.jsx(y8,{theme:A,toggleTheme:S,onOpenSettings:j,onOpenReports:B,onOpenDisclaimer:ve,language:n}),t==="ready"&&$.jsx(AS,{language:n,onActivateAlert:C,onOpenChat:M}),t==="alert"&&$.jsx(IT,{language:n,onDeactivateAlert:I}),$.jsx(b8,{language:n,setLanguage:o,screen:t,isVisible:!u&&!h&&!g}),$.jsx(PT,{isOpen:a,onClose:R,language:n}),$.jsx(OT,{isOpen:u,onClose:q,language:n}),$.jsx(g8,{isOpen:h,onClose:X,language:n}),$.jsx(v8,{isOpen:g,onClose:de})]})}const eb=document.getElementById("root");if(!eb)throw new Error("Could not find root element to mount to");const _8=_S.createRoot(eb);_8.render($.jsx(hS.StrictMode,{children:$.jsx(S8,{})}));export{xn as _,A8 as c,Xv as g};
