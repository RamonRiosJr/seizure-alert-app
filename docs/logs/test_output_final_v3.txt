
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/Users/localadmin/OneDrive - Coqui Cloud/Documents/GitHub/seizure-alert-app[39m

 [32mâœ“[39m test/hooks/useBattery.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 34[2mms[22m[39m
[90mstdout[2m | test/hooks/useBLE.test.ts[2m > [22m[2museBLE Auto-Reconnect[2m > [22m[2mshould attempt reconnect if disconnected accidentally
[22m[39mSimulating disconnect...
device 123 disconnected
Accidental disconnect detected. Initiating auto-reconnect...
Attempting to reconnect to 123...

[90mstdout[2m | test/hooks/useBLE.test.ts[2m > [22m[2museBLE Auto-Reconnect[2m > [22m[2mshould attempt reconnect if disconnected accidentally
[22m[39mReconnected successfully!

[90mstdout[2m | test/hooks/useBLE.test.ts[2m > [22m[2museBLE Auto-Reconnect[2m > [22m[2mshould NOT attempt reconnect if disconnected manually
[22m[39mdevice 123 disconnected
Manual disconnect completed.

 [32mâœ“[39m test/hooks/useFallDetectionCore.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m test/hooks/useBLE.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m test/hooks/useEmergencyAlert.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m test/hooks/useLocalStorage.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 41[2mms[22m[39m
[90mstderr[2m | test/hooks/useTTS.test.ts[2m > [22m[2museTTS[2m > [22m[2mshould handle errors
[22m[39mNative TTS Error: Event { isTrusted: [36m[Getter][39m }

 [32mâœ“[39m test/hooks/useTTS.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [31mâ¯[39m test/hooks/useHeartMonitor.test.ts [2m([22m[2m6 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[32m 18[2mms[22m[39m
[31m     [31mÃ—[31m should not trigger alert when HR is below threshold[39m[32m 6[2mms[22m[39m
[31m     [31mÃ—[31m should trigger alert when HR is above threshold (120)[39m[32m 3[2mms[22m[39m
[31m     [31mÃ—[31m should NOT trigger alert if Workout Mode is active[39m[32m 1[2mms[22m[39m
[31m     [31mÃ—[31m should NOT trigger alert if Snooze is active[39m[32m 1[2mms[22m[39m
[31m     [31mÃ—[31m should throttle HR checks when Low Power Mode is enabled[39m[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m should execute snooze function[39m[32m 1[2mms[22m[39m
[90mstdout[2m | test/hooks/usePWAInstall.test.ts[2m > [22m[2musePWAInstall[2m > [22m[2mshould capture beforeinstallprompt event
[22m[39mğŸ‘‹ PWA Install Prompt captured!

[90mstdout[2m | test/hooks/usePWAInstall.test.ts[2m > [22m[2musePWAInstall[2m > [22m[2mshould detect appinstalled event
[22m[39mğŸ‘‹ PWA Install Prompt captured!
âœ… PWA Installed successfully

 [32mâœ“[39m test/hooks/useWakeLock.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m test/hooks/usePWAInstall.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 46[2mms[22m[39m
[90mstdout[2m | test/hooks/useFallDetection.test.ts[2m > [22m[2museFallDetection[2m > [22m[2mshould trigger alert after High G-Force then Stillness
[22m[39mHigh Impact Detected: 25.00m/sÂ²
Fall Confirmed: Impact + Stillness

 [32mâœ“[39m test/hooks/useShake.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 45[2mms[22m[39m
[90mstdout[2m | test/hooks/useFallDetection.test.ts[2m > [22m[2museFallDetection[2m > [22m[2mshould CANCEL alert if Motion occurs after Impact
[22m[39mHigh Impact Detected: 25.00m/sÂ²
Movement detected after impact - cancelling fall alert (gForce: 15.00)

[90mstdout[2m | test/hooks/useFallDetection.test.ts[2m > [22m[2museFallDetection[2m > [22m[2mshould throttle motion events when Low Power Mode is enabled
[22m[39mHigh Impact Detected: 25.00m/sÂ²
Movement detected after impact - cancelling fall alert (gForce: 25.00)

 [32mâœ“[39m test/hooks/useFallDetection.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 57[2mms[22m[39m
 [31mâ¯[39m test/emergency-flow.spec.ts [2m([22m[2m0 test[22m[2m)[22m
 [31mâ¯[39m test/navigation.spec.ts [2m([22m[2m0 test[22m[2m)[22m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 2 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m test/emergency-flow.spec.ts[2m [ test/emergency-flow.spec.ts ][22m
[31m[1mError[22m: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.[39m
[90m [2mâ¯[22m TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:[2m75:13[22m[39m
[90m [2mâ¯[22m TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:[2m115:24[22m[39m
[90m [2mâ¯[22m Function.describe node_modules/playwright/lib/transform/transform.js:[2m282:12[22m[39m
[36m [2mâ¯[22m test/emergency-flow.spec.ts:[2m3:6[22m[39m
    [90m  1| [39m[35mimport[39m { test[33m,[39m expect } [35mfrom[39m [32m'@playwright/test'[39m[33m;[39m
    [90m  2| [39m
    [90m  3| [39mtest[33m.[39m[34mdescribe[39m([32m'Emergency Alert Flow'[39m[33m,[39m () [33m=>[39m {
    [90m   | [39m     [31m^[39m
    [90m  4| [39m  test[33m.[39m[34mbeforeEach[39m([35masync[39m ({ page }) [33m=>[39m {
    [90m  5| [39m    [90m// Mock emergency contacts in localStorage[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯[22m[39m

[41m[1m FAIL [22m[49m test/navigation.spec.ts[2m [ test/navigation.spec.ts ][22m
[31m[1mError[22m: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.[39m
[90m [2mâ¯[22m TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:[2m75:13[22m[39m
[90m [2mâ¯[22m TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:[2m115:24[22m[39m
[90m [2mâ¯[22m Function.describe node_modules/playwright/lib/transform/transform.js:[2m282:12[22m[39m
[36m [2mâ¯[22m test/navigation.spec.ts:[2m3:6[22m[39m
    [90m  1| [39m[35mimport[39m { test[33m,[39m expect } [35mfrom[39m [32m'@playwright/test'[39m[33m;[39m
    [90m  2| [39m
    [90m  3| [39mtest[33m.[39m[34mdescribe[39m([32m'Navigation and Settings'[39m[33m,[39m () [33m=>[39m {
    [90m   | [39m     [31m^[39m
    [90m  4| [39m  test[33m.[39m[34mbeforeEach[39m([35masync[39m ({ page }) [33m=>[39m {
    [90m  5| [39m    [35mawait[39m page[33m.[39m[34mgoto[39m([32m'/'[39m)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/8]â¯[22m[39m


[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 6 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m test/hooks/useHeartMonitor.test.ts[2m > [22museHeartMonitor[2m > [22mshould not trigger alert when HR is below threshold
[41m[1m FAIL [22m[49m test/hooks/useHeartMonitor.test.ts[2m > [22museHeartMonitor[2m > [22mshould trigger alert when HR is above threshold (120)
[41m[1m FAIL [22m[49m test/hooks/useHeartMonitor.test.ts[2m > [22museHeartMonitor[2m > [22mshould NOT trigger alert if Workout Mode is active
[41m[1m FAIL [22m[49m test/hooks/useHeartMonitor.test.ts[2m > [22museHeartMonitor[2m > [22mshould NOT trigger alert if Snooze is active
[41m[1m FAIL [22m[49m test/hooks/useHeartMonitor.test.ts[2m > [22museHeartMonitor[2m > [22mshould throttle HR checks when Low Power Mode is enabled
[41m[1m FAIL [22m[49m test/hooks/useHeartMonitor.test.ts[2m > [22museHeartMonitor[2m > [22mshould execute snooze function
[31m[1mTypeError[22m: __vi_import_3__.useLocalStorage.mockImplementation is not a function[39m
[36m [2mâ¯[22m test/hooks/useHeartMonitor.test.ts:[2m45:31[22m[39m
    [90m 43| [39m    }[33m;[39m
    [90m 44| [39m    (SettingsContext.useSettings as Mock).mockReturnValue(mockSettingsâ€¦
    [90m 45| [39m    (useLocalStorage as Mock).mockImplementation((key, initialValue) =â€¦
    [90m   | [39m                              [31m^[39m
    [90m 46| [39m      [90m// Simple mock implementation of useLocalStorage[39m
    [90m 47| [39m      [35mif[39m (key [33m===[39m [32m'hrThreshold'[39m) [35mreturn[39m [[34m120[39m[33m,[39m vi[33m.[39m[34mfn[39m()][33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/8]â¯[22m[39m


[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m10 passed[39m[22m[90m (13)[39m
[2m      Tests [22m [1m[31m6 failed[39m[22m[2m | [22m[1m[32m47 passed[39m[22m[90m (53)[39m
[2m   Start at [22m 10:53:09
[2m   Duration [22m 9.84s[2m (transform 1.43s, setup 4.71s, import 6.34s, tests 465ms, environment 50.67s)[22m

